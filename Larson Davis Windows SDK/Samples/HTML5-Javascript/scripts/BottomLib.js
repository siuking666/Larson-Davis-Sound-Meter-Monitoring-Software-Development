/*! jQuery File Tree Plugin
Version 1.01
Cory S.N. LaViska
Copyright (c) 2008 A Beautiful Site, LLC (http://abeautifulsite.net/)
24 March 2008
Modified by Brent Iverson 2015
*/
function showPassword(){var n=document.getElementById("showPassword");document.getElementById("tbNetPass").type=n.checked?"TEXT":"PASSWORD"}function setScanning(){bScan=!0;bScanLeftAP=!1;$("#cfIpAdd").html("<img src='/images/scanning.gif' style='width:16px; height:16px;vertical-align:middle;'/> Scanning")}function setConnecting(){$("#cfIpAdd").html("<img src='/images/scanning.gif' style='width:16px; height:16px;vertical-align:middle;'/> Connecting")}function clearScan(){bScan=!1}function getStreng(n){var u=15,r,t,i;return IsHvm()&&(u=4),r=Math.floor(n/u),t="WifiImg",OnSettingTabs&&(t=""),i="<img src='/images/Wifi0.png' class='"+t+"' />",r==1?i="<img src='/images/Wifi1.png' class='"+t+"' />":r==2?i="<img src='/images/Wifi2.png' class='"+t+"' />":r==3?i="<img src='/images/Wifi3.png' class='"+t+"' />":r==4?i="<img src='/images/Wifi4.png' class='"+t+"' />":r>=5&&(i="<img src='/images/Wifi5.png' class='"+t+"' />"),i}function setupNets(){return(netDetails==undefined||netDetails.length<=0)&&(netDetails=$("#netDetails"),wifiImg=$("#wifiImg")),wfStatCnt=0,setNets()}function setNets(){if(cfIpAdd.length===0&&(cfIpAdd=$("#cfIpAdd")),wfOnPage)return $.getJSON("/sdk?func=getWiFiStatus",function(n){++wfStatCnt;var t=n.WiFiStatus&&n.WiFiStatus.State?n.WiFiStatus.State:"";if(wfCurState=t,console.log("State: "+t+" - "+wfStatCnt),t.indexOf("Disabled")>-1)enabled&&toggleWifiImg(),clearScan(),cfIpAdd.html("WiFi Disabled"),$("#netReboot").hide(),mTblCurrent.hide();else{if(t==="AccessPoint"&&(isAP=!0),wfStatCnt>45)return wfStatCnt=0,clearScan(),clearTimeout(wfNetStatTime),wfNetStatTime=setTimeout(setNets,3e3),upList();if(t==="Connecting"||t==="EstablishingAP")!1==bScan?setConnecting():bScanLeftAP=!0,clearTimeout(wfNetStatTime),wfNetStatTime=setTimeout(setNets,1e3);else{if(t==="UnableToConnect"||t==="Disconnected")return!1==bScan?cfIpAdd.text("Not Connected"):bScanLeftAP=!0,clearTimeout(wfNetStatTime),wfNetStatTime=setTimeout(setNets,2e3),upList();if(t==="Connected"||t==="AccessPoint"||t==="ConnectedStatic")return wfStatCnt=0,clearTimeout(wfNetStatTime),wfNetStatTime=setTimeout(setNets,2e3),(bScanLeftAP||ModelNumber!==mHVM200||"Connected"===t||"ConnectedStatic"===t)&&clearScan(),upList()}}}).fail(function(){clearTimeout(wfNetStatTime);wfNetStatTime=setTimeout(setNets,2e3);clearScan()})}function showAPBtn(){onAwesome||$("#btnSetAP").show()}function upList(n){return $.getJSON("/sdk?func=GetWiFiList",function(n){var f,t,i,r,u;if(n.Answer==="Generating"||n.Answer==="Still Generating")return wfGener=!0,clearTimeout(wfStatTime),wfStatTime=setTimeout(upList,1e3);for(wfGener=!1,mTblCurrent.children().remove(),curNet=GenerateCache(n.Networks),f=curNet.length,content="",t=0;t<f;t++)i="mnuItem sens",IsRemote&&(i+=" hoverable"),t==0&&(i+=" hover"),t%2==0&&(i+=" alternate"),r="<img src='/images/Locked.png' class='lockImg' />",curNet[t].Security!="on"&&(r="<img src='/images/space.gif' class='lockImg' />"),u="<div style='position:relative'>"+r+getStreng(curNet[t].Signal)+"<\/div>",curNet[t].Status=="Not Visible"&&(u=""),content+="<tr style='font-size:1em' class='"+i+"' data-num='"+t+"'><td style='width:80%'>"+curNet[t].SSID+"<br><span style='font-size:0.9em'>"+curNet[t].Status+"<\/span><\/td><td style='width:20%'>"+u+"<\/td><\/tr>";mTblCurrent.append(content);WifiMan&&WifiMan.selChange(WifiMan.lastIndex);dispHG(!1)}).fail(function(){return wfStatTime=setTimeout(function(){wfStatCnt<10?upList():dispHG(!1)},1e3)}).always(function(){wfGener||typeof n!="undefined"||n==!0||getIPAddr(20)})}function getIPAddr(n){if(n!==undefined&&n<=0){cfIpAdd.text("No IP Address");isAP=!1;return}if("Connecting"===wfCurState||"EstablishingAP"===wfCurState){setConnecting();return}if("UnableToConnect"===wfCurState){cfIpAdd.text("Not Connected");return}$.getJSON("/sdk?func=GetIpAddress",function(t){if(t.info!=undefined&&(t=t.info),t.Network!==undefined&&t.Network.IP!==undefined){var i=t.Network.IP;typeof i!="undefined"&&i==="192.168.1.1"?(cfIpAdd.text("My IP: "+i+" - Access Point"),isAP=!0,$("#btnSetAP").hide()):typeof i!="undefined"&&i===""?(setTimeout(function(){getIPAddr(--n)},1e3),showAPBtn()):typeof i!="undefined"?("ConnectedStatic"===wfCurState?cfIpAdd.text("My IP: "+i+" - No DHCP"):cfIpAdd.text("My IP: "+i),isAP=!1,showAPBtn()):(cfIpAdd.parent().hide(),isAP=!1,showAPBtn())}}).fail(function(){clearScan();$("#cfIpAdd").text("Error obtaining WiFi info.")})}function setupWFNets(){setupNets()}function wfChkStat(n){$.getJSON("/sdk?func=getWiFiStatus",function(t){if(t.WiFiStatus==="Resource: Disabled not found!")cfIpAdd.html("WiFi Disabled"),$("#netReboot").hide(),mTblCurrent.hide(),enabled=!1,clearScan();else{if(wfStatCnt>45)return wfStatCnt=0,upList();typeof t.WiFiStatus=="undefined"||t.WiFiStatus.State==="Connecting"||t.WiFiStatus.State==="EstablishingAP"?wfStatTime=setTimeout(wfChkStat,1e3,n):t.WiFiStatus.State==="UnableToConnect"?(cfIpAdd.text("Not Connected"),wfStatTime=setTimeout(wfChkStat,1e3,n)):(t.WiFiStatus.State==="Connected"||t.WiFiStatus.State==="AccessPoint")&&(wfStatTime=setTimeout(n,2e3))}}).fail(function(){wfStatTime=setTimeout(wfChkStat,1e3,n)})}function wfChkAP(){$.getJSON("/sdk?func=GetIpAddress",function(n){if(n.info!=undefined&&(n=n.info),n.Network!=undefined&&n.Network.IP!=undefined){var t=n.Network.IP;typeof t!="undefined"&&t=="192.168.1.1"?confDialog.callConfirm("","Meter is now set to be an Access Point.",function(){console.log("Meter is now set to be an Access Point.")},{Can:{on:"off"}}):confDialog.callConfirm("Warning","Failed changing WiFi to Access Point mode.",function(){},{Can:{on:"off"}})}dispHG(!1);setupNets()}).fail(function(){clearScan();confDialog.callConfirm("Warning","Failed changing WiFi to Access Point mode.",function(){},{Can:{on:"off"}})})}function toggleWifiImg(){enabled=!enabled;wifiImg.attr("src","/images/"+(enabled?"PowerOn.png":"PowerOff.png"));wifiImg.attr("title",enabled?"Turn WiFi off":"Turn WiFi on");$("#netRef").hide();$("#btnAddWifi").hide();$("#btnSetAP").hide()}function netCloseAddPop(){netPass.hide();$("#bgOvly").hide();setTimeout(function(){kbCon!=undefined&&kbCon.pop();popFooters()},10)}function netAddPop(n){kbCon!=undefined&&kbCon.push(dlgCon,netPass);addWifiCb=n;netPass.show();curNet!=undefined&&curNet[selCNet]!=undefined&&curNet[selCNet].SSID!=undefined&&curNet[selCNet].Status!="Connected"?($("#tbNetSSID").val(curNet[selCNet].SSID),$("#tbNetPass").val("").focus()):$("#tbNetSSID").focus();Object.keys(ftr).length>1&&(ftr.lf.push(!1),ftr.rt.push(!1),ftr.mi.push("button","Close",netCloseAddPop));$("#bgOvly").show()}function closeNetDetails(){$("#bgOvly").hide();netDetails.hide();setTimeout(function(){kbCon!=undefined&&kbCon.pop();popFooters()},10)}function popFooters(){Object.keys(ftr).length>1&&(ftr.lf.pop(),ftr.mi.pop(),ftr.rt.pop())}function initWifi(){if(!isWifiInitd){netDetails=$("#netDetails");wifiImg=$("#wifiImg");Networks=$("#Networks");netPass=$("#netPass");$("#netCL").off("click").on("click",function(){Networks.hide();wfOnPage=!1;kbCon!=undefined&&kbCon.pop()});$("#netPassCL").off("click").on("click",function(){netPass.hide();$("#bgOvly").hide();kbCon!=undefined&&kbCon.pop();popFooters()});$("#netDetCL").off("click").on("click",function(){closeNetDetails()});$("#tbNetPass").on("change",function(){!g4&&IsRemote&&confDialog.callConfirm("Warning","The password will be sent in plain text. Use G4 for added security.",function(){},{Can:{on:"off"}})});isWifiInitd=!0;setAsAP=function(){var n="Set WiFi mode to Access Point?";typeof confDialog=="undefined"&&initConfDlg();setTimeout(function(){confDialog.callConfirm("",n,function(){setConnecting();typeof $mainView!="undefined"&&dispHG(!0);$.getJSON("/sdk?func=SetAsAP",function(){console.log("Set Access Point: ");wfStatCnt=0;upList(!0);wfStatCnt=0;wfChkStat(wfChkAP)}).fail(function(){clearScan();confDialog.callConfirm("","You must have at least one configured WiFi network.",function(){},{Can:{on:"off"}})})})},20)};refreshNetworks=function(){isAP?(typeof confDialog=="undefined"&&initConfDlg(),typeof confDialog!="undefined"?confDialog.callConfirm("Warning","If you are connected via Access Point, connection will be lost.",fnNetRef):confirm(curNet[selCNet].SSID+": If you are connected via Access Point, connection will be lost. ")&&fnNetRef()):fnNetRef()};$("#btnSetAP").off("click").on("click",function(){setAsAP()});$("#netReboot").off("click").on("click",function(){confDialog.callConfirm("","The meter will stop and reboot.",function(){$.getJSON("/sdk?func=sendCommand&id=0x83A3",function(){confDialog.callConfirm("","Rebooting",function(){},{Can:{on:"off"},Conf:{on:"off"}})})})});$("#btnDisable").off("click").on("click",function(){enabled?confDialog.callConfirm("","Are you sure you want to disable WiFi (connectivity over WiFi will be lost)? WiFi may be re-enabled via USB.",function(){console.log("Disable Wifi: ");toggleWifiImg();$("#netReboot").hide();mTblCurrent.hide();cfIpAdd.html("WiFi Disabled");$.getJSON("/sdk?func=wifitog&on=false",function(){})}):confDialog.callConfirm("","Turn on WiFi?  (Requires reboot to take effect.)",function(){$.getJSON("/sdk?func=wifitog&on=true",function(){console.log("enable wifi: ");toggleWifiImg();cfIpAdd.html("Reboot to Enable WiFi");$("#netReboot").show()}).fail(function(){confDialog.callConfirm("Warning","Failed to enable WiFi.",function(){},{Can:{on:"off"}})})})});$("#btnAddWifi").off("click").on("click",function(){netAddPop()});$("#btnAddWifiPass").off("click").on("click",function(){var n=$("#tbNetPass").val();if($("#tbNetSSID").val()==""){confDialog.callConfirm("","You must enter a valid WiFi network name (SSID).",function(){},{Can:{on:"off"}});return}n.length==0||n.length>=8?(netPass.hide(),$("#bgOvly").hide(),AddWifi(),addWifiCb!=undefined&&(addWifiCb(),addWifiCb=undefined),$("#tbNetPass").val(""),netCloseAddPop()):setTimeout(function(){confDialog.callConfirm("","Either no password or at least an 8 character password must be entered to match your WiFi network.",function(){},{Can:{on:"off"}})},10)});$("#btndRemove").off("click").on("click",function(){closeNetDetails();setTimeout(function(){typeof confDialog=="undefined"&&initConfDlg();typeof confDialog!="undefined"?confDialog.callConfirm("",curNet[selCNet].SSID+": Are you sure you wish to forget this WiFi network? ",delssid):confirm(curNet[selCNet].SSID+": Are you sure you wish to forget this WiFi network? ")&&delssid()},20)});$("#btndConnect").off("click").on("click",function(){closeNetDetails();curNet[selCNet].Status=="Connected"?console.log("hmm"):curNet[selCNet].Status=="Saved"||curNet[selCNet].Status=="Not Visible"?SwToWF():curNet[selCNet].Status=="Open"?($("#tbNetSSID").val(curNet[selCNet].SSID),$("#tbNetPass").val(""),AddWifi(),SwToWF()):curNet[selCNet].Status=="Secured"&&setTimeout(function(){netAddPop(SwToWF)},20)});$("#btndCancel").off("click").on("click",function(){closeNetDetails()});$("#netRef").off("click").on("click",function(){refreshNetworks()});checkSetNMeter();OnMeter&&OnSettingTabs&&cfInSet()}}function fnNetRef(){bScan||(setScanning(),$.getJSON("/sdk?func=refreshWiFi").always(function(){setupNets()}).fail(function(){clearScan()}))}function AddWifi(){g4?console.log("G4~ AddWifi("+$("#tbNetSSID").val()+":"+btoa($("#tbNetPass").val())+")"):$.ajax("/sdk?func=AddWifi",{data:JSON.stringify({ssid:$("#tbNetSSID").val(),password:btoa($("#tbNetPass").val())}),type:"POST",processData:!1,contentType:"application/json"}).done(function(){console.log("Added: "+$("#tbNetSSID").val());setupNets()}).fail(function(){clearScan();alert("Error adding WiFi.")})}function wfChkWF(){$.getJSON("/sdk?func=GetIpAddress",function(n){if(n.info!=undefined&&(n=n.info),n.Network!=undefined&&n.Network.IP!=undefined){var t=n.Network.IP;typeof t!="undefined"&&t=="192.168.1.1"?confDialog.callConfirm("Warning","Failed to Connect to Network. Meter is still an Access Point.",function(){console.log("Failed to Connect to Network. Meter is still an Access Point.")},{Can:{on:"off"}}):typeof t!="undefined"?t!=""?confDialog.callConfirm("","Meter is now connected with IP: "+t,function(){console.log("Meter is now connected with IP: "+t)},{Can:{on:"off"}}):setTimeout(wfChkWF,1e3):confDialog.callConfirm("","Meter is resetting WiFi."+t,function(){console.log("Meter is resetting WiFi.")},{Can:{on:"off"}})}setupNets(!0)})}function SwToWF(){if(typeof confDialog=="undefined"&&initConfDlg(),typeof confDialog!="undefined"){var n="Connect to WiFi network?";setTimeout(function(){confDialog.callConfirm("",n,function(){curNet!=undefined&&curNet[selCNet]!=undefined?(setConnecting(),$.ajax("/sdk?func=ConnectToNetwork",{data:JSON.stringify({ssid:curNet[selCNet].SSID}),type:"POST",processData:!1,contentType:"application/json"}).done(function(){console.log("SwToWF");console.log("Reset Connection: "+curNet[selCNet].SSID);wfStatCnt=0;upList(!0);wfStatCnt=0;wfChkStat(wfChkWF)}).fail(function(){clearScan();confDialog.callConfirm("Warning","Failed to connect to network.",function(){},{Can:{on:"off"}})})):(clearScan(),confDialog.callConfirm("","You must have at least one configured WiFi network.",function(){},{Can:{on:"off"}}))})},20)}}function delssid(){$.ajax("/sdk?func=RemoveWifi",{data:JSON.stringify({ssid:curNet[selCNet].SSID}),type:"POST",processData:!1,contentType:"application/json"}).done(function(n){console.log("Deleted: "+curNet[selCNet].SSID+" - "+n);setupNets()})}function openNetDetails(){$("#bgOvly").show();netDetails.show();Object.keys(ftr).length>1&&(ftr.lf.push(!1),ftr.rt.push(!1),ftr.mi.push("button","",closeNetDetails));kbCon!=undefined&&kbCon.push(dlgCon,netDetails);$("#ndTitle").text(curNet[selCNet].SSID);var n="<img src='/images/Locked.png' style='height:18px;' /> Secured";curNet[selCNet].Security!="on"&&(n="<img src='/images/space.gif'style='height:18px;width:0px' /> Open");curNet[selCNet].Status=="Connected"?($("#ndStatus").text("Connected").parent().show(),$("#ndSpeed").text(curNet[selCNet].LinkSpd).parent().show(),$("#ndIP").text(curNet[selCNet].IPAddress).parent().show(),$("#btndConnect").hide()):($("#ndStatus").parent().hide(),$("#ndSpeed").parent().hide(),$("#ndIP").parent().hide(),$("#btndConnect").show());curNet[selCNet].Status=="Saved"||curNet[selCNet].Status=="Not Visible"?$("#btndRemove").show():$("#btndRemove").hide();$("#ndSignal").html(getStreng(curNet[selCNet].Signal)+" "+curNet[selCNet].Signal+"/"+maxSignal);$("#ndSecure").html(n);netDetails.find(searchFocDef).not(":hidden").first().focus()}function cfInSet(){Networks.css({"font-size":"12px"});Networks.removeClass("nicePop").show();Networks.find("h1").hide();Networks.find("#netCL").hide();Networks.find("#btnSetAP").css({"font-size":"10px","margin-left":"2px"});Networks.find("#btnAddWifi").css({"font-size":"10px","margin-left":"2px"});setupNets();Networks.find("#netRef").find("img").css({height:"12px",width:"12px"});Networks.find("#dvMain").css({height:"175px"})}function cfOnAwesome(){initWifi();Networks.removeClass("nicePop").show();Networks.find("h1").hide();Networks.find("#netCL").hide();Networks.find("#topWifiBar").hide();Networks.find("#btnSetAP").hide();Networks.find("#btnAddWifi").hide();setupNets();Networks.find("#cfIpAdd").addClass("cCy");$("#netsTbl").removeClass("ndsmall").addClass("ndsmallAw");Networks.find("#cfIpAdd").css("font-size","0.75em");Networks.find("#netRef").find("img").css({height:"12px",width:"12px"});Networks.find("#dvMain").css({height:"200px",width:"100%"});$("#btndRemove").css("font-size","0.7em");$("#btndConnect").css("font-size","0.7em");$("#btndCancel").css("font-size","0.7em");maxSignal=100;$("#netDetails").css("top","0px");Networks.find(".wifiHr").css({"background-color":"gray","-webkit-margin-before":".25em","-webkit-margin-after":".25em"})}function closeWifi(){popPage();wfOnPage=!1;menuOpen=!1}function getWifiStrength(){$.getJSON("/sdk?func=getWifiStatus").done(function(n){if(n.WiFiStatus!=undefined&&n.WiFiStatus.Quality!=undefined){var t=n.WiFiStatus.Quality;wifiStrength=t>=60?3:t>=40?2:t>=20?1:0}})}function FillDataStructs(n){$.getJSON("/sdk?func=getCalSettings",function(t){cals=t.CalSettings.calibrators;preamp=t.CalSettings.preamp;n!=undefined&&n()})}function GetCerts(n){$.getJSON("/sdk?func=getCertSettings",function(t){certs=t.CertSettings;n(0)})}function closeDataExplorer(){popPage();menuOpen=!1}var bScan,bScanLeftAP,wfOnPage,wfStatTime,wfNetStatTime,wfStatCnt,wfCurState,cfIpAdd,onAwesome,wfGener,enabled,addWifiCb,isWifiInitd,netDetails,wifiImg,Networks,netPass,maxSignal,WifiMan,wifiStrength,AboutTb,StandTb,OptTb,UserTb,CalibrationTab,SensitivityTab,CertificationTab,SysUtils,suCon,BtnMenu,SetupMgr,sysDevice,sysTime,sysNTP,sysPower,sysPref,sysLocal,sysDisp,sysOpts,spNet,sysEmail,sysWireless,sysSms,sysModem,sysRS232,sysOther,RefSpec,sysLock,sysLocked,pwrOff,mpGen,mpSLM,mpOBA,mpLn,mpCtrl,mpTime,mpTrig,mpEvnt,mpMark,mpDN,mpSnd,mpWthr,mpDos1,mpDos2,mpFFT,mpFFTCtrl,mpFFTTon,mpRAGen,mpRT60,mpRT60Adv,mpRASrc,jqxBaseFramework;jQuery&&function(n){n.extend(n.fn,{fileTree:function(t,i){var r=this,t;return r.selFile={},t||(t={}),t.root==undefined&&(t.root="/"),t.script==undefined&&(t.script="/sdk?func=getdatafilelist"),t.folderEvent==undefined&&(t.folderEvent="dblclick"),t.selectEvent==undefined&&(t.selectEvent="click"),t.expandSpeed==undefined&&(t.expandSpeed=500),t.collapseSpeed==undefined&&(t.collapseSpeed=500),t.expandEasing==undefined&&(t.expandEasing=null),t.collapseEasing==undefined&&(t.collapseEasing=null),t.multiFolder==undefined&&(t.multiFolder=!0),t.loadMessage==undefined&&(t.loadMessage="Loading..."),n(this).each(function(){function f(n){var t=function(){};return t.prototype=n,new t}function e(n){var l,e,w,o,r,a,y,i,h,c,p,v;for(console.log(n),SysPropFiles=f(n.DataFiles),l=SysPropFiles.length,console.log("numFiles: "+l),e="",y=0,w="/images/Gear.png",i=y;i<l;++i){var u=SysPropFiles[i].name.split("."),o=u[0],t=undefined,s=undefined;u.length>1&&(t=u[1].toLowerCase());u.length>2&&(s=u[2].toLowerCase());undefined!=t&&("hvm2"!=t||"raw"!=t)&&undefined!=s&&("rc0"==t?t+=s:(o+="."+t,t=s));r=new Date(SysPropFiles[i].startTime*1e3);h=r.getUTCHours();c=r.getUTCMinutes();a=r.getUTCFullYear()+"/"+(r.getMonth()+1)+"/"+r.getDate()+" "+(h<10?"0"+h.toString():h.toString())+":"+(c<10?"0"+c.toString():c.toString());p=getFSz(SysPropFiles[i].size);e='\t<li class="file ext_'+t+'"><a href="#" rel="'+o+"\" data-fname='"+o+"."+t+"' data-index='"+SysPropFiles[i].index+"' title='Ended: "+a+"'>"+o+"<\/a><span>&nbsp;&nbsp;&nbsp;&nbsp;"+a+"&nbsp;&nbsp;&nbsp;"+p+"<\/span><\/li>\n"+e}return v='<ul class="jqueryFileTree',IsHvm()&&(v+=" listFormatHVM valText"),v+('" style="display: block;">\n'+e+"<\/ul>")}function u(i,r){n(i).addClass("wait");n(".jqueryFileTree.start").remove();n.post(t.script,{dir:r},function(u){var f=e(u);n(i).find(".start").html("");n(i).removeClass("wait").append(f);t.root==r?n(i).find("UL:hidden").show():n(i).find("UL:hidden").slideDown({duration:t.expandSpeed,easing:t.expandEasing});o(i)})}function o(f){n(f).find("LI A").bind(t.folderEvent,function(){return n(this).parent().hasClass("directory")?n(this).parent().hasClass("collapsed")?(t.multiFolder||(n(this).parent().parent().find("UL").slideUp({duration:t.collapseSpeed,easing:t.collapseEasing}),n(this).parent().parent().find("LI.directory").removeClass("expanded").addClass("collapsed")),n(this).parent().find("UL").remove(),u(n(this).parent(),escape(n(this).attr("rel").match(/.*\//))),n(this).parent().removeClass("collapsed").addClass("expanded")):(n(this).parent().find("UL").slideUp({duration:t.collapseSpeed,easing:t.collapseEasing}),n(this).parent().removeClass("expanded").addClass("collapsed")):i(n(this)),!1}).bind(t.selectEvent,function(){return r.selFile=n(this),r.selFile.parent().addClass("selected").siblings("li").removeClass("selected"),!1});t.folderEvent.toLowerCase!="click"&&t.selectEvent.toLowerCase()!="click"&&n(f).find("LI A").bind("click",function(){return!1})}n(this).html('<ul class="jqueryFileTree start"><li class="wait">'+t.loadMessage+"<li><\/ul>");u(n(this),escape(t.root))}),this}})}(jQuery);
/*!
 * jQuery MobiScroll v2.6.2
 * http://mobiscroll.com
 *
 * Copyright 2010-2013, Acid Media
 * Licensed under the MIT license.
 *
 */
(function(n){function tt(o,a){function tr(n,t,i){if(n.stopPropagation(),n.preventDefault(),!vt&&!si(t)&&!t.hasClass("dwa")){vt=!0;var r=t.find(".dw-ul");ir(r);clearInterval(wi);i(r)}}function si(t){if(n.isArray(b.readonly)){var i=n(".dwwl",tt).index(t);return b.readonly[i]}return b.readonly}function cr(t){var i='<div class="dw-bf">',r=nr[t],u=r.values?r:y(r),f=1,e=u.labels||[],o=u.values,s=u.keys||o;return n.each(o,function(n,t){f%20==0&&(i+='<\/div><div class="dw-bf">');i+='<div role="option" aria-selected="false" class="dw-li dw-v" data-val="'+s[n]+'"'+(e[n]?' aria-label="'+e[n]+'"':"")+' style="height:'+ft+"px;line-height:"+ft+'px;"><div class="dw-i">'+t+"<\/div><\/div>";f++}),i+="<\/div>"}function ir(t){dt=n(".dw-li",t).index(n(".dw-v",t).eq(0));gt=n(".dw-li",t).index(n(".dw-v",t).eq(-1));ct=n(".dw-ul",tt).index(t)}function gr(n){var t=b.headerText;return t?typeof t=="function"?t.call(pt,n):t.replace(/\{value\}/i,n):""}function lr(){p.temp=ti&&p.val!==null&&p.val!=rt.val()||p.values===null?b.parseValue(rt.val()||"",p):p.values.slice(0);ai()}function nu(t){var r=window.getComputedStyle?getComputedStyle(t[0]):t[0].style,i,u;return c?(n.each(["t","webkitT","MozT","OT","msT"],function(n,t){if(r[t+"ransform"]!==undefined)return i=r[t+"ransform"],!1}),i=i.split(")")[0].split(", "),u=i[13]||i[5]):u=r.top.replace("px",""),Math.round(vi-u/ft)}function ar(n,t){clearTimeout(ni[t]);delete ni[t];n.closest(".dwwl").removeClass("dwa")}function hi(n,t,i,r,u){var f=(vi-i)*ft,e=n[0].style;f==oi[t]&&ni[t]||(r&&f!=oi[t]&&et("onAnimStart",[tt,t,r]),oi[t]=f,e[k+"Transition"]="all "+(r?r.toFixed(3):0)+"s ease-out",c?e[k+"Transform"]="translate3d(0,"+f+"px,0)":e.top=f+"px",ni[t]&&ar(n,t),r&&u&&(n.closest(".dwwl").addClass("dwa"),ni[t]=setTimeout(function(){ar(n,t)},r*1e3)),ui[t]=i)}function ci(t,i,r,u,f){et("validate",[tt,i,t])!==!1&&(n(".dw-ul",tt).each(function(r){var c=n(this),e=n('.dw-li[data-val="'+p.temp[r]+'"]',c),l=n(".dw-li",c),o=l.index(e),w=l.length,v=r==i||i===undefined;if(!e.hasClass("dw-v")){for(var y=e,a=e,s=0,h=0;o-s>=0&&!y.hasClass("dw-v");)s++,y=l.eq(o-s);while(o+h<w&&!a.hasClass("dw-v"))h++,a=l.eq(o+h);(h<s&&h&&u!==2||!s||o-s<0||u==1)&&a.hasClass("dw-v")?(e=a,o=o+h):(e=y,o=o-s)}(!e.hasClass("dw-sel")||v)&&(p.temp[r]=e.attr("data-val"),n(".dw-sel",c).removeClass("dw-sel"),b.multiple||(n(".dw-sel",c).removeAttr("aria-selected"),e.attr("aria-selected","true")),e.addClass("dw-sel"),hi(c,r,o,v?t:.1,v?f:!1))}),it=b.formatResult(p.temp),b.display=="inline"?ai(r,0,!0):n(".dwv",tt).html(gr(it)),r&&et("onChange",[it]))}function et(t,i){var r;return i.push(p),n.each([fi.defaults,gi,a],function(n,u){u[t]&&(r=u[t].apply(pt,i))}),r}function li(t,i,u,f,e){i=r(i,dt,gt);var h=n(".dw-li",t).eq(i),c=e===undefined?i:e,o=ct,s=0;p.temp[o]=h.attr("data-val");hi(t,o,i,s,e);setTimeout(function(){ci(s,o,!0,u,e!==undefined)},10)}function vr(n){var t=ui[ct]+1;li(n,t>gt?dt:t,1,!0)}function yr(n){var t=ui[ct]-1;li(n,t<dt?gt:t,2,!0)}function ai(n,t,i,r){var f,u;if(bt&&!i&&ci(t),b.hcap!=undefined&&b.hcap>24){it="";for(f in p.temp){for(u=p.temp[f].toString();u.length<2;)u="0"+u;it=it+u+":"}it=it.substr(0,it.length-1);b.minval!=undefined&&b.minval>it&&(it=b.minval)}else it=b.formatResult(p.temp);r||(p.values=p.temp.slice(0),p.val=it);n&&ti&&rt.val(it).trigger("change")}var vi,ft,it,tt,lt,ot,yi,kt,ht,pi,at,rr,fi,ur,vt,ii,ei,wt,fr,er,yt,ri,dt,gt,st,ct,wi,bi,ki,p=this,di=n.mobiscroll,pt=o,rt=n(pt),b=t({},nt),gi={},ni={},ui={},oi={},nr=[],ti=rt.is("input"),bt=!1,pr=function(t){if(v(t)&&!e&&!si(this)&&!vt){t.preventDefault();e=!0;ii=b.mode!="clickpick";st=n(".dw-ul",this);ir(st);ei=ni[ct]!==undefined;ri=ei?nu(st):ui[ct];wt=i(t,"Y");fr=new Date;yt=wt;hi(st,ct,ri,.001);ii&&st.closest(".dwwl").addClass("dwa");n(document).on(g,or).on(f,sr)}},or=function(n){ii&&(n.preventDefault(),n.stopPropagation(),yt=i(n,"Y"),hi(st,ct,r(ri+(wt-yt)/ft,dt-1,gt+1)));ei=!0},sr=function(){var s=new Date-fr,l=r(ri+(wt-yt)/ft,dt-1,gt+1),i,t,u,a=st.offset().top;if(s<300?(i=(yt-wt)/s,t=i*i/b.speedUnit,yt-wt<0&&(t=-t)):t=yt-wt,u=Math.round(ri-t/ft),!t&&!ei){var h=Math.floor((yt-a)/ft),o=n(".dw-li",st).eq(h),c=ii;et("onValueTap",[o])!==!1?u=h:c=!0;c&&(o.addClass("dw-hl"),setTimeout(function(){o.removeClass("dw-hl")},200))}ii&&li(st,u,0,!0,Math.round(l));e=!1;st=null;n(document).off(g,or).off(f,sr)},wr=function(t){var i=n(this);n(document).on(f,hr);i.hasClass("dwb-d")||i.addClass("dwb-a");setTimeout(function(){i.blur()},10);i.hasClass("dwwb")&&v(t)&&tr(t,i.closest(".dwwl"),i.hasClass("dwwbp")?vr:yr)},hr=function(){vt&&(clearInterval(wi),vt=!1);n(document).off(f,hr);n(".dwb-a",tt).removeClass("dwb-a")},br=function(t){if(!si(this)){if(vt=!1,t.timeStamp-er<80)return;er=t.timeStamp;var i=n(this);t.keyCode==13?p.select():t.keyCode==27?p.cancel():t.keyCode==38?(i.find(".dw-i").removeClass("tpDg"),tr(t,i,yr),setTimeout(function(){i.find(".dw-sel").find(".dw-i").addClass("tpDg")},50)):t.keyCode==40?(i.find(".dw-i").removeClass("tpDg"),tr(t,i,vr),setTimeout(function(){i.find(".dw-sel").find(".dw-i").addClass("tpDg")},50)):(t.keyCode==37||t.keyCode==39)&&(t.keyCode==37?i.hasClass("dwwl0")||(i.find(".dw-i").removeClass("tpDg"),i.closest("td").prev().find(".dwww").focus(),i.closest("td").prev().find(".dw-sel").find(".dw-i").addClass("tpDg")):t.keyCode==39&&(i.hasClass("dwwl2")||(i.find(".dw-i").removeClass("tpDg"),i.closest("td").next().find(".dwww").focus(),i.closest("td").next().find(".dw-sel").find(".dw-i").addClass("tpDg"))));t.preventDefault();t.stopPropagation()}},kr=function(){vt&&(clearInterval(wi),vt=!1)},dr=function(t){var i,r,u;si(this)||(i=n(this),t.preventDefault(),t=t.originalEvent||t,r=t.wheelDelta?t.wheelDelta/120:t.detail?-t.detail/3:0,u=n(".dw-ul",this),i.parent().parent().find(".tpDg").removeClass("tpDg"),ir(u),li(u,Math.round(ui[ct]-r),r<0?1:2),setTimeout(function(){i.find(".dw-sel").find(".dw-i").addClass("tpDg");i.closest("td").find(".dwww").focus()},30))};p.position=function(t){if(b.display!="inline"&&(lt!==n(window).width()||yi!==n(window).height()||!t)&&et("onPosition",[tt])!==!1){var e,u,i,a,k,v,s,y,d,p,g,nt,h=0,c=0,f=n(window).scrollTop(),it=n(".dwwr",tt),o=n(".dw",tt),l={},w=b.anchor===undefined?rt:b.anchor;lt=n(window).width();yi=n(window).height();ot=window.innerHeight;ot=ot||yi;/modal|bubble/.test(b.display)&&(n(".dwc",tt).each(function(){e=n(this).outerWidth(!0);h+=e;c=e>c?e:c}),e=h>lt?c:h,it.width(e).css("white-space",h>lt?"":"nowrap"));kt=o.outerWidth();ht=o.outerHeight(!0);pi=ht<=ot&&kt<=lt;b.display=="modal"?(u=(lt-kt)/2,i=f+(ot-ht)/2):b.display=="bubble"?(nt=!0,d=n(".dw-arrw-i",tt),v=w.offset(),s=v.top,y=v.left,a=w.outerWidth(),k=w.outerHeight(),u=y-(o.outerWidth(!0)-a)/2,u=u>lt-kt?lt-(kt+20):u,u=u>=0?u:20,i=s-ht,i<f||s>f+ot?(o.removeClass("dw-bubble-top").addClass("dw-bubble-bottom"),i=s+k):o.removeClass("dw-bubble-bottom").addClass("dw-bubble-top"),p=d.outerWidth(),g=y+a/2-(u+(kt-p)/2),n(".dw-arr",tt).css({left:r(g,0,p)})):(l.width="95%",b.display=="top"?i=f:b.display=="bottom"&&(i=f+ot-ht));l.top=i<0?0:i;l.left=u;o.css(l);n(".dw-persp",tt).height(0).height(i+ht>n(document).height()?i+ht:n(document).height());nt&&(i+ht>f+ot||s>f+ot)&&n(window).scrollTop(i+ht-ot)}};p.enable=function(){b.disabled=!1;ti&&rt.prop("disabled",!1)};p.disable=function(){b.disabled=!0;ti&&rt.prop("disabled",!0)};p.setValue=function(t,i,r,u){p.temp=n.isArray(t)?t.slice(0):b.parseValue.call(pt,t+"",p);ai(i,r,!1,u)};p.getValue=function(){return p.values};p.getValues=function(){var n=[];for(var t in p._selectedValues)n.push(p._selectedValues[t]);return n};p.changeWheel=function(t,i){if(tt){var r=0,u=t.length;n.each(b.wheels,function(f,e){return n.each(e,function(f,e){if(n.inArray(r,t)>-1&&(nr[r]=e,n(".dw-ul",tt).eq(r).html(cr(r)),u--,!u))return p.position(),ci(i,undefined,!0),!1;r++}),u?void 0:!1})}};p.isVisible=function(){return bt};p.tap=function(n,t){var r,f;if(b.tap)n.on("touchstart.dw",function(n){n.preventDefault();r=i(n,"X");f=i(n,"Y")}).on("touchend.dw",function(n){Math.abs(i(n,"X")-r)<20&&Math.abs(i(n,"Y")-f)<20&&t.call(this,n);u=!0;setTimeout(function(){u=!1},300)});n.on("click.dw",function(n){u||t.call(this,n)})};p.show=function(t){var f,r,u,i;if(b.disabled||bt)return!1;if(b.display=="top"&&(at="slidedown"),b.display=="bottom"&&(at="slideup"),lr(),et("onBeforeShow",[]),r=0,u="",at&&!t&&(u="dw-"+at+" dw-in"),i='<div role="dialog" id="mbScrl" class="'+b.theme+" dw-"+b.display+(l?" dw"+l:"")+'">'+(b.display=="inline"?'<div class="dw dwbg dwi dwtrs"><div class="dwwr dwtrs">':'<div class="dw-persp"><div class="dwo"><\/div><div class="dw dwtrs dwbg '+u+'"><div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"><\/div><\/div><\/div><div class="dwwr dwtrs"><div aria-live="assertive" id="txtBar" class="dwv'+(b.headerText?"":" dw-hidden")+'"><\/div>')+'<div class="dwcc tpBg">',n.each(b.wheels,function(t,u){i+='<div class="dwc'+(b.mode!="scroller"?" dwpm":" dwsc")+(b.showLabel?"":" dwhl")+'"><div class="dwwc dwrc"><table cellpadding="0" cellspacing="0"><tr>';n.each(u,function(n,t){nr[r]=t;f=t.label!==undefined?t.label:n;i+='<td><div class="dwwl dwrc dwwl'+r+'">'+(b.mode!="scroller"?'<div class="dwb-e dwwb dwwbp" style="height:'+ft+"px;line-height:"+ft+'px;"><span>+<\/span><\/div><div class="dwb-e dwwb dwwbm" style="height:'+ft+"px;line-height:"+ft+'px;"><span>&ndash;<\/span><\/div>':"")+'<div class="dwl dtpLbl cLbl">'+f+'<\/div><div tabindex="0" aria-live="off" aria-label="'+f+'" role="listbox" class="dwww"><div class="dww" style="height:'+b.rows*ft+"px;min-width:"+b.width+'px;"><div class="dw-ul">';i+=cr(r);i+='<\/div><div class="dwwol"><\/div><\/div><div class="dwwo"><\/div><\/div><div class="dwwol"><\/div><\/div><\/td>';r++});i+="<\/tr><\/table><\/div><\/div>"}),i+="<\/div>",i+=!0===g4||ModelNumber===mHVM200||ModelNumber===mHVM100?'<div style="margin-left:10px"><div id="acptBtn" role="button" class="yes dwBtn" tabindex="1">OK<\/div><div id="cnclBtn" role="button" class="yes dwBtn" tabindex="0">Cancel<\/div>':'<div id="clickSpace" class="dwtrs" style="width:100%; height:100px"><\/div>',i+="<\/div><\/div><\/div>",tt=n(i),ci(),et("onMarkupReady",[tt]),b.display!="inline"?(tt.appendTo("body"),at&&!t&&(tt.addClass("dw-trans"),setTimeout(function(){tt.removeClass("dw-trans").find(".dw").removeClass(u)},350))):rt.is("div")?rt.html(tt):tt.insertAfter(rt),et("onMarkupInserted",[tt]),bt=!0,fi.init(tt,p),b.display!="inline"){p.tap(n(".dwb-s div",tt),function(){p.select()});p.tap(n(".dwb-c div",tt),function(){p.cancel()});b.button3&&p.tap(n(".dwb-n span",tt),b.button3);n(window).on("keydown.dw",function(n){n.keyCode==13?p.select():n.keyCode==27&&p.cancel()});if(b.scrollLock)tt.on("touchmove touchstart",function(n){pi&&n.preventDefault()});n("input,select,button").each(function(){this.disabled||(n(this).attr("autocomplete")&&n(this).data("autocomplete",n(this).attr("autocomplete")),n(this).addClass("dwtd").prop("disabled",!0).attr("autocomplete","off"))});p.position();n(window).on("orientationchange.dw resize.dw scroll.dw",function(n){clearTimeout(rr);rr=setTimeout(function(){var t=n.type=="scroll";(t&&pi||!t)&&p.position(!t)},100)});p.alert(b.ariaDesc)}n(".dwwl",tt).on("DOMMouseScroll mousewheel",dr).on(d,pr).on("keydown",br).on("keyup",kr);tt.on(d,".dwb-e",wr).on("keydown",".dwb-e",function(t){t.keyCode==32&&(t.preventDefault(),t.stopPropagation(),n(this).click())});if(window.mobiOpen=!0,et("onShow",[tt,it]),n(".dwwl",tt).first().find(".dwww:first").focus(),n(".dwwl",tt).first().find(".dw-sel").find(".dw-i").addClass("tpDg"),n("#txtBar").css("display","none"),g4==!1||ModelNumber===mHVM200||ModelNumber===mHVM100)n("#clickSpace").on("click touch touchend",function(){p.select()});n("#acptBtn").on("click touch touchend",function(){p.select()});n("#cnclBtn").on("click touch touchend",function(){p.cancel()})};p.hide=function(t,i){if(!bt||et("onClose",[it,i])===!1)return!1;n(".dwtd").each(function(){n(this).prop("disabled",!1).removeClass("dwtd");n(this).data("autocomplete")?n(this).attr("autocomplete",n(this).data("autocomplete")):n(this).removeAttr("autocomplete")});tt&&(b.display!="inline"&&at&&!t?(tt.addClass("dw-trans").find(".dw").addClass("dw-"+at+" dw-out"),setTimeout(function(){tt.remove();tt=null},350)):(tt.remove(),tt=null),n(window).off(".dw"));oi={};bt=!1;ki=!0;window.mobiOpen=!1;rt.focus()};p.select=function(){p.hide(!1,"set")!==!1&&(ai(!0,0,!0),et("onSelect",[p.val]))};p.alert=function(n){s.text(n);clearTimeout(w);w=setTimeout(function(){s.text("")},5e3)};p.cancel=function(){p.hide(!1,"cancel")!==!1&&et("onCancel",[p.val])};p.init=function(n){fi=t({defaults:{},init:ut},di.themes[n.theme||b.theme]);ur=di.i18n[n.lang||b.lang];t(a,n);t(b,fi.defaults,ur,a);p.settings=b;rt.off(".dw");var i=di.presets[b.preset];if(i&&(gi=i.call(pt,p),t(b,gi,a)),vi=Math.floor(b.rows/2),ft=b.height,at=b.animate,bt&&p.hide(),b.display=="inline")p.show();else{if(lr(),ti&&(bi===undefined&&(bi=pt.readOnly),b.showOnFocus))rt.on("focus.dw",function(){ki||p.show();ki=!1});b.showOnTap&&p.tap(rt,function(){p.show()})}};p.trigger=function(n,t){return et(n,t)};p.option=function(n,t){var i={};typeof n=="object"?i=n:i[n]=t;p.init(i)};p.destroy=function(){p.hide();rt.off(".dw");delete h[pt.id];ti&&(pt.readOnly=bi)};p.getInst=function(){return p};p.values=null;p.val=null;p.temp=null;p._selectedValues={};p.init(a)}function a(n){for(var t in n)if(ft[n[t]]!==undefined)return!0;return!1}function it(){var n=["Webkit","Moz","O","ms"];for(var t in n)if(a([n[t]+"Transform"]))return"-"+n[t].toLowerCase();return""}function v(n){if(n.type==="touchstart")o=!0;else if(o)return o=!1,!1;return!0}function i(n,t){var i=n.originalEvent,r=n.changedTouches;return r||i&&i.changedTouches?i?i.changedTouches[0]["page"+t]:r[0]["page"+t]:n["page"+t]}function r(n,t,i){return Math.max(t,Math.min(n,i))}function y(t){var i={values:[],keys:[]};return n.each(t,function(n,t){i.keys.push(n);i.values.push(t)}),i}function p(n,t,i){var r=n;return typeof t=="object"?n.each(function(){this.id||(b+=1,this.id="mobiscroll"+b);h[this.id]=new tt(this,t)}):(typeof t=="string"&&n.each(function(){var n,u=h[this.id];if(u&&u[t]&&(n=u[t].apply(this,Array.prototype.slice.call(i,1)),n!==undefined))return r=n,!1}),r)}var e,u,o,w,s,rt=new Date,b=rt.getTime(),h={},ut=function(){},ft=document.createElement("modernizr").style,c=a(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),l=it(),k=l.replace(/^\-/,"").replace("moz","Moz"),t=n.extend,d="touchstart mousedown",g="touchmove mousemove",f="touchend mouseup",nt={width:70,height:40,rows:3,delay:300,disabled:!1,readonly:!1,showOnFocus:!1,showOnTap:!0,showLabel:!0,wheels:[],theme:"",headerText:"{value}",display:"modal",mode:"scroller",preset:"",lang:"en-US",setText:"Set",cancelText:"Cancel",ariaDesc:"Select a value",scrollLock:!0,tap:!0,speedUnit:.0012,timeUnit:.1,formatResult:function(n){return n.join(" ")},parseValue:function(t,i){var e=t.split(" "),r=[],u=0,f;return n.each(i.settings.wheels,function(t,i){n.each(i,function(t,i){i=i.values?i:y(i);f=i.keys||i.values;n.inArray(e[u],f)!==-1?r.push(e[u]):r.push(f[0]);u++})}),r}};n(function(){s=n('<div class="dw-hidden" role="alert"><\/div>').appendTo("body")});n(document).on("mouseover mouseup mousedown click",function(n){if(u)return n.stopPropagation(),n.preventDefault(),!1});n.fn.mobiscroll=function(i){return t(this,n.mobiscroll.shorts),p(this,i,arguments)};n.mobiscroll=n.mobiscroll||{setDefaults:function(n){t(nt,n)},presetShort:function(n){this.shorts[n]=function(i){return p(this,t(i,{preset:n}),arguments)}},has3d:c,shorts:{},presets:{},themes:{},i18n:{}};n.scroller=n.scroller||n.mobiscroll;n.fn.scroller=n.fn.scroller||n.fn.mobiscroll})(jQuery),function(n){var t=n.mobiscroll,r=new Date,i={dateFormat:"dd-mm-yy",dateOrder:"ddmmyy",timeWheels:"HHiiss",timeFormat:"HH:ii:ss",startYear:r.getFullYear()-1,endYear:r.getFullYear()+10,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortYearCutoff:"+10",monthText:"Month",dayText:"Day",yearText:"Year",hourText:"Hours",minuteText:"Minutes",secText:"Seconds",ampmText:"&nbsp;",nowText:"Now",showNow:!1,stepHour:1,stepMinute:1,stepSecond:1,separator:" "},u=function(r){function y(n,t,i){return s[t]!==undefined?+n[s[t]]:i!==undefined?i:st[h[t]]?st[h[t]]():h[t](st)}function b(n,t,i,r){n.push({values:i,keys:t,label:r})}function g(n,t){return Math.floor(n/t)*t}function bt(n){var t=n.getHours();return t=d&&t>0?d:rt&&t>=12?t-12:t,g(t,stepH)}function kt(n){return g(n.getMinutes(),stepM)}function dt(n){return g(n.getSeconds(),stepS)}function gt(n){return wt&&n.getHours()>11?1:0}function ht(n){var t=y(n,"h",0);return new Date(y(n,"y"),y(n,"m"),y(n,"d",1),y(n,"a")?t+12:t,y(n,"i",0),y(n,"s",0))}var nt=n(this),tt={},l,ft,et,ut,vt;if(nt.is("input")){switch(nt.attr("type")){case"date":l="yyyy-mm-dd";break;case"datetime":l="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":l="yy-mm-ddTHH:ii:ss";break;case"month":l="yy-mm";tt.dateOrder="mmyy";break;case"time":l="HH:ii:ss"}ft=nt.attr("min");et=nt.attr("max");ft&&(tt.minDate=t.parseDate(l,ft));et&&(tt.maxDate=t.parseDate(l,et))}var u,c,e,o,a,ct,lt,yt=n.extend({},r.settings),f=n.extend(r.settings,i,tt,yt),v=0,ot=[],p=[],s={},h={y:"getFullYear",m:"getMonth",d:"getDate",h:bt,i:kt,s:dt,a:gt},it=f.preset,k=f.dateOrder,w=f.timeWheels,pt=k.match(/D/),wt=w.match(/a/i),rt=w.match(/h/),at=it=="datetime"?f.dateFormat+f.separator+f.timeFormat:it=="time"?f.timeFormat:f.dateFormat,st=new Date,d=f.hcap;if(stepH=f.stepHour,stepM=f.stepMinute,stepS=f.stepSecond,mind=f.minDate||new Date(f.startYear,0,1),maxd=f.maxDate||new Date(f.endYear,11,31,23,59,59),l=l||at,it.match(/date/i)){for(n.each(["y","m","d"],function(n,t){u=k.search(new RegExp(t,"i"));u>-1&&p.push({o:u,v:t})}),p.sort(function(n,t){return n.o>t.o?1:-1}),n.each(p,function(n,t){s[t.v]=n}),a=[],c=0;c<3;c++)if(c==s.y){for(v++,o=[],e=[],ct=mind.getFullYear(),lt=maxd.getFullYear(),u=ct;u<=lt;u++)e.push(u),o.push(k.match(/yy/i)?u:(u+"").substr(2,2));b(a,e,o,f.yearText)}else if(c==s.m){for(v++,o=[],e=[],u=0;u<12;u++)ut=k.replace(/[dy]/gi,"").replace(/mm/,u<9?"0"+(u+1):u+1).replace(/m/,u+1),e.push(u),o.push(ut.match(/MM/)?ut.replace(/MM/,'<span class="dw-mon">'+f.monthNames[u]+"<\/span>"):ut.replace(/M/,'<span class="dw-mon">'+f.monthNamesShort[u]+"<\/span>"));b(a,e,o,f.monthText)}else if(c==s.d){for(v++,o=[],e=[],u=1;u<32;u++)e.push(u),o.push(k.match(/dd/i)&&u<10?"0"+u:u);b(a,e,o,f.dayText)}ot.push(a)}if(it.match(/time/i)){for(p=[],n.each(["h","i","s","a"],function(n,t){n=w.search(new RegExp(t,"i"));n>-1&&p.push({o:n,v:t})}),p.sort(function(n,t){return n.o>t.o?1:-1}),n.each(p,function(n,t){s[t.v]=v+n}),a=[],c=v;c<v+4;c++)if(c==s.h){for(v++,o=[],e=[],u=0;u<(d!=undefined?d:rt?12:24);u+=stepH)e.push(u),o.push(rt&&u==0?12:w.match(/hh/i)&&u<10?"0"+u:u);b(a,e,o,f.hourText)}else if(c==s.i){for(v++,o=[],e=[],u=0;u<60;u+=stepM)e.push(u),o.push(w.match(/ii/)&&u<10?"0"+u:u);b(a,e,o,f.minuteText)}else if(c==s.s){for(v++,o=[],e=[],u=0;u<60;u+=stepS)e.push(u),o.push(w.match(/ss/)&&u<10?"0"+u:u);b(a,e,o,f.secText)}else c==s.a&&(v++,vt=w.match(/A/),b(a,[0,1],vt?["AM","PM"]:["am","pm"],f.ampmText));ot.push(a)}return r.setDate=function(n,t,i,u){for(var f in s)r.temp[s[f]]=n[h[f]]?n[h[f]]():h[f](n);r.setValue(r.temp,t,i,u)},r.getDate=function(n){return ht(n?r.temp:r.values)},{button3Text:f.showNow?f.nowText:undefined,button3:f.showNow?function(){r.setDate(new Date,!1,.3,!0)}:undefined,wheels:ot,headerText:function(){return t.formatDate(at,ht(r.temp),f)},formatResult:function(n){return t.formatDate(l,ht(n),f)},parseValue:function(n){var r=new Date,i,u=[];try{r=t.parseDate(l,n,f)}catch(e){}for(i in s)u[s[i]]=r[h[i]]?r[h[i]]():h[i](r);return u},validate:function(t){var i=r.temp,o={y:mind.getFullYear(),m:0,d:1,h:0,i:0,s:0,a:0},c={y:maxd.getFullYear(),m:11,d:31,h:g(d!=undefined?d:rt?11:23,stepH),i:g(59,stepM),s:g(59,stepS),a:1},u=!0,e=!0;n.each(["y","m","d","a","h","i","s"],function(r,l){var b,ut,nt;if(s[l]!==undefined){var d=o[l],p=c[l],tt=31,v=y(i,l),a=n(".dw-ul",t).eq(s[l]),g,w;if(l=="d"&&(g=y(i,"y"),w=y(i,"m"),tt=32-new Date(g,w,32).getDate(),p=tt,pt&&n(".dw-li",a).each(function(){var r=n(this),t=r.data("val"),u=new Date(g,w,t).getDay(),i=k.replace(/[my]/gi,"").replace(/dd/,t<10?"0"+t:t).replace(/d/,t);n(".dw-i",r).html(i.match(/DD/)?i.replace(/DD/,'<span class="dw-day">'+f.dayNames[u]+"<\/span>"):i.replace(/D/,'<span class="dw-day">'+f.dayNamesShort[u]+"<\/span>"))})),u&&mind&&(d=mind[h[l]]?mind[h[l]]():h[l](mind)),e&&maxd&&(p=maxd[h[l]]?maxd[h[l]]():h[l](maxd)),l!="y"){var ft=n(".dw-li",a).index(n('.dw-li[data-val="'+d+'"]',a)),it=n(".dw-li",a).index(n('.dw-li[data-val="'+p+'"]',a)),rt=n(".dw-li",a);rt.removeClass("dw-v");it==-1?it=rt.length:it+=1;rt.slice(ft,it).addClass("dw-v");l=="d"&&n(".dw-li",a).removeClass("dw-h").slice(tt).addClass("dw-h")}v<d&&(v=d);v>p&&(v=p);u&&(u=v==d);e&&(e=v==p);f.invalid&&l=="d"&&(b=[],f.invalid.dates&&n.each(f.invalid.dates,function(n,t){t.getFullYear()==g&&t.getMonth()==w&&b.push(t.getDate()-1)}),f.invalid.daysOfWeek&&(ut=new Date(g,w,1).getDay(),n.each(f.invalid.daysOfWeek,function(n,t){for(nt=t-ut;nt<tt;nt+=7)nt>=0&&b.push(nt)})),f.invalid.daysOfMonth&&n.each(f.invalid.daysOfMonth,function(n,t){t=(t+"").split("/");t[1]?t[0]-1==w&&b.push(t[1]-1):b.push(t[0]-1)}),n.each(b,function(t,i){n(".dw-li",a).eq(i).removeClass("dw-v")}));i[s[l]]=v}})}}};n.each(["date","time","datetime"],function(n,i){t.presets[i]=u;t.presetShort(i)});t.formatDate=function(t,r,u){var h;if(!r)return null;for(var c=n.extend({},i,u),s=function(n){for(var i=0;e+1<t.length&&t.charAt(e+1)==n;)i++,e++;return i},o=function(n,t,i){var r=""+t;if(s(n))while(r.length<i)r="0"+r;return r},a=function(n,t,i,r){return s(n)?r[t]:i[t]},f="",l=!1,e=0;e<t.length;e++)if(l)t.charAt(e)!="'"||s("'")?f+=t.charAt(e):l=!1;else switch(t.charAt(e)){case"d":f+=o("d",r.getDate(),2);break;case"D":f+=a("D",r.getDay(),c.dayNamesShort,c.dayNames);break;case"o":f+=o("o",(r.getTime()-new Date(r.getFullYear(),0,0).getTime())/864e5,3);break;case"m":f+=o("m",r.getMonth()+1,2);break;case"M":f+=a("M",r.getMonth(),c.monthNamesShort,c.monthNames);break;case"y":f+=s("y")?r.getFullYear():(r.getYear()%100<10?"0":"")+r.getYear()%100;break;case"h":h=r.getHours();f+=o("h",h>12?h-12:h==0?12:h,2);break;case"H":f+=u.hcap?o("H",r.getHours()+r.getDay()*24,2):o("H",r.getHours(),2);break;case"i":f+=o("i",r.getMinutes(),2);break;case"s":f+=o("s",r.getSeconds(),2);break;case"a":f+=r.getHours()>11?"pm":"am";break;case"A":f+=r.getHours()>11?"PM":"AM";break;case"'":s("'")?f+="'":l=!0;break;default:f+=t.charAt(e)}return f};t.parseDate=function(t,r,u){var c=new Date,tt,p;if(!t||!r)return c;r=typeof r=="object"?r.toString():r+"";for(var a=n.extend({},i,u),k=a.shortYearCutoff,s=c.getFullYear(),h=c.getMonth()+1,l=c.getDate(),d=-1,f=c.getHours(),it=c.getMinutes(),rt=0,v=-1,g=!1,w=function(n){var i=o+1<t.length&&t.charAt(o+1)==n;return i&&o++,i},e=function(n){w(n);var i=n=="@"?14:n=="!"?20:n=="y"?4:n=="o"?3:2,u=new RegExp("^\\d{1,"+i+"}"),t=r.substr(y).match(u);return t?(y+=t[0].length,parseInt(t[0],10)):0},b=function(n,t,i){for(var f=w(n)?i:t,u=0;u<f.length;u++)if(r.substr(y,f[u].length).toLowerCase()==f[u].toLowerCase())return y+=f[u].length,u+1;return 0},nt=function(){y++},y=0,o=0;o<t.length;o++)if(g)t.charAt(o)!="'"||w("'")?nt():g=!1;else switch(t.charAt(o)){case"d":l=e("d");break;case"D":b("D",a.dayNamesShort,a.dayNames);break;case"o":d=e("o");break;case"m":h=e("m");break;case"M":h=b("M",a.monthNamesShort,a.monthNames);break;case"y":s=e("y");break;case"H":f=e("H");break;case"h":f=e("h");break;case"i":it=e("i");break;case"s":rt=e("s");break;case"a":v=b("a",["am","pm"],["am","pm"])-1;break;case"A":v=b("A",["am","pm"],["am","pm"])-1;break;case"'":w("'")?nt():g=!0;break;default:nt()}if(s<100&&(s+=(new Date).getFullYear()-(new Date).getFullYear()%100+(s<=(typeof k!="string"?k:(new Date).getFullYear()%100+parseInt(k,10))?0:-100)),d>-1){h=1;l=d;do{if(tt=32-new Date(s,h-1,32).getDate(),l<=tt)break;h++;l-=tt}while(1)}if(f=v==-1?f:v&&f<12?f+12:!v&&f==12?0:f,p=new Date(s,h-1,l,f,it,rt),p.getFullYear()!=s||p.getMonth()+1!=h||p.getDate()!=l)throw"Invalid date";return p}}(jQuery),function(n){var t=n.mobiscroll,i={invalid:[],showInput:!0,inputClass:""},r=function(t){function p(t,i,r,u){for(var f=0,e,o;f<i;)e=n(".dwwl"+f,t),o=it(u,f,r),n.each(o,function(t,i){n('.dw-li[data-val="'+i+'"]',e).removeClass("dw-v")}),f++}function it(n,t,i){for(var r=0,f,u=i,e=[],o;r<t;){o=n[r];for(f in u)if(u[f].key==o){u=u[f].children;break}r++}for(r=0;r<u.length;)u[r].invalid&&e.push(u[r].key),r++;return e}function rt(n,t){for(var i=[];n;)i[--n]=!0;return i[t]=!1,i}function ut(n){for(var i=[],t=0;t<n;t++)i[t]=r.labels&&r.labels[t]?r.labels[t]:t;return i}function v(n,t,i){var f=0,r,c,s,h=[],u=e;if(t)for(r=0;r<t;r++)h[r]=[{}];while(f<n.length){for(h[f]=[ft(u,g[f])],r=0,s=undefined;r<u.length&&s===undefined;)u[r].key==n[f]&&(i!==undefined&&f<=i||i===undefined)&&(s=r),r++;if(s!==undefined&&u[s].children)f++,u=u[s].children;else if((c=o(u))&&c.children)f++,u=c.children;else return h}return h}function o(n,t){if(!n)return!1;for(var i=0,r;i<n.length;)if(!(r=n[i++]).invalid)return t?i-1:r;return!1}function ft(n,t){for(var r={keys:[],values:[],label:t},i=0;i<n.length;)r.values.push(n[i].value),r.keys.push(n[i].key),i++;return r}function w(t,i){n(".dwc",t).css("display","").slice(i).hide()}function et(n){for(var i=[],r=n,t,u=!0,f=0;u;)t=o(r),i[f++]=t.key,(u=t.children)&&(r=t.children);return i}function b(n,t){var c=[],r=e,u=0,h=!1,f,s,i;if(n[u]!==undefined&&u<=t)for(f=0,s=n[u],i=undefined;f<r.length&&i===undefined;)r[f].key!=n[u]||r[f].invalid||(i=f),f++;else i=o(r,!0),s=r[i].key;for(h=i!==undefined?r[i].children:!1,c[u]=s;h;){if(r=r[i].children,u++,h=!1,i=undefined,n[u]!==undefined&&u<=t)for(f=0,s=n[u],i=undefined;f<r.length&&i===undefined;)r[f].key!=n[u]||r[f].invalid||(i=f),f++;else i=o(r,!0),i=i===!1?undefined:i,s=r[i].key;h=i!==undefined&&o(r[i].children)?r[i].children:!1;c[u]=s}return{lvl:u+1,nVector:c}}function k(t){var i=[];return f=f>c++?f:c,t.children("li").each(function(t){var r=n(this),u=r.clone();u.children("ul,ol").remove();var o=u.html().replace(/^\s\s*/,"").replace(/\s\s*$/,""),s=r.data("invalid")?!0:!1,f={key:r.data("val")||t,value:o,invalid:s,children:null},e=r.children("ul,ol");e.length&&(f.children=k(e));i.push(f)}),c--,i}var d=n.extend({},t.settings),r=n.extend(t.settings,i,d),h=n(this),u,s,y=this.id+"_dummy",f=0,c=0,l={},e=r.wheelArray||k(h),g=ut(f),a=[],nt=et(e),tt=v(nt,f);return n("#"+y).remove(),r.showInput&&(u=n('<input type="text" id="'+y+'" value="" class="'+r.inputClass+'" readonly />').insertBefore(h),t.settings.anchor=u,r.showOnFocus&&u.focus(function(){t.show()}),r.showOnTap&&t.tap(u,function(){t.show()})),r.wheelArray||h.hide().closest(".ui-field-contain").trigger("create"),{width:50,wheels:tt,headerText:!1,onBeforeShow:function(){var n=t.temp;a=n.slice(0);t.settings.wheels=v(n,f,f);s=!0},onSelect:function(n){u&&u.val(n)},onChange:function(n){u&&r.display=="inline"&&u.val(n)},onClose:function(){u&&u.blur()},onShow:function(t){n(".dwwl",t).on("mousedown touchstart",function(){clearTimeout(l[n(".dwwl",t).index(this)])})},validate:function(n,i,r){var o=t.temp,u;if((i===undefined||a[i]==o[i])&&(i!==undefined||s))u=b(o,o.length),p(n,u.lvl,e,o),w(n,u.lvl);else{t.settings.wheels=v(o,null,i);var h=[],c=(i||0)+1,u=b(o,i);for(i!==undefined&&(t.temp=u.nVector.slice(0));c<u.lvl;)h.push(c++);if(w(n,u.lvl),a=t.temp.slice(0),h.length)return s=!0,t.settings.readonly=rt(f,i),clearTimeout(l[i]),l[i]=setTimeout(function(){t.changeWheel(h);t.settings.readonly=!1},r*1e3),!1;p(n,u.lvl,e,t.temp)}s=!1}}};n.each(["list","image","treelist"],function(n,i){t.presets[i]=r;t.presetShort(i)})}(jQuery),function(n){var t={inputClass:"",invalid:[],rtl:!1,group:!1,groupLabel:"Groups"};n.mobiscroll.presetShort("select");n.mobiscroll.presets.select=function(i){function nt(){var e,f=0,t=[],i=[],o=[[]];return r.group?(r.rtl&&(f=1),n("optgroup",u).each(function(r){t.push(n(this).attr("label"));i.push(r)}),o[f]=[{values:t,keys:i,label:r.groupLabel}],e=h,f+=r.rtl?-1:1):e=u,t=[],i=[],n("option",e).each(function(){var r=n(this).attr("value");t.push(n(this).text());i.push(r);n(this).prop("disabled")&&it.push(r)}),o[f]=[{values:t,keys:i,label:et}],o}function k(n,t){var f=[],o,r;if(s){o=[];r=0;for(r in i._selectedValues)o.push(v[r]),f.push(r);c.val(o.join(", "))}else c.val(n),f=t?i.values[e]:null;t&&(w=!0,u.val(f).trigger("change"))}function ut(n){if(s&&n.hasClass("dw-v")&&n.closest(".dw").find(".dw-ul").index(n.closest(".dw-ul"))==e){var t=n.attr("data-val"),u=n.hasClass("dw-msel");return u?(n.removeClass("dw-msel").removeAttr("aria-selected"),delete i._selectedValues[t]):(n.addClass("dw-msel").attr("aria-selected","true"),i._selectedValues[t]=t),r.display=="inline"&&k(t,!0),!1}}var ft=n.extend({},i.settings),r=n.extend(i.settings,t,ft),u=n(this),s=u.prop("multiple"),p=this.id+"_dummy",f=s?u.val()?u.val()[0]:n("option",u).attr("value"):u.val(),h=u.find('option[value="'+f+'"]').parent(),l=h.index()+"",o=l,w,st=n('label[for="'+this.id+'"]').attr("for",p),tt=n('label[for="'+p+'"]'),et=r.label!==undefined?r.label:tt.length?tt.text():u.attr("name"),it=[],b=[],v={},a,e,g,c,rt=r.readonly,ot,d,y;for(r.group&&!n("optgroup",u).length&&(r.group=!1),r.invalid.length||(r.invalid=it),r.group?r.rtl?(a=1,e=0):(a=0,e=1):(a=-1,e=0),n("#"+p).remove(),c=n('<input type="text" id="'+p+'" class="'+r.inputClass+'" readonly />').insertBefore(u),n("option",u).each(function(){v[n(this).attr("value")]=n(this).text()}),r.showOnFocus&&c.focus(function(){i.show()}),r.showOnTap&&i.tap(c,function(){i.show()}),d=u.val()||[],y=0;y<d.length;y++)i._selectedValues[d[y]]=d[y];return k(v[f]),u.off(".dwsel").on("change.dwsel",function(){w||i.setValue(s?u.val()||[]:[u.val()],!0);w=!1}).hide().closest(".ui-field-contain").trigger("create"),i._setValue||(i._setValue=i.setValue),i.setValue=function(t,c,a,y,p){var b,d=n.isArray(t)?t[0]:t,w,g;if(f=d!==undefined?d:n("option",u).attr("value"),s)for(i._selectedValues={},w=0;w<t.length;w++)i._selectedValues[t[w]]=t[w];r.group?(h=u.find('option[value="'+f+'"]').parent(),o=h.index(),b=r.rtl?[f,h.index()]:[h.index(),f],o!==l&&(r.wheels=nt(),i.changeWheel([e]),l=o+"")):b=[f];i._setValue(b,c,a,y,p);c&&(g=s?!0:f!==u.val(),k(v[f],g))},i.getValue=function(n){var t=n?i.temp:i.values;return t[e]},{width:50,wheels:ot,headerText:!1,multiple:s,anchor:c,formatResult:function(n){return v[n[e]]},parseValue:function(){var e=u.val()||[],t=0;if(s)for(i._selectedValues={};t<e.length;t++)i._selectedValues[e[t]]=e[t];return f=s?u.val()?u.val()[0]:n("option",u).attr("value"):u.val(),h=u.find('option[value="'+f+'"]').parent(),o=h.index(),l=o+"",r.group&&r.rtl?[f,o]:r.group?[o,f]:[f]},validate:function(t,c,v){var y,p,w;if(c===undefined&&s){y=i._selectedValues;p=0;n(".dwwl"+e+" .dw-li",t).removeClass("dw-msel").removeAttr("aria-selected");for(p in y)n(".dwwl"+e+' .dw-li[data-val="'+y[p]+'"]',t).addClass("dw-msel").attr("aria-selected","true")}if(c===a)if(o=i.temp[a],o!==l){if(h=u.find("optgroup").eq(o),o=h.index(),f=h.find("option").eq(0).val(),f=f||u.val(),r.wheels=nt(),r.group)return i.temp=r.rtl?[f,o]:[o,f],r.readonly=[r.rtl,!r.rtl],clearTimeout(g),g=setTimeout(function(){i.changeWheel([e]);r.readonly=rt;l=o+""},v*1e3),!1}else r.readonly=rt;else f=i.temp[e];w=n(".dw-ul",t).eq(e);n.each(r.invalid,function(t,i){n('.dw-li[data-val="'+i+'"]',w).removeClass("dw-v")})},onBeforeShow:function(){r.wheels=nt();r.group&&(i.temp=r.rtl?[f,h.index()]:[h.index(),f])},onMarkupReady:function(t){n(".dwwl"+a,t).on("mousedown touchstart",function(){clearTimeout(g)});if(s){t.addClass("dwms");n(".dwwl",t).eq(e).addClass("dwwms").attr("aria-multiselectable","true");n(".dwwl",t).on("keydown",function(t){t.keyCode==32&&(t.preventDefault(),t.stopPropagation(),ut(n(".dw-sel",this)))});b={};for(var r in i._selectedValues)b[r]=i._selectedValues[r]}},onValueTap:ut,onSelect:function(n){k(n,!0);r.group&&(i.values=null)},onCancel:function(){if(r.group&&(i.values=null),s){i._selectedValues={};for(var n in b)i._selectedValues[n]=b[n]}},onChange:function(n){r.display!="inline"||s||(c.val(n),w=!0,u.val(i.temp[e]).trigger("change"))},onClose:function(){c.blur()}}}}(jQuery),function(n){var t;n.mobiscroll.themes.wp={defaults:{width:70,height:76,accent:"none",dateOrder:"mmMMddDDyy",showLabel:!1,onAnimStart:function(i,r,u){n(".dwwl"+r,i).addClass("wpam");clearTimeout(t[r]);t[r]=setTimeout(function(){n(".dwwl"+r,i).removeClass("wpam")},u*1e3+100)}},init:function(i,r){var u,f;t={};n(".dw",i).addClass("wp-"+r.settings.accent);n(".dwwl",i).on("touchstart mousedown DOMMouseScroll mousewheel",".dw-sel",function(){u=!0;f=n(this).closest(".dwwl").hasClass("wpa");n(".dwwl",i).removeClass("wpa");n(this).closest(".dwwl").addClass("wpa")}).on("touchmove mousemove",function(){u=!1}).on("touchend mouseup",function(){u&&f&&n(this).closest(".dwwl").removeClass("wpa")})}};n.mobiscroll.themes["wp light"]=n.mobiscroll.themes.wp}(jQuery);
/*! jQuery UI Virtual Keyboard v1.25.29 */
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof module=="object"&&typeof module.exports=="object"||n(jQuery)})(function(n){"use strict";var t=n.keyboard=function(i,r){var f,u=this;u.version="1.25.29";u.accptKbCB=undefined;u.$el=n(i);u.el=i;u.$el.data("keyboard",u);u.setElm=function(t){u.el=t;u.$el=n(t)};u.init=function(){var i,s,h,o=t.css,e=t.events;u.settings=r||{};r&&r.position&&(s=n.extend({},r.position),r.position=null);u.options=f=n.extend(!0,{},t.defaultOptions,r);s&&(f.position=s,r.position=s);u.el.active=!0;u.namespace=".keyboard"+Math.random().toString(16).slice(2);u.extensionNamespace=[];u.shiftActive=u.altActive=u.metaActive=u.sets=u.capsLock=!1;u.rows=["","-shift","-alt","-alt-shift"];u.inPlaceholder=u.$el.attr("placeholder")||"";u.watermark=t.watermark&&u.inPlaceholder!=="";u.repeatTime=1e3/(f.repeatRate||20);f.preventDoubleEventTime=f.preventDoubleEventTime||100;u.isOpen=!1;u.wheel=n.isFunction(n.fn.mousewheel);u.escapeRegex=/[-\/\\^$*+?.()|[\]{}]/g;i=t.keyCodes;u.alwaysAllowed=[i.capsLock,i.pageUp,i.pageDown,i.end,i.home,i.left,i.up,i.right,i.down,i.insert,i.delete];u.$keyboard=[];u.enabled=!0;n.isEmptyObject(f.position)||(f.position.orig_at=f.position.at);u.checkCaret=f.lockInput||t.checkCaretSupport();u.last={start:0,end:0,key:"",val:"",preVal:"",layout:"",virtual:!0,keyset:[!1,!1,!1],wheel_$Keys:null,wheelIndex:0,wheelLayers:[]};u.temp=["",0,0];n.each([e.kbInit,e.kbBeforeVisible,e.kbVisible,e.kbHidden,e.inputCanceled,e.inputAccepted,e.kbBeforeClose],function(t,i){n.isFunction(f[i])&&u.$el.bind(i+u.namespace+"callbacks",f[i])});f.alwaysOpen&&(f.stayOpen=!0);h=n(document);u.el.ownerDocument!==document&&(h=h.add(u.el.ownerDocument));h.bind("mousedown keydown touchstart checkkeyboard ".split(" ").join(u.namespace+" "),u.checkClose);u.$el.addClass(o.input+" "+f.css.input).attr({"aria-haspopup":"true",role:"textbox"});(f.lockInput||u.el.readOnly)&&(f.lockInput=!0,u.$el.addClass(o.locked).attr({readonly:"readonly"}));(u.$el.is(":disabled")||u.$el.attr("readonly")&&!u.$el.hasClass(o.locked))&&u.$el.addClass(o.noKeyboard);f.openOn&&u.bindFocus();u.watermark||u.$el.val()!==""||u.inPlaceholder===""||u.$el.attr("placeholder")===""||u.$el.addClass(o.placeholder).val(u.inPlaceholder);u.$el.trigger(e.kbInit,[u,u.el]);f.alwaysOpen&&u.reveal()};u.toggle=function(){var i=u.$keyboard.find("."+t.css.keyToggle),n=!u.enabled;u.$preview.prop("readonly",n||u.options.lockInput);u.$keyboard.toggleClass(t.css.keyDisabled,n).find("."+t.css.keyButton).not(i).prop("disabled",n).attr("aria-disabled",n);i.toggleClass(t.css.keyDisabled,n);n&&u.typing_options&&(u.typing_options.text="")};u.setCurrent=function(){var i=t.css,f=n("."+i.isCurrent),r=f.data("keyboard");n.isEmptyObject(r)||r.el===u.el||r.close(r.options.autoAccept?"true":!1);f.removeClass(i.isCurrent);n("."+i.hasFocus).removeClass(i.hasFocus);u.$el.addClass(i.isCurrent);u.$keyboard.addClass(i.hasFocus);u.isCurrent(!0);u.isOpen=!0};u.isCurrent=function(n){var i=t.currentKeyboard||!1;return n?i=t.currentKeyboard=u.el:n===!1&&i===u.el&&(i=t.currentKeyboard=""),i===u.el};u.isVisible=function(){return u.$keyboard&&u.$keyboard.length?u.$keyboard.is(":visible"):!1};u.focusOn=function(){(u||!u.el.active)&&(u.isVisible()||(clearTimeout(u.timer),u.reveal()))};u.redraw=function(){u.$keyboard.length&&(u.last.preVal=""+u.last.val,u.last.val=u.$preview&&u.$preview.val()||u.$el.val(),u.$el.val(u.last.val),u.removeKeyboard(),u.shiftActive=u.altActive=u.metaActive=!1);u.isOpen=f.alwaysOpen;u.reveal(!0)};u.reveal=function(i){var e=u.isOpen,r=t.css;if(u.opening=!e,n("."+r.keyboard).not("."+r.alwaysOpen).each(function(){var t=n(this).data("keyboard");n.isEmptyObject(t)||t.close(t.options.autoAccept&&t.options.autoAcceptOnEsc?"true":!1)}),u.$el.is(":disabled")||u.$el.attr("readonly")&&!u.$el.hasClass(r.locked)){u.$el.addClass(r.noKeyboard);return}return(u.$el.removeClass(r.noKeyboard),f.openOn&&u.$el.unbind(n.trim((f.openOn+" ").split(/\s+/).join(u.namespace+" "))),(!u.$keyboard||u.$keyboard&&(!u.$keyboard.length||n.contains(document.body,u.$keyboard[0])))&&u.startup(),u.watermark||u.el.value!==u.inPlaceholder||u.$el.removeClass(r.placeholder).val(""),u.originalContent=u.$el.val(),u.$preview.val(u.originalContent),f.acceptValid&&u.checkValid(),f.resetDefault&&(u.shiftActive=u.altActive=u.metaActive=!1),u.showSet(),u.isVisible()||u.$el.trigger(t.events.kbBeforeVisible,[u,u.el]),u.setCurrent(),u.toggle(),u.$keyboard.show(),f.usePreview&&t.msie&&(typeof u.width=="undefined"&&(u.$preview.hide(),u.width=Math.ceil(u.$keyboard.width()),u.$preview.show()),u.$preview.width(u.width)),u.position=n.isEmptyObject(f.position)?!1:f.position,n.ui&&n.ui.position&&u.position&&(u.position.of=u.position.of||u.$el.data("keyboardPosition")||u.$el,u.position.collision=u.position.collision||"flipfit flipfit",f.position.at=f.usePreview?f.position.orig_at:f.position.at2,u.$keyboard.position(u.position)),u.checkDecimal(),u.lineHeight=parseInt(u.$preview.css("lineHeight"),10)||parseInt(u.$preview.css("font-size"),10)+4,f.caretToEnd&&u.saveCaret(u.originalContent.length,u.originalContent.length),t.allie&&(u.last.end===0&&u.last.start>0&&(u.last.end=u.last.start),u.last.start<0&&(u.last.start=u.last.end=u.originalContent.length)),e||i)?(t.caret(u.$preview,u.last),u):(u.timer2=setTimeout(function(){var n;u.opening=!1;/(number|email)/i.test(u.el.type)||f.caretToEnd||u.saveCaret(n,n,u.$el);f.initialFocus&&t.caret(u.$preview,u.last);u.last.eventTime=(new Date).getTime();u.$el.trigger(t.events.kbVisible,[u,u.el]);u.timer=setTimeout(function(){u&&u.saveCaret()},200)},10),u)};u.updateLanguage=function(){var e=t.layouts,i=f.language||e[f.layout]&&e[f.layout].lang&&e[f.layout].lang||[f.language||"en"],r=t.language;i=(n.isArray(i)?i[0]:i).split("-")[0];f.display=n.extend(!0,{},r.en.display,r[i]&&r[i].display||{},u.settings.display);f.combos=n.extend(!0,{},r.en.combos,r[i]&&r[i].combos||{},u.settings.combos);f.wheelMessage=r[i]&&r[i].wheelMessage||r.en.wheelMessage;f.rtl=e[f.layout]&&e[f.layout].rtl||r[i]&&r[i].rtl||!1;u.regex=r[i]&&r[i].comboRegex||t.comboRegex;u.decimal=/^\./.test(f.display.dec);u.$el.toggleClass("rtl",f.rtl).css("direction",f.rtl?"rtl":"")};u.startup=function(){var i=t.css;(f.alwaysOpen||f.userClosed)&&u.$preview||u.makePreview();u.$keyboard&&u.$keyboard.length||(f.layout==="custom"&&(f.layoutHash="custom"+u.customHash()),u.layout=f.layout==="custom"?f.layoutHash:f.layout,u.last.layout=u.layout,u.updateLanguage(),typeof t.builtLayouts[u.layout]=="undefined"&&(n.isFunction(f.create)?u.$keyboard=f.create(u):u.$keyboard.length||u.buildKeyboard(u.layout,!0)),u.$keyboard=t.builtLayouts[u.layout].$keyboard.clone(),u.$keyboard.data("keyboard",u),(u.el.id||"")!==""&&u.$keyboard.attr("id",u.el.id+t.css.idSuffix),u.makePreview(),f.usePreview?n.isEmptyObject(f.position)||(f.position.at=f.position.orig_at):n.isEmptyObject(f.position)||(f.position.at=f.position.at2));u.$decBtn=u.$keyboard.find("."+i.keyPrefix+"dec");(f.enterNavigation||u.el.nodeName==="TEXTAREA")&&u.alwaysAllowed.push(13);u.bindKeyboard();u.$keyboard.appendTo(f.appendLocally?u.$el.parent():f.appendTo||"body");u.bindKeys();f.reposition&&n.ui&&n.ui.position&&f.appendTo=="body"&&n(window).bind("resize"+u.namespace,function(){u.position&&u.isVisible()&&u.$keyboard.position(u.position)})};u.makePreview=function(){if(f.usePreview){var i,r,o,s,e=t.css;for(u.$preview=u.$el.clone(!1).data("keyboard",u).removeClass(e.placeholder+" "+e.input).addClass(e.preview+" "+f.css.input).attr("tabindex","-1").show(),u.preview=u.$preview[0],u.preview.type==="number"&&(u.preview.type="text"),s=/^(data-|id|aria-haspopup)/i,r=u.$preview.get(0).attributes,i=r.length-1;i>=0;i--)o=r[i]&&r[i].name,s.test(o)&&u.preview.removeAttribute(o);n("<div />").addClass(e.wrapper).append(u.$preview).prependTo(u.$keyboard)}else u.$preview=u.$el,u.preview=u.el};u.saveCaret=function(n,i,r){var f=t.caret(r||u.$preview,n,i);u.last.start=typeof n=="undefined"?f.start:n;u.last.end=typeof i=="undefined"?f.end:i};u.setScroll=function(){if(u.last.virtual){var n,r,i,e,o=u.preview.nodeName==="TEXTAREA",s=u.last.val.substring(0,Math.max(u.last.start,u.last.end));u.$previewCopy||(u.$previewCopy=u.$preview.clone().removeAttr("id").css({position:"absolute",left:0,zIndex:-10,visibility:"hidden"}).addClass(t.css.inputClone),o||u.$previewCopy.css({"white-space":"pre",width:0}),f.usePreview?u.$preview.after(u.$previewCopy):u.$keyboard.prepend(u.$previewCopy));o?(u.$previewCopy.height(u.lineHeight).val(s),u.preview.scrollTop=u.lineHeight*(Math.floor(u.$previewCopy[0].scrollHeight/u.lineHeight)-1)):(u.$previewCopy.val(s.replace(/\s/g,"\u00a0")),i=/c/i.test(f.scrollAdjustment)?u.preview.clientWidth/2:f.scrollAdjustment,n=u.$previewCopy[0].scrollWidth-1,typeof u.last.scrollWidth=="undefined"&&(u.last.scrollWidth=n,u.last.direction=!0),e=u.last.scrollWidth===n?u.last.direction:u.last.scrollWidth<n,r=u.preview.clientWidth-i,u.preview.scrollLeft=e?n<r?0:n-r:n>=u.preview.scrollWidth-r?u.preview.scrollWidth-i:n-i>0?n-i:0,u.last.scrollWidth=n,u.last.direction=e)}};u.bindFocus=function(){f.openOn&&u&&u.el.active&&(u.$el.bind(f.openOn+u.namespace,function(){u.focusOn()}),document.activeElement===u.el&&u.$el.blur())};u.bindKeyboard=function(){var r,i=t.keyCodes,e=t.builtLayouts[u.layout];u.$preview.unbind(u.namespace).bind("click"+u.namespace+" touchstart"+u.namespace,function(){f.alwaysOpen&&!u.isCurrent()&&u.reveal();u.timer2=setTimeout(function(){u&&u.saveCaret()},150)}).bind("keypress"+u.namespace,function(o){if(f.lockInput||!u.isCurrent())return!1;var s=o.charCode||o.which,c=s>=i.A&&s<=i.Z,l=s>=i.a&&s<=i.z,h=u.last.key=String.fromCharCode(s);if(u.last.virtual=!1,u.last.event=o,u.last.$key=[],u.checkCaret&&u.saveCaret(),s!==i.capsLock&&(c||l)&&(u.capsLock=c&&!o.shiftKey||l&&o.shiftKey,u.capsLock&&!u.shiftActive&&(u.shiftActive=!0,u.showSet())),f.restrictInput){if((o.which===i.backSpace||o.which===0)&&n.inArray(o.keyCode,u.alwaysAllowed))return;n.inArray(h,e.acceptedKeys)===-1&&(o.preventDefault(),r=n.extend({},o),r.type=t.events.inputRestricted,u.$el.trigger(r,[u,u.el]),n.isFunction(f.restricted)&&f.restricted(r,u,u.el))}else if((o.ctrlKey||o.metaKey)&&(o.which===i.A||o.which===i.C||o.which===i.V||o.which>=i.X&&o.which<=i.Z))return;e.hasMappedKeys&&e.mappedKeys.hasOwnProperty(h)&&(u.last.key=e.mappedKeys[h],u.insertText(u.last.key),o.preventDefault());u.checkMaxLength()}).bind("keydown"+u.namespace,function(r){if(u.isCurrent()){u.last.virtual=!1;switch(r.which){case i.tab:if(u.tab&&f.tabNavigation&&!f.lockInput){u.shiftActive=r.shiftKey;var e=t.keyaction.tab(u);if(u.tab=!1,!e)return!1}else r.preventDefault();break;case i.escape:return f.ignoreEsc||u.close(f.autoAccept&&f.autoAcceptOnEsc?"true":!1),!1}if(clearTimeout(u.throttled),u.throttled=setTimeout(function(){u&&u.isVisible()&&u.checkCombos()},100),u.checkMaxLength(),u.last.preVal=""+u.last.val,u.last.val=u.$preview.val(),r.type=t.events.kbChange,r.action=u.last.key,u.$el.trigger(r,[u,u.el]),n.isFunction(f.change))return r.type=t.events.inputChange,f.change(r,u,u.el),!1;f.acceptValid&&f.autoAcceptOnValid&&n.isFunction(f.validate)&&f.validate(u,u.$preview.val())&&(u.$preview.blur(),u.accept())}}).bind("keydown"+u.namespace,function(n){if(f.alwaysOpen&&!u.isCurrent()&&u.reveal(),n.which===i.tab)return u.tab=!0,!1;if(f.lockInput)return!1;u.last.virtual=!1;switch(n.which){case i.backSpace:t.keyaction.bksp(u,null,n);n.preventDefault();break;case i.enter:n.action=="shift"&&(u.capsLock=!0);t.keyaction.enter(u,null,n);break;case i.capsLock:u.shiftActive=u.capsLock=!u.capsLock;u.showSet();break;case i.V:if(n.ctrlKey||n.metaKey){if(f.preventPaste){n.preventDefault();return}u.checkCombos()}}}).bind("mouseup touchend ".split(" ").join(u.namespace+" "),function(){u.last.virtual=!0;u.saveCaret()});u.$keyboard.bind("mousedown click touchstart ".split(" ").join(u.namespace+" "),function(t){t.stopPropagation();u.isCurrent()||(u.reveal(),n(document).trigger("checkkeyboard"+u.namespace));f.noFocus||u.$preview.focus()});f.preventPaste&&(u.$preview.bind("contextmenu"+u.namespace,function(n){n.preventDefault()}),u.$el.bind("contextmenu"+u.namespace,function(n){n.preventDefault()}))};u.bindKeys=function(){var i=t.css;u.$allKeys=u.$keyboard.find("button."+i.keyButton).unbind(u.namespace+" "+u.namespace+"kb").bind("mouseenter mouseleave touchstart ".split(" ").join(u.namespace+" "),function(i){if(console.log("DEBUG: Entering 'touchStart' function..."),(f.alwaysOpen||f.userClosed)&&i.type!=="mouseleave"&&!u.isCurrent()&&(u.reveal(),u.$preview.focus(),t.caret(u.$preview,u.last)),u.isCurrent()){var o,s,e=u.last,r=n(this),h=i.type;if(f.useWheel&&u.wheel&&(o=u.getLayers(r),s=(o.length?o.map(function(){return n(this).attr("data-value")||""}).get():"")||[r.text()],e.wheel_$Keys=o,e.wheelLayers=s,e.wheelIndex=n.inArray(r.attr("data-value"),s)),(h==="mouseenter"||h==="touchstart")&&u.el.type!=="password"&&!r.hasClass(f.css.buttonDisabled)){u.$keyboard.find("."+f.css.buttonHover).removeClass(f.css.buttonHover);r.addClass(f.css.buttonHover);var c=r.data("pos"),l=Number(c.split(",")[0]),a=Number(c.split(",")[1]);u.setPos(l,a);f.useWheel&&u.wheel&&r.attr("title",function(n,t){return u.wheel&&t===""&&u.sets&&s.length>1&&h!=="touchstart"?f.wheelMessage:t})}h==="mouseleave"&&(r.removeClass(u.el.type==="password"?"":f.css.buttonHover),f.useWheel&&u.wheel&&(e.wheelIndex=0,e.wheelLayers=[],e.wheel_$Keys=null,r.attr("title",function(n,t){return t===f.wheelMessage?"":t}).html(r.attr("data-html"))))}}).bind(f.keyBinding.split(" ").join(u.namespace+" ")+u.namespace+" "+t.events.kbRepeater,function(r){if(r.preventDefault(),!u.$keyboard.is(":visible"))return!1;var o,h,e=u.last,l=this,s=n(l),c=(new Date).getTime();if(f.useWheel&&u.wheel&&(h=e.wheel_$Keys,s=h&&e.wheelIndex>-1?h.eq(e.wheelIndex):s),o=s.attr("data-action"),!(c-(e.eventTime||0)<f.preventDoubleEventTime)){if(e.eventTime=c,e.event=r,e.virtual=!0,f.noFocus||u.$preview.focus(),e.$key=s,e.key=s.attr("data-value"),u.checkCaret&&t.caret(u.$preview,e),o.match("meta")&&(o="meta"),o===e.key&&typeof t.keyaction[o]=="string")e.key=o=t.keyaction[o];else if(o in t.keyaction&&n.isFunction(t.keyaction[o])){if(t.keyaction[o](u,this,r)===!1)return!1;o=null}return typeof o!="undefined"&&o!==null&&(e.key=n(this).hasClass(i.keyAction)?o:e.key,u.insertText(e.key),u.capsLock||f.stickyShift||r.shiftKey||(u.shiftActive=!1,u.showSet(s.attr("data-name")))),t.caret(u.$preview,e),u.checkCombos(),r.type=t.events.kbChange,r.action=e.key,u.$el.trigger(r,[u,u.el]),e.preVal=""+e.val,e.val=u.$preview.val(),n.isFunction(f.change)?(r.type=t.events.inputChange,f.change(r,u,u.el),!1):void 0}}).bind("mouseup"+u.namespace+" "+"mouseleave touchend touchmove touchcancel ".split(" ").join(u.namespace+"kb "),function(i){u.last.virtual=!0;var r,e=n(this);if(i.type==="touchmove"){if(r=e.offset(),r.right=r.left+e.outerWidth(),r.bottom=r.top+e.outerHeight(),i.originalEvent.touches[0].pageX>=r.left&&i.originalEvent.touches[0].pageX<r.right&&i.originalEvent.touches[0].pageY>=r.top&&i.originalEvent.touches[0].pageY<r.bottom)return!0}else/(mouseleave|touchend|touchcancel)/i.test(i.type)?e.removeClass(f.css.buttonHover):(!f.noFocus&&u.isCurrent()&&u.isVisible(),u.checkCaret&&t.caret(u.$preview,u.last));return u.mouseRepeat=[!1,""],clearTimeout(u.repeater),f.acceptValid&&f.autoAcceptOnValid&&n.isFunction(f.validate)&&f.validate(u,u.$preview.val())&&(u.$preview.blur(),u.accept()),!1}).bind("click"+u.namespace,function(){return!1}).not("."+i.keyAction).bind("mousewheel"+u.namespace,function(t,i){if(f.useWheel&&u.wheel){i=i||t.deltaY;var r,e=u.last.wheelLayers||[];return e.length>1?(r=u.last.wheelIndex+(i>0?-1:1),r>e.length-1&&(r=0),r<0&&(r=e.length-1)):r=0,u.last.wheelIndex=r,n(this).html(e[r]),!1}}).add("."+i.keyPrefix+"tab bksp space enter".split(" ").join(",."+i.keyPrefix),u.$keyboard).bind("mousedown touchstart ".split(" ").join(u.namespace+"kb "),function(){if(f.repeatRate!==0){var t=n(this);u.mouseRepeat=[!0,t];setTimeout(function(){u&&u.mouseRepeat[0]&&u.mouseRepeat[1]===t&&!t[0].disabled&&u.repeatKey(t)},f.repeatDelay)}return!1})};u.insertText=function(n){var s;if(typeof n!="undefined"){var e,f,o=n==="\b",r=u.$preview.val(),i=t.caret(u.$preview),h=r.length;i.end<i.start&&(i.end=i.start);i.start>h&&(i.end=i.start=h);u.preview.nodeName==="TEXTAREA"&&t.msie&&r.substr(i.start,1)==="\n"&&(i.start+=1,i.end+=1);n==="{d}"&&(n="",f=i.start,i.end+=1);e=o&&i.start===i.end;n=o?"":n;s=u.$preview.attr("maxLength")||0;(o||s<=0||r.length<s)&&(r=r.substr(0,i.start-(e?1:0))+n+r.substr(i.end),f=i.start+(e?-1:n.length));u.$preview.val(r);u.saveCaret(f,f);u.setScroll()}};u.checkMaxLength=function(){if(u.isCurrent()){var i,n,r=u.$preview.val();f.maxLength!==!1&&r.length>f.maxLength&&(i=t.caret(u.$preview).start,n=Math.min(i,f.maxLength),f.maxInsert||(r=u.last.val,n=i-1),u.$preview.val(r.substring(0,f.maxLength)),u.saveCaret(n,n));u.$decBtn.length&&u.checkDecimal()}};u.repeatKey=function(n){n.trigger(t.events.kbRepeater);u.mouseRepeat[0]&&(u.repeater=setTimeout(function(){u&&u.repeatKey(n)},u.repeatTime))};u.showKeySet=function(n){typeof n=="string"?(u.last.keyset=[u.shiftActive,u.altActive,u.metaActive],u.shiftActive=/shift/i.test(n),u.altActive=/alt/i.test(n),/meta/.test(n)?(u.metaActive=!0,u.showSet(n.match(/meta\d+/i)[0])):(u.metaActive=!1,u.showSet())):u.showSet(n)};u.showSet=function(n){f=u.options;var r=t.css,e="."+r.keyPrefix,o=f.css.buttonActive,i="",s=(u.shiftActive?1:0)+(u.altActive?2:0);if(u.shiftActive||(u.capsLock=!1),u.metaActive?(i=/meta/i.test(n)?n:"",i===""?i=u.metaActive===!0?"":u.metaActive:u.metaActive=i,(f.stickyShift||u.last.keyset[2]===u.metaActive)&&(!(u.shiftActive||u.altActive)||u.$keyboard.find("."+r.keySet+"-"+i+u.rows[s]).length)||(u.shiftActive=u.altActive=!1)):!f.stickyShift&&u.last.keyset[2]!==u.metaActive&&u.shiftActive&&(u.shiftActive=u.altActive=!1),s=(u.shiftActive?1:0)+(u.altActive?2:0),i=s===0&&!u.metaActive?"-normal":i===""?"":"-"+i,!u.$keyboard.find("."+r.keySet+i+u.rows[s]).length){u.shiftActive=u.last.keyset[0];u.altActive=u.last.keyset[1];u.metaActive=u.last.keyset[2];return}u.$keyboard.find(e+"alt,"+e+"shift,."+r.keyAction+"[class*=meta]").removeClass(o).end().find(e+"alt").toggleClass(o,u.altActive).end().find(e+"shift").toggleClass(o,u.shiftActive).end().find(e+"lock").toggleClass(o,u.capsLock).end().find("."+r.keySet).hide().end().find("."+r.keyAction+e+i).addClass(o);u.$keyboard.find("."+r.keySet+i+u.rows[s])[0].style.display="inline-block";u.metaActive&&u.$keyboard.find(e+u.metaActive).toggleClass(o,u.metaActive!==!1);u.last.keyset=[u.shiftActive,u.altActive,u.metaActive];u.$el.trigger(t.events.kbKeysetChange,[u,u.el])};u.checkCombos=function(){if(!(u.isVisible()||u.$keyboard.hasClass(t.css.hasFocus)))return u.$preview.val();var s,c,e,r=u.$preview.val(),i=t.caret(u.$preview),h=t.builtLayouts[u.layout],o=r.length;return r===""?(f.acceptValid&&u.checkValid(),r):(i.end<i.start&&(i.end=i.start),i.start>o&&(i.end=i.start=o),t.msie&&r.substr(i.start,1)==="\n"&&(i.start+=1,i.end+=1),f.useCombos&&(t.msie?r=r.replace(u.regex,function(n,t,i){return f.combos.hasOwnProperty(t)?f.combos[t][i]||n:n}):u.$preview.length&&(c=i.start-(i.start-2>=0?2:0),t.caret(u.$preview,c,i.end),e=(t.caret(u.$preview).text||"").replace(u.regex,function(n,t,i){return f.combos.hasOwnProperty(t)?f.combos[t][i]||n:n}),u.$preview.val(t.caret(u.$preview).replaceStr(e)),r=u.$preview.val())),f.restrictInput&&r!==""&&(c=h.acceptedKeys.length,s=h.acceptedKeysRegex,s||(e=n.map(h.acceptedKeys,function(n){return n.replace(u.escapeRegex,"\\$&")}),s=h.acceptedKeysRegex=new RegExp("("+e.join("|")+")","g")),e=r.match(s),e?r=e.join(""):(r="",o=0)),i.start+=r.length-o,i.end+=r.length-o,u.$preview.val(r),u.saveCaret(i.start,i.end),u.setScroll(),u.checkMaxLength(),f.acceptValid&&u.checkValid(),r)};u.checkValid=function(){var r=t.css,e=u.$keyboard.find("."+r.keyPrefix+"accept"),i=!0;n.isFunction(f.validate)&&(i=f.validate(u,u.$preview.val(),!1));e.toggleClass(r.inputInvalid,!i).toggleClass(r.inputValid,i).attr("title",e.attr("data-title")+" ("+f.display[i?"valid":"invalid"]+")")};u.checkDecimal=function(){u.decimal&&/\./g.test(u.preview.value)||!u.decimal&&/\,/g.test(u.preview.value)?u.$decBtn.attr({disabled:"disabled","aria-disabled":"true"}).removeClass(f.css.buttonHover).addClass(f.css.buttonDisabled):u.$decBtn.removeAttr("disabled").attr({"aria-disabled":"false"}).addClass(f.css.buttonDefault).removeClass(f.css.buttonDisabled)};u.getLayers=function(i){var r=t.css,u=i.attr("data-pos"),f=i.closest("."+r.keyboard).find('button[data-pos="'+u+'"]');return f.filter(function(){return n(this).find("."+r.keyText).text()!==""}).add(i)};u.switchInput=function(t,i){if(n.isFunction(f.switchInput))f.switchInput(u,t,i);else{u.$keyboard.length&&u.$keyboard.hide();var o,s=!1,e=n("button, input, textarea, a").filter(":visible").not(":disabled"),r=e.index(u.$el)+(t?1:-1);if(u.$keyboard.length&&u.$keyboard.show(),r>e.length-1&&(s=f.stopAtEnd,r=0),r<0&&(s=f.stopAtEnd,r=e.length-1),!s){if(i=u.close(i),!i)return;o=e.eq(r).data("keyboard");o&&o.options.openOn.length?o.focusOn():e.eq(r).focus()}}return!1};u.close=function(i){if(u.isOpen&&u.$keyboard.length){clearTimeout(u.throttled);var e=t.css,r=t.events,o=i?u.checkCombos():u.originalContent;if(i&&n.isFunction(f.validate)&&!f.validate(u,o,!0)&&(o=u.originalContent,i=!1,f.cancelClose))return;u.isCurrent(!1);u.isOpen=f.alwaysOpen||f.userClosed;u.$preview.val(o);u.$el.removeClass(e.isCurrent+" "+e.inputAutoAccepted).addClass(i||!1?i===!0?"":e.inputAutoAccepted:"").val(o).trigger(r.inputChange);f.alwaysOpen||u.$el.trigger(r.kbBeforeClose,[u,u.el,i||!1]);u.$el.trigger(i||!1?r.inputAccepted:r.inputCanceled,[u,u.el]).trigger(f.alwaysOpen?r.kbInactive:r.kbHidden,[u,u.el]).blur();t.caret(u.$preview,u.last);u&&(u.last.eventTime=(new Date).getTime(),f.alwaysOpen||f.userClosed&&i==="true"||!u.$keyboard.length||(u.removeKeyboard(),u.timer=setTimeout(function(){u&&u.bindFocus()},500)),u.watermark||u.el.value!==""||u.inPlaceholder===""||u.$el.addClass(e.placeholder).val(u.inPlaceholder));u.accptKbCB!==undefined&&u.accptKbCB()}return!!i};u.accept=function(){return u.close(!0)};u.checkClose=function(t){var r,f,i;u.opening||(u.escClose(t),r=n.keyboard.css,f=n(t.target),f.hasClass(r.input)&&(i=f.data("keyboard"),i!==u||i.$el.hasClass(r.isCurrent)||t.type!==i.options.openOn||i.focusOn()))};u.escClose=function(i){if(i&&i.type==="keydown")return i.which===t.keyCodes.escape&&!f.ignoreEsc?u.close(f.autoAccept&&f.autoAcceptOnEsc?"true":!1):"";if(u.isOpen&&(!u.isCurrent()&&u.isOpen||u.isOpen&&i.target!==u.el)){if((f.stayOpen||f.userClosed)&&!n(i.target).hasClass(t.css.input))return;t.allie&&i.preventDefault();u.close(f.autoAccept?"true":!1)}};u.keyBtn=n("<button />").attr({role:"button",type:"button","aria-disabled":"false",tabindex:"-1"}).addClass(t.css.keyButton);u.processName=function(n){var t,i,u=(n||"").replace(/[^a-z0-9-_]/gi,""),r=u.length,f=[];if(r>1&&n===u)return n;if(r=n.length,r){for(t=0;t<r;t++)i=n[t],f.push(/[a-z0-9-_]/i.test(i)?/[-_]/.test(i)&&t!==0?"":i:(t===0?"":"-")+i.charCodeAt(0));return f.join("")}return n};u.processKeys=function(t){var u,i=t.split(":"),r={name:null,map:"",title:""};return/\(.+\)/.test(i[0])||/^:\(.+\)/.test(t)||/\([(:)]\)/.test(t)?/\([(:)]\)/.test(t)?(u=i[0].match(/([^(]+)\((.+)\)/),u&&u.length?(r.name=u[1],r.map=u[2],r.title=i.length>1?i.slice(1).join(":"):""):(r.name=t.match(/([^(]+)/)[0],r.name===":"&&(i=i.slice(1)),u===null&&(r.map=":",i=i.slice(2)),r.title=i.length?i.join(":"):"")):(r.map=t.match(/\(([^()]+?)\)/)[1],t=t.replace(/\(([^()]+)\)/,""),u=t.split(":"),u[0]===""?(r.name=":",i=i.slice(1)):r.name=u[0],r.title=i.length>1?i.slice(1).join(":"):""):(i[0]===""?(r.name=":",i=i.slice(1)):r.name=i[0],r.title=i.length>1?i.slice(1).join(":"):""),r.title=n.trim(r.title).replace(/_/g," "),r};u.addKey=function(n,i,r){var c,l,e,o={},s=u.processKeys(r?n:i),h=t.css;return!r&&f.display[s.name]?(e=u.processKeys(f.display[s.name]),e.action=u.processKeys(n).name):(e=s,e.action=s.name),o.name=u.processName(s.name),e.map!==""?(t.builtLayouts[u.layout].mappedKeys[e.map]=e.name,t.builtLayouts[u.layout].acceptedKeys.push(e.name)):r&&t.builtLayouts[u.layout].acceptedKeys.push(e.name),c=r?o.name===""?"":h.keyPrefix+o.name:h.keyAction+" "+h.keyPrefix+e.action,c+=(e.name.length>2?" "+h.keyWide:"")+" "+f.css.buttonDefault,o.html=n=="space"||n=="bksp"?n=="space"?'<img src="/images/SpaceBar.png" height="28" />':'<img src="/images/Bksp.png" height="28" style="padding-top:3px"/>':'<span class="'+h.keyText+'">'+e.name.replace(/[\u00A0-\u9999<>\&]/gim,function(n){return"&#"+n.charCodeAt(0)+";"})+"<\/span>",o.$key=u.keyBtn.clone().attr({"data-value":r?e.name:e.action,"data-name":e.action,"data-pos":u.temp[1]+","+u.temp[2],"data-action":e.action,"data-html":o.html}).addClass(c).html(o.html).appendTo(u.temp[0]),e.map&&o.$key.attr("data-mapped",e.map),(e.title||s.title)&&o.$key.attr({"data-title":s.title||e.title,title:s.title||e.title}),typeof f.buildKey=="function"&&(o=f.buildKey(u,o),l=o.$key.html(),o.$key.attr("data-html",l)),o.$key};u.customHash=function(n){var r,u,t,o,e,s=[],i=[];n=typeof n=="undefined"?f.customLayout:n;for(u in n)n.hasOwnProperty(u)&&s.push(n[u]);if(i=i.concat.apply(i,s).join(" "),t=0,e=i.length,e===0)return t;for(r=0;r<e;r++)o=i.charCodeAt(r),t=(t<<5)-t+o,t=t&t;return t};u.buildKeyboard=function(i,r){n.isEmptyObject(f.display)&&u.updateLanguage();var o,c,a,e=t.css,v=0,s=t.builtLayouts[i||u.layout||f.layout]={mappedKeys:{},acceptedKeys:[]},y=s.acceptedKeys=f.restrictInclude?(""+f.restrictInclude).split(/\s+/)||[]:[],h=e.keyboard+" "+f.css.popup+" "+f.css.container+(f.alwaysOpen||f.userClosed?" "+e.alwaysOpen:""),l=n("<div />").addClass(h).attr({role:"textbox"}).hide();return r&&f.layout==="custom"||!t.layouts.hasOwnProperty(f.layout)?(f.layout="custom",h=t.layouts.custom=f.customLayout||{normal:["{cancel}"]}):h=t.layouts[r?f.layout:i||u.layout||f.layout],n.each(h,function(t,i){if(t!==""&&!/^(name|lang|rtl)$/i.test(t)){t==="default"&&(t="normal");v++;c=n("<div />").attr("name",t).addClass(e.keySet+" "+e.keySet+"-"+t).appendTo(l).toggle(t==="normal");var r=i.length;for(o=0;o<r;o++)a=n.trim(i[o]).replace(/\{(\.?)[\s+]?:[\s+]?(\.?)\}/g,"{$1:$2}"),u.buildRow(c,o,a.split(/\s+/),y),c.find("."+e.keyButton+",."+e.keySpacer).filter(":last").after('<br class="'+e.endRow+'"/>')}}),v>1&&(u.sets=!0),s.hasMappedKeys=!n.isEmptyObject(s.mappedKeys),s.$keyboard=l,l};u.buildRow=function(i,r,e,o){for(var v,a,y,s,l,h=t.css,p=e.length,c=0;c<p;c++)if(u.temp=[i,r,c],y=!1,e[c].length!==0)if(/^\{\S+\}$/.test(e[c])){if(s=e[c].match(/^\{(\S+)\}$/)[1],/\!\!/.test(s)&&(s=s.replace("!!",""),y=!0),/^sp:((\d+)?([\.|,]\d+)?)(em|px)?$/i.test(s)&&(l=parseFloat(s.replace(/,/,".").match(/^sp:((\d+)?([\.|,]\d+)?)(em|px)?$/i)[1]||0),n('<span class="'+h.keyText+'"><\/span>').width(s.match(/px/i)?l+"px":l*2+"em").addClass(h.keySpacer).appendTo(i)),/^empty(:((\d+)?([\.|,]\d+)?)(em|px)?)?$/i.test(s)&&(l=/:/.test(s)?parseFloat(s.replace(/,/,".").match(/^empty:((\d+)?([\.|,]\d+)?)(em|px)?$/i)[1]||0):"",u.addKey(""," ").addClass(f.css.buttonDisabled+" "+f.css.buttonEmpty).attr("aria-disabled",!0).width(l?s.match("px")?l+"px":l*2+"em":"")),/^meta\d+\:?(\w+)?/i.test(s)){u.addKey(s.split(":")[0],s).addClass(h.keyHasActive);continue}a=s.split(":");switch(a[0].toLowerCase()){case"a":case"accept":u.addKey("accept",s).addClass(f.css.buttonAction+" "+h.keyAction);break;case"alt":case"altgr":u.addKey("alt",s).addClass(h.keyHasActive);break;case"b":case"bksp":u.addKey("bksp",s);break;case"c":case"cancel":u.addKey("cancel",s).addClass(f.css.buttonAction+" "+h.keyAction);break;case"combo":u.addKey("combo",s).addClass(h.keyHasActive).attr("title",function(n,t){return t+" "+f.display[f.useCombos?"active":"disabled"]}).toggleClass(f.css.buttonActive,f.useCombos);break;case"dec":o.push(u.decimal?".":",");u.addKey("dec",s);break;case"e":case"enter":u.addKey("enter",s).addClass(f.css.buttonAction+" "+h.keyAction);break;case"lock":u.addKey("lock",s).addClass(h.keyHasActive);break;case"s":case"shift":u.addKey("shift",s).addClass(h.keyHasActive);break;case"sign":o.push("-");u.addKey("sign",s);break;case"space":o.push(" ");u.addKey("space",s);break;case"t":case"tab":u.addKey("tab",s);break;default:t.keyaction.hasOwnProperty(a[0])&&u.addKey(a[0],s).toggleClass(f.css.buttonAction+" "+h.keyAction,y)}}else v=e[c],u.addKey(v,v,!0)};u.removeBindings=function(t){n(document).unbind(t);u.el.ownerDocument!==document&&n(u.el.ownerDocument).unbind(t);n(window).unbind(t);u.$el.unbind(t)};u.removeKeyboard=function(){u.$allKeys=null;u.$decBtn=null;f.usePreview&&u.$preview.removeData("keyboard");u.preview=null;u.$preview=null;u.$previewCopy=null;u.$keyboard.removeData("keyboard");u.$keyboard.remove();u.$keyboard=[];u.isOpen=!1;u.isCurrent(!1)};u.destroy=function(n){var r,i=t.css,e=u.extensionNamespace.length,o=[i.input,i.locked,i.placeholder,i.noKeyboard,i.alwaysOpen,f.css.input,i.isCurrent].join(" ");for(clearTimeout(u.timer),clearTimeout(u.timer2),u.$keyboard.length&&u.removeKeyboard(),u.removeBindings(u.namespace),u.removeBindings(u.namespace+"callbacks"),r=0;r<e;r++)u.removeBindings(u.extensionNamespace[r]);u.el.active=!1;u.$el.removeClass(o).removeAttr("aria-haspopup").removeAttr("role").removeData("keyboard");u=null;typeof n=="function"&&n()};u.init()};return t.keyCodes={backSpace:8,tab:9,enter:13,capsLock:20,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46,A:65,Z:90,V:86,C:67,X:88,a:97,z:122},t.css={idSuffix:"_keyboard",input:"ui-keyboard-input",inputClone:"ui-keyboard-preview-clone",wrapper:"ui-keyboard-preview-wrapper",preview:"ui-keyboard-preview1",keyboard:"ui-keyboard",keySet:"ui-keyboard-keyset",keyButton:"ui-keyboard-button",keyWide:"ui-keyboard-widekey",keyPrefix:"ui-keyboard-",keyText:"ui-keyboard-text",keyHasActive:"ui-keyboard-hasactivestate",keyAction:"ui-keyboard-actionkey",keySpacer:"ui-keyboard-spacer",keyToggle:"ui-keyboard-toggle",keyDisabled:"ui-keyboard-disabled",locked:"ui-keyboard-lockedinput",alwaysOpen:"ui-keyboard-always-open",noKeyboard:"ui-keyboard-nokeyboard",placeholder:"ui-keyboard-placeholder",hasFocus:"ui-keyboard-has-focus",isCurrent:"ui-keyboard-input-current",inputValid:"ui-keyboard-valid-input",inputInvalid:"ui-keyboard-invalid-input",inputAutoAccepted:"ui-keyboard-autoaccepted",endRow:"ui-keyboard-button-endrow"},t.events={kbChange:"keyboardChange",kbBeforeClose:"beforeClose",kbBeforeVisible:"beforeVisible",kbVisible:"visible",kbInit:"initialized",kbInactive:"inactive",kbHidden:"hidden",kbRepeater:"repeater",kbKeysetChange:"keysetChange",inputAccepted:"accepted",inputCanceled:"canceled",inputChange:"change",inputRestricted:"restricted"},t.keyaction={accept:function(n){return n.close(!0),!1},alt:function(n){n.altActive=!n.altActive;n.showSet()},bksp:function(n){n.insertText("\b")},cancel:function(n){return n.close(),!1},clear:function(n){n.$preview.val("");n.$decBtn.length&&n.checkDecimal()},combo:function(n){var i=n.options,r=!i.useCombos,u=n.$keyboard.find("."+t.css.keyPrefix+"combo");return i.useCombos=r,u.toggleClass(i.css.buttonActive,r).attr("title",u.attr("data-title")+" ("+i.display[r?"active":"disabled"]+")"),r&&n.checkCombos(),!1},dec:function(n){n.insertText(n.decimal?".":",")},del:function(n){n.insertText("{d}")},"default":function(n){n.shiftActive=n.altActive=n.metaActive=!1;n.showSet()},enter:function(i,r,u){var e=i.el.nodeName,f=i.options;if(u.shiftKey)return f.enterNavigation?i.switchInput(!u[f.enterMod],!0):i.close(!0);if(f.enterNavigation&&(e!=="TEXTAREA"||u[f.enterMod]))return i.switchInput(!u[f.enterMod],f.autoAccept?"true":!1);e==="TEXTAREA"&&n(u.target).closest("button").length&&i.insertText((t.msie?" ":"")+"\n")},lock:function(n){n.last.keyset[0]=n.shiftActive=n.capsLock=!n.capsLock;n.showSet()},left:function(n){var i=t.caret(n.$preview);i.start-1>=0&&(n.last.start=n.last.end=i.start-1,t.caret(n.$preview,n.last),n.setScroll())},meta:function(t,i){var r=n(i);t.metaActive=!r.hasClass(t.options.css.buttonActive);t.showSet(r.attr("data-name"))},next:function(n){return n.switchInput(!0,n.options.autoAccept),!1},normal:function(n){n.shiftActive=n.altActive=n.metaActive=!1;n.showSet()},prev:function(n){return n.switchInput(!1,n.options.autoAccept),!1},right:function(n){var i=t.caret(n.$preview);i.start+1<=n.$preview.val().length&&(n.last.start=n.last.end=i.start+1,t.caret(n.$preview,n.last),n.setScroll())},shift:function(n){n.last.keyset[0]=n.shiftActive=!n.shiftActive;n.showSet()},sign:function(n){/^\-?\d*\.?\d*$/.test(n.$preview.val())&&n.$preview.val(n.$preview.val()*-1)},space:function(n){n.insertText(" ")},tab:function(n){var t=n.el.nodeName,i=n.options;if(t==="INPUT")return i.tabNavigation?n.switchInput(!n.shiftActive,!0):!1;n.insertText("\t")},toggle:function(n){n.enabled=!n.enabled;n.toggle()},NBSP:"\u00a0",ZWSP:"\u200b",ZWNJ:"\u200c",ZWJ:"\u200d",LRM:"\u200e",RLM:"\u200f"},t.builtLayouts={},t.layouts={custom_LD:{normal:["a b c d e","f g h i j","k l m n o","p q r s t","u v w x y","z {left} {right} {bksp} {space}","{shift} {meta1} {accept} {cancel}"],shift:["A B C D E","F G H I J","K L M N O","P Q R S T","U V W X Y","Z {left} {right} {bksp} {space}","{shift} {meta1}  {accept} {cancel}"],meta1:["1 2 3 4 5","6 7 8 9 0","\u00b0 _ / < >","= + - ( )","* & $ # @",". ! {bksp} {space} {clear}","{shift} {meta1} {accept} {cancel}"],"meta1-shift":["1 2 3 4 5","6 7 8 9 0","\u00b0 _ / < >","= + - ( )","* & $ # @",". ! {bksp} {space} {clear}","{shift} {meta1} {accept} {cancel}"]},custom_LD_min:{normal:["a b c d e","f g h i j","k l m n o","p q r s t","u v w x y","z {left} {right} {bksp} {clear}","{shift} {meta1} {accept} {cancel}"],shift:["A B C D E","F G H I J","K L M N O","P Q R S T","U V W X Y","Z {left} {right} {bksp} {clear}","{shift} {meta1}  {accept} {cancel}"],meta1:["1 2 3 4 5","6 7 8 9 0","- . _ {bksp} {clear}","{meta1} {accept} {cancel}"]},numpad:{normal:["1 2 3 4 5","6 7 8 9 0",". , {left} {right} {bksp}","- {clear} {accept} {cancel}"]}},t.language={en:{display:{a:"\u2714:Accept (Shift+Enter)",accept:"Accept:Accept (Shift+Enter)",alt:"Alt:\u2325 AltGr",b:"\u232b:LeftArrow",bksp:"Bksp:Backspace",c:"\u2716:Cancel (Esc)",cancel:"Cancel:Cancel (Esc)",clear:"C:Clear",combo:"\u00f6:Toggle Combo Keys",dec:".:Decimal",e:"\u23ce:Enter",empty:"\u00a0",enter:"Enter:Enter \u23ce",left:"\u2190",lock:"Lock:\u21ea Caps Lock",meta1:"@123:Alternate keyboard",next:"Next \u21e8",prev:"\u21e6 Prev",right:"\u2192",s:"\u21e7:Shift",shift:"Shift:Shift",sign:"\u00b1:Change Sign",space:"Space:Space",t:"\u21e5:Tab",tab:"\u21e5 Tab:Tab",toggle:" ",valid:"valid",invalid:"invalid",active:"active",disabled:"disabled"},wheelMessage:"Use mousewheel to see other keys",comboRegex:/([`\'~\^\"ao])([a-z])/mig,combos:{"`":{a:"\u00e0",A:"\u00c0",e:"\u00e8",E:"\u00c8",i:"\u00ec",I:"\u00cc",o:"\u00f2",O:"\u00d2",u:"\u00f9",U:"\u00d9",y:"\u1ef3",Y:"\u1ef2"},"'":{a:"\u00e1",A:"\u00c1",e:"\u00e9",E:"\u00c9",i:"\u00ed",I:"\u00cd",o:"\u00f3",O:"\u00d3",u:"\u00fa",U:"\u00da",y:"\u00fd",Y:"\u00dd"},'"':{a:"\u00e4",A:"\u00c4",e:"\u00eb",E:"\u00cb",i:"\u00ef",I:"\u00cf",o:"\u00f6",O:"\u00d6",u:"\u00fc",U:"\u00dc",y:"\u00ff",Y:"\u0178"},"^":{a:"\u00e2",A:"\u00c2",e:"\u00ea",E:"\u00ca",i:"\u00ee",I:"\u00ce",o:"\u00f4",O:"\u00d4",u:"\u00fb",U:"\u00db",y:"\u0177",Y:"\u0176"},"~":{a:"\u00e3",A:"\u00c3",e:"\u1ebd",E:"\u1ebc",i:"\u0129",I:"\u0128",o:"\u00f5",O:"\u00d5",u:"\u0169",U:"\u0168",y:"\u1ef9",Y:"\u1ef8",n:"\u00f1",N:"\u00d1"}}}},t.defaultOptions={language:null,rtl:!1,layout:"custom_LD",customLayout:null,position:{of:null,at:"center top"},reposition:!0,usePreview:!0,alwaysOpen:!1,initialFocus:!0,noFocus:!1,stayOpen:!1,ignoreEsc:!1,css:{input:"ui-widget-content ui-corner-all",container:"ui-widget-content ui-widget ui-corner-all ui-helper-clearfix",popup:"",buttonDefault:"ui-corner-all",buttonHover:"ui-state-hover",buttonAction:"ui-state-active",buttonActive:"ui-state-active",buttonDisabled:"ui-state-disabled",buttonEmpty:"ui-keyboard-empty"},autoAccept:!1,autoAcceptOnEsc:!1,lockInput:!1,restrictInput:!0,restrictInclude:"",acceptValid:!1,autoAcceptOnValid:!1,cancelClose:!0,tabNavigation:!1,enterNavigation:!1,enterMod:"altKey",stopAtEnd:!0,appendLocally:!1,appendTo:"body",stickyShift:!0,preventPaste:!1,caretToEnd:!1,scrollAdjustment:10,maxLength:!1,maxInsert:!0,repeatDelay:500,repeatRate:20,resetDefault:!0,openOn:"showKeyboard",keyBinding:"mousedown touchstart",useWheel:!0,useCombos:!0,validate:function(){return!0}},t.comboRegex=/([`\'~\^\"ao])([a-z])/mig,t.currentKeyboard="",n('<!--[if lte IE 8]><script>jQuery("body").addClass("oldie");<\/script><![endif]--><!--[if IE]><script>jQuery("body").addClass("ie");<\/script><![endif]-->').appendTo("body").remove(),t.msie=n("body").hasClass("oldie"),t.allie=n("body").hasClass("ie"),t.watermark=typeof document.createElement("input").placeholder!="undefined",t.checkCaretSupport=function(){if(typeof t.checkCaret!="boolean"){var i=n('<div style="height:0px;width:0px;overflow:hidden;position:fixed;top:0;left:-100px;"><input type="text" value="testing"/><\/div>').prependTo("body");t.caret(i.find("input"),3,3);t.checkCaret=t.caret(i.find("input").hide().show()).start!==3;i.remove()}return t.checkCaret},t.caret=function(n,t,i){if(!n||!n.length||n.is(":hidden")||n.css("visibility")==="hidden")return{};var r,u,f,e,o=n.data("keyboard"),s=o&&o.options.noFocus;return(s||n.focus(),typeof t!="undefined")?(typeof t=="object"&&"start"in t&&"end"in t?(r=t.start,u=t.end):typeof i=="undefined"&&(i=t),typeof t=="number"&&typeof i=="number"?(r=t,u=i):t==="start"?r=u=0:typeof t=="string"&&(r=u=n.val().length),n.caret(r,u,s)):(e=n.caret(),r=e.start,u=e.end,f=n[0].value||n.text()||"",{start:r,end:u,text:f.substring(r,u),replaceStr:function(n){return f.substring(0,r)+n+f.substring(u,f.length)}})},n.fn.keyboard=function(t){return this.each(function(){n(this).data("keyboard")||new n.keyboard(this,t)})},n.fn.getkeyboard=function(){return this.data("keyboard")},n.fn.caret=function(n,t,i){if(typeof this[0]=="undefined"||this.is(":hidden")||this.css("visibility")==="hidden")return this;var o,u,h,s,f,c=document.selection,e=this,r=e[0],v=r.scrollTop,l=!1,a=!0;try{l="selectionStart"in r}catch(y){a=!1}return a&&typeof n!="undefined"?(/(email|number)/i.test(r.type)||(l?(r.selectionStart=n,r.selectionEnd=t):(o=r.createTextRange(),o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",t-n),o.select())),!i&&(e.is(":visible")||e.css("visibility")!=="hidden")&&r.focus(),r.scrollTop=v,this):(/(email|number)/i.test(r.type)?n=t=e.val().length:l?(n=r.selectionStart,t=r.selectionEnd):c?r.nodeName==="TEXTAREA"?(f=e.val(),u=c.createRange(),h=u.duplicate(),h.moveToElementText(r),h.setEndPoint("EndToEnd",u),n=h.text.replace(/\r/g,"\n").length,t=n+u.text.replace(/\r/g,"\n").length):(f=e.val().replace(/\r/g,"\n"),u=c.createRange().duplicate(),u.moveEnd("character",f.length),n=u.text===""?f.length:f.lastIndexOf(u.text),u=c.createRange().duplicate(),u.moveStart("character",-f.length),t=u.text.length):n=t=(r.value||"").length,s=r.value||"",{start:n,end:t,text:s.substring(n,t),replace:function(i){return s.substring(0,n)+i+s.substring(t,s.length)}})},t});
/*! jQuery UI Virtual Keyboard Navigation v1.6.1 */
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof module=="object"&&typeof module.exports=="object"||n(jQuery)})(function(n){"use strict";n.keyboard=n.keyboard||{};n.keyboard.navigationKeys={toggle:112,enter:13,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,caretrt:45,caretlt:46,caretright:function(t){n.keyboard.keyaction.right(t)},caretleft:function(t){n.keyboard.keyaction.left(t)}};n.fn.addNavigation=function(t){return this.each(function(){var r,e,i=n(this).data("keyboard"),u=i.options,f=n.keyboard.events;i&&(i.navigation_options=r=n.extend({},{position:[0,0],toggleMode:!0,focusClass:"hasFocus",toggleKey:null},t),i.navigation_keys=e=n.extend({},n.keyboard.navigationKeys),i.navigation_namespace=i.namespace+"Nav",i.extensionNamespace.push(i.navigation_namespace),i.saveNav=[i.options.tabNavigation,i.options.enterNavigation],i.allNavKeys=n.map(e,function(n){return n}),i.navigation_init=function(){var t=n.keyboard.css;i.$keyboard.toggleClass(r.focusClass,r.toggleMode).find("."+t.keySet+":visible").find("."+t.keyButton+'[data-pos="'+r.position[0]+","+r.position[1]+'"]').addClass(u.css.buttonHover);i.$preview.unbind(i.navigation_namespace).bind("keydown"+i.navigation_namespace,function(n){return i.checkKeys(n.which)}).focus()},i.checkKeys=function(t,u){if(typeof t!="undefined"){var e=i.navigation_keys,o=n.keyboard.css;return((t===(r.toggleKey||e.toggle)||u)&&(r.toggleMode=u?!1:!r.toggleMode,i.options.tabNavigation=r.toggleMode?!1:i.saveNav[0],i.options.enterNavigation=r.toggleMode?!1:i.saveNav[1]),i.$keyboard.toggleClass(r.focusClass,r.toggleMode),r.toggleMode&&t===e.enter)?(i.$keyboard.find("."+o.keySet+":visible").find("."+o.keyButton+'[data-pos="'+r.position[0]+","+r.position[1]+'"]').trigger(f.kbRepeater),!1):r.toggleMode&&n.inArray(t,i.allNavKeys)>=0?(i.navigateKeys(t),!1):void 0}},i.setPos=function(n,t){r.position=[n,t]},i.navigateKeys=function(t,f,e){var v;e=typeof e=="number"?e:r.position[1];f=typeof f=="number"?f:r.position[0];var l=n.keyboard.css,a=i.$keyboard.find("."+l.keySet+":visible"),h=a.find("."+l.endRow).length-1,c=a.find("."+l.keyButton+'[data-pos^="'+f+',"]').length-1,s=i.last,y=i.$preview.val().length,o=i.navigation_keys;switch(t){case o.pageup:f=0;break;case o.pagedown:f=h;break;case o.end:e=c;break;case o.home:e=0;break;case o.left:e>0?e--:(f>0?(f==h&&c++,f--):f=h,e=c);break;case o.right:e<c?e++:(e=0,f=f<h?f+1:0);break;case o.up:f+=f>0?-1:h;break;case o.down:f+=f+1>h?-h:1;break;case o.caretrt:s.start++;break;case o.caretlt:s.start--}(t===o.caretrt||t===o.caretlt)&&(s.start=s.start<0?0:s.start>y?y:s.start,i.last.start=i.last.end=s.end=s.start,n.keyboard.caret(i.$preview,i.last));v=a.find("."+l.keyButton+'[data-pos^="'+f+',"]');c=v.length-1;e>c&&(e=c);a.find("."+u.css.buttonHover).removeClass(u.css.buttonHover);n(v[e]).addClass(u.css.buttonHover);r.position=[f,e]},i.options.alwaysOpen&&i.isVisible&&(i.$keyboard.find("."+u.css.buttonHover).removeClass(u.css.buttonHover),i.navigation_init()),i.$el.unbind(i.navigation_namespace).bind(f.kbVisible,function(){i.$keyboard.find("."+u.css.buttonHover).removeClass(u.css.buttonHover);i.navigation_init()}).bind(f.kbInactive+" "+f.kbHidden,function(n){i.checkKeys(n.which,!0)}).bind(f.kbKeysetChange,function(){i.navigateKeys(null)}).bind("navigate navigateTo",function(t,r,u){var f;r=isNaN(r)?r.toLowerCase():r;r in i.navigation_keys?(f=i.navigation_keys[r],isNaN(f)&&f in n.keyboard.keyaction?n.keyboard.keyaction[f](i,this,t):n.isFunction(f)?f(i):i.checkKeys(f)):typeof r=="string"&&r in n.keyboard.keyaction?n.keyboard.keyaction[r](i,this,t):i.navigateKeys(null,r,u)}))})}});
/*! Clusterize.js - v0.15.0 - 2015-12-02
* http://NeXTs.github.com/Clusterize.js/
* Copyright (c) 2015 Denis Lukov; Licensed MIT */
(function(n,t){typeof module!="undefined"||(typeof define=="function"&&typeof define.amd=="object"?define(t):this[n]=t())})("Clusterize",function(){"use strict";function r(n,t,i){return t.addEventListener?t.addEventListener(n,i,!1):t.attachEvent("on"+n,i)}function u(n,t,i){return t.removeEventListener?t.removeEventListener(n,i,!1):t.detachEvent("on"+n,i)}function t(n){return Object.prototype.toString.call(n)==="[object Array]"}function f(n,t){return window.getComputedStyle?window.getComputedStyle(t)[n]:t.currentStyle[n]}var i=function(){for(var n=3,t=document.createElement("b"),i=t.all||[];t.innerHTML="<!--[if gt IE "+ ++n+"]><i><![endif]-->",i[0];);return n>4?n:document.documentMode}(),e=navigator.platform.toLowerCase().indexOf("mac")+1,n=function(i){var f,p,w,c,b,h,s,y;if(!(this instanceof n))return new n(i);for(f=this,p={item_height:0,block_height:0,rows_in_block:50,rows_in_cluster:0,cluster_height:0,blocks_in_cluster:4,tag:null,content_tag:null,show_no_data_row:!0,no_data_class:"clusterize-no-data",no_data_text:"No data",keep_parity:!0,verify_change:!1,callbacks:{},scroll_top:0},f.options={},w=["rows_in_block","blocks_in_cluster","verify_change","show_no_data_row","no_data_class","no_data_text","keep_parity","tag","callbacks"],h=0;c=w[h];h++)f.options[c]=typeof i[c]!="undefined"&&i[c]!=null?i[c]:p[c];for(b=["scroll","content"],h=0;s=b[h];h++)if(f[s+"_elem"]=i[s+"Id"]?document.getElementById(i[s+"Id"]):i[s+"Elem"],!f[s+"_elem"])throw new Error("Error! Could not find "+s+" element");f.content_elem.hasAttribute("tabindex")||f.content_elem.setAttribute("tabindex",0);var o=t(i.rows)?i.rows:f.fetchMarkup(),l={data:""},tt=f.scroll_elem.scrollTop;f.exploreEnvironment(o);f.insertToDOM(o,l);f.scroll_elem.scrollTop=tt;var a=!1,k=0,v=!1,d=function(){e&&(v||(f.content_elem.style.pointerEvents="none"),v=!0,clearTimeout(k),k=setTimeout(function(){f.content_elem.style.pointerEvents="auto";v=!1},50));a!=(a=f.getClusterNum(o.length))&&f.insertToDOM(o,l);f.options.callbacks.scrollingProgress&&f.options.callbacks.scrollingProgress(f.getScrollProgress())},g=0,nt=function(){clearTimeout(g);g=setTimeout(f.refresh,100)};r("scroll",f.scroll_elem,d);r("resize",window,nt);f.destroy=function(n){u("scroll",f.scroll_elem,d);u("resize",window,nt);f.html((n?f.generateEmptyRow():o).join(""))};f.refresh=function(){f.getRowsHeight(o)&&f.update(o)};f.update=function(n){o=t(n)?n:[];var i=f.scroll_elem.scrollTop;o.length*f.options.item_height<i&&(f.scroll_elem.scrollTop=0,a=0);f.insertToDOM(o,l);f.scroll_elem.scrollTop=i};f.clear=function(){f.update([])};f.getRowsAmount=function(){return o.length};f.getScrollProgress=function(){return this.options.scroll_top/(o.length*this.options.item_height)*100||0};y=function(n,i){var r=t(i)?i:[];r.length&&(o=n=="append"?o.concat(r):r.concat(o),f.insertToDOM(o,l))};f.append=function(n){y("append",n)};f.prepend=function(n){y("prepend",n)}};return n.prototype={constructor:n,fetchMarkup:function(){for(var n=[],t=this.getChildNodes(this.content_elem);t.length;)n.push(t.shift().outerHTML);return n},exploreEnvironment:function(n){var t=this.options;(t.content_tag=this.content_elem.tagName.toLowerCase(),n.length)&&(i&&i<=9&&!t.tag&&(t.tag=n[0].match(/<([^>\s/]*)/)[1].toLowerCase()),this.content_elem.children.length<=1&&this.html(n[0]+n[0]+n[0]),t.tag||(t.tag=this.content_elem.children[0].tagName.toLowerCase()),this.getRowsHeight(n))},getRowsHeight:function(n){var t=this.options,r=t.item_height,i;if(t.cluster_height=0,n.length)return i=this.content_elem.children,t.item_height=i[Math.floor(i.length/2)].offsetHeight,t.tag=="tr"&&f("borderCollapse",this.content_elem)!="collapse"&&(t.item_height+=parseInt(f("borderSpacing",this.content_elem),10)||0),t.block_height=t.item_height*t.rows_in_block,t.rows_in_cluster=t.blocks_in_cluster*t.rows_in_block,t.cluster_height=t.blocks_in_cluster*t.block_height,r!=t.item_height},getClusterNum:function(n){this.options.scroll_top=this.scroll_elem.scrollTop;var i=this.options.cluster_height-this.options.block_height||1,t=Math.floor(this.options.scroll_top/i)||0,r=Math.max((this.options.rows_in_cluster-this.options.rows_in_block)*t,0);return t>0&&r+this.options.rows_in_block>n&&--t,t},generateEmptyRow:function(){var n=this.options,t,i,r;return!n.tag||!n.show_no_data_row?[]:(t=document.createElement(n.tag),i=document.createTextNode(n.no_data_text),t.className=n.no_data_class,n.tag=="tr"&&(r=document.createElement("td"),r.appendChild(i)),t.appendChild(r||i),[t.outerHTML])},generate:function(n,t){var i=this.options,e=n.length,u;if(e<i.rows_in_block)return{rows_above:0,rows:e?n:this.generateEmptyRow()};i.cluster_height||this.exploreEnvironment(n);var f=Math.max((i.rows_in_cluster-i.rows_in_block)*t,0),o=f+i.rows_in_cluster,s=f*i.item_height,h=(e-o)*i.item_height,r=[],c=f;for(s>0?(i.keep_parity&&r.push(this.renderExtraTag("keep-parity")),r.push(this.renderExtraTag("top-space",s))):c++,u=f;u<o;u++)n[u]&&r.push(n[u]);return h>0&&r.push(this.renderExtraTag("bottom-space",h)),{rows_above:c,rows:r}},renderExtraTag:function(n,t){var i=document.createElement(this.options.tag),r="clusterize-";return i.className=[r+"extra-row",r+n].join(" "),t&&(i.style.height=t+"px"),i.outerHTML},insertToDOM:function(n,t){var r=this.generate(n,this.getClusterNum(n.length)),u=r.rows.join(""),i=this.options.callbacks;(!this.options.verify_change||this.options.verify_change&&this.dataChanged(u,t))&&(i.clusterWillChange&&i.clusterWillChange(),this.html(u),this.options.content_tag=="ol"&&this.content_elem.setAttribute("start",r.rows_above),i.clusterChanged&&i.clusterChanged())},html:function(n){var t=this.content_elem;t.innerHTML=n},getChildNodes:function(n){for(var i=n.children,r=[],t=0,u=i.length;t<u;t++)r.push(i[t]);return Array.prototype.slice.call(r)},dataChanged:function(n,t){var i=JSON.stringify(n),r=i!==t.data;return r&&(t.data=i)}},n});var selCNet=0,selANet=0,curNet=[],isAP=!1,mTblCurrent=$("#tblCurrent");bScan=!1;bScanLeftAP=!0;wfOnPage=!0;wfStatCnt=0;wfCurState="Connecting";cfIpAdd=$("#cfIpAdd");onAwesome=!1;wfGener=!1;enabled=!0;addWifiCb=undefined;isWifiInitd=!1;maxSignal=30;WifiMan={id:"WifiMan",html:"",isInit:!1,refreshRate:1e3,init:function(){function f(t){return t.originalEvent.wheelDeltaY<0?n.selChange(n.lastIndex+1):n.selChange(n.lastIndex-1),!1}var n=WifiMan,i,e,u,t,o,r;n.isInit=!0;i=$("#Networks");mTblCurrent=$("#tblCurrent");mTblCurrent.off("click").on("click",".sens",function(){var n=$(this);selCNet=n.data("num");WifiMan.selChange(selCNet);n.addClass("selected").siblings("tr").removeClass("selected");openNetDetails()});mTblCurrent.on("mousewheel",f);e=!1;u=$("#wifiMenu");n.menuItems=$("#wifiMItems");n.wifiListParent=mTblCurrent;n.wifiList=n.wifiListParent.children().first();t=undefined;typeof Networks=="undefined"||Networks.length===0?(initWifi(),setupNets()):setupNets();n.enter=function(){wfOnPage=!0;mainTitle.push("Tools");tabBar.html("WiFi");pageArrows.hide();onAwesome=!0;cfOnAwesome();kbCon.push(r,mTblCurrent);i.show()};n.update=function(){(CurrentStatus.indicators&IND_WIFI_ALL_BITS)==0&&closeWifi()};n.leave=function(){i!=undefined&&i.hide();wfOnPage=!1;kbCon.pop();pageArrows.show();mainTitle.pop()};u.on("click",".mnuItem:not(.greyed)",function(t){var i=$(t.currentTarget).data("func");i!==undefined&&i!==""&&n[i]();console.log(i)});n.setAP=function(){n.closeWifiMenu();setAsAP()};n.RefreshNetwork=function(){n.closeWifiMenu();refreshNetworks()};n.AddNetwork=function(){n.closeWifiMenu();netAddPop()};o=0;n.lastIndex=0;n.selChange=function(i){var u=n.wifiListParent.children().children(),e,h;if(u.length>0){i<0?i=u.length-1:i>=u.length&&(i=0);t!=undefined&&t.removeClass("selected");t=$(u[i]);t.addClass("selected").focus();var r=n.wifiListParent.parent().parent(),f=r.offset().top+r.innerHeight()/2,o=r.scrollTop(),s=t.offset().top;r.scrollTop(s-f+o+t.innerHeight()/2);e=f;h=e+r.innerHeight();n.lastIndex=i}};n.openMenu=function(){n.wifiMenuOpen=!0;u.show();$("#bgOvly").show();Object.keys(ftr).length>1&&(ftr.lf.push(!1),ftr.rt.push(!1),ftr.mi.push("button","Close",n.closeWifiMenu));kbCon.push(menuCon,n.menuItems);n.menuItems.find(".mnuItem").removeClass("hover");var t=n.menuItems.find(".mnuItem").filter(":not(.greyed):visible");t.length>0&&t.first().addClass("hover");$("#RefreshNet").focus()};n.closeWifiMenu=function(){n.wifiMenuOpen&&(n.wifiMenuOpen=!1,$("#wifiMenu").hide(),$("#bgOvly").hide(),popFooters(),kbCon.pop())};$("#wifiMnCl").on("click",n.closeWifiMenu);r={name:"wifiCon",keyUp:function(n){if(n!=KEY_SOFT_MID)return!0},keyDown:function(i){var u=!1,f;return t==undefined||t.length==0?n.selChange(0):i==KEY_ENTER?(selCNet=t.data("num"),openNetDetails(),u=!0,r.__rn=!0):(i==KEY_ARR_DOWN||i==KEY_ARR_UP)&&(f=parseInt(t.data("num"),10),i==KEY_ARR_UP?(f--,u=!0,console.log("up")):(f++,u=!0,console.log("down")),n.selChange(f),r.__rn=!0),u}}},footer:function(){return WifiMan.isInit||WifiMan.init(),{mi:{type:"button",text:"Close",handlr:closeWifi,visible:!0},rt:{type:"button",text:"Menu",handlr:WifiMan.openMenu,visible:!0}}}};typeof tbId!="undefined"&&tbId.Wifi&&(PageArray[tbId.Wifi][0]={controls:[WifiMan],refDRate:1e3,dataNeeded:["TAG_IO_NUM_FILES","TAG_IO_TOTAL_FLASH","TAG_IO_FREE_FLASH",{g:"overall",data:["TAG_IO_DURATION"]}]});wifiStrength=0;AboutTb={id:"AboutTb",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){function h(n){console.log("Getting data..."+n);AboutProps=GenerateCache(n);var t=document.getElementById("TAG_SERIALNUM");console.log("Got data");t.innerHTML=n.TAG_SERIALNUM;t=document.getElementById("TAG_MANUFACTURE_DATE");t.innerHTML=n.TAG_MANUFACTURE_DATE;t=document.getElementById("TAG_FIRMWARE_STRING");t.innerHTML=n.TAG_FIRMWARE_STRING;t=document.getElementById("TAG_PREAMPTYPE");t.innerHTML=n.TAG_PREAMPTYPE;$("#lbModel").html(AboutProps.TAG_INST_NAME);$("#TAG_COPYRIGHT_STRING").html(AboutProps.TAG_COPYRIGHT_STRING)}function c(){return++e,!0}function l(){return e%4!=0?!0:(i=++i%4,i==1?(n.parent().show(),t.parent().show(),$("#TAG_FIRMWARE_STRING").html(AboutProps.TAG_FIRMWARE_STRING),$("#lbTAG_FIRMWARE_STRING").html("Firmware Version"),t.html(AboutProps.TAG_FW_DATE_STRING),$("#lbTAG_SILICON").html("FW Build Date"),n.html(AboutProps.TAG_FW_TIME_STRING),f.html("FW Build Time"),r.parent().hide()):i==2?(n.parent().show(),t.parent().show(),$("#TAG_FIRMWARE_STRING").html(AboutProps.PCBRev),$("#lbTAG_FIRMWARE_STRING").html("PCB Rev"),t.html(AboutProps.TAG_SILICON),$("#lbTAG_SILICON").html("DSP Rev"),n.html(AboutProps.TAG_RAM_SIZE+" MB"),f.html("RAM Size"),r.parent().hide()):i==3?(n.parent().show(),r.parent().show(),t.parent().show(),$("#TAG_FIRMWARE_STRING").html(AboutProps.TAG_PWR_CNTL_MCU_UID_1),$("#lbTAG_FIRMWARE_STRING").html("MCU UID 1"),t.html(AboutProps.TAG_PWR_CNTL_MCU_UID_2),$("#lbTAG_SILICON").html("MCU UID 2"),n.html(formD(AboutProps.TAG_PWR_CNTL_REV,3)),f.html("MCU Rev"),r.html(AboutProps.TAG_PWR_CNTL_BUILD),s.html("MCU Build")):($("#TAG_FIRMWARE_STRING").html(AboutProps.TAG_FIRMWARE_STRING),$("#lbTAG_FIRMWARE_STRING").html("Firmware Version"),n.parent().hide(),r.parent().hide(),t.parent().hide()),!0)}function a(){if(lockedGetData==0){++lockedGetData;try{$.getJSON("/getData.js?val=900").done(function(n){h(n.AboutTab);lockedGetData=0}).fail(function(n,t,i){if(n.responseText.indexOf("LAeq")!=-1)parseData($.parseJSON(n.responseText));else{var r=t+", "+i;console.log("Request Failed: "+r)}})}catch(n){alert(n);lockedGetData=0}finally{lockedGetData=0}}}var u=AboutTb,i,e;u.isInit=!0;var o=$("#dAbout"),f=$("#abLb3"),n=$("#abDt3"),s=$("#abLb4"),r=$("#abDt4"),t=$("#abSil");$("#TAG_SERIALNUM").bind("click",function(){location.reload()});$("#TAG_MANUFACTURE_DATE").bind("click",function(){location.reload()});u.enter=function(){return a(),abCon.right=l,abCon.left=c,n.parent().hide(),t.parent().hide(),$("#lbTAG_FIRMWARE_STRING").html("Firmware Version"),e=1,o.show(),kbCon.push(abCon,mainContent),!0};u.update=function(){};u.leave=function(){o.hide();kbCon.pop()};i=0}};PageArray[tbId.About][0]={controls:[AboutTb],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};StandTb={id:"StandTb",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var t=StandTb,n,i;t.isInit=!0;n=$("#StandTb");i=0;t.enter=function(){return(SystemProperties.TAG_MASK_OPTION&SystemProperties.TAG_OPTION_FLAGS&64)==0&&(n.find("#dose1").hide(),n.find("#dose2").hide()),(SystemProperties.TAG_MASK_OPTION&SystemProperties.TAG_OPTION_FLAGS&3)==0&&(n.find("#oba1").hide(),n.find("#oba2").hide()),AboutProps.TAG_SYSTEM_CLASS!=undefined&&AboutProps.TAG_SYSTEM_CLASS==2?(console.log("Type 2"),n.find(".TAG_STAND1").html("Class 2"),n.find(".TAG_STAND2").html("Type 2")):(console.log("Type 1"),n.find(".TAG_STAND1").html("Class 1"),n.find(".TAG_STAND2").html("Type 1")),kbCon.push(abCon,mainContent),n.show(),!0};t.update=function(){};t.leave=function(){n.hide();kbCon.pop()}}};PageArray[tbId.Standards][0]={controls:[StandTb],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};OptTb={id:"OptTb",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){function f(n){var i=$(this),t=i.offset();n.pageX==undefined&&(n.pageX=t.left);n.pageY==undefined&&(n.pageY=t.top)}function u(){setTimeout(function(){typeof MainOptions!="undefined"?(console.log("Calling GenerateOptionsCheckboxes();"),GenerateOptionsCheckboxes(!0,n,MainOptions,!0),setTimeout(function(){console.log("order of click");n.find("img:first").trigger("click")},300),r=!0):u()},150)}var t=OptTb;t.isInit=!0;var i=$("#OptTb"),n,r=!1;n=i.find("#OptTable");n.on("click","img",f);t.enter=function(){return r||u(),i.show(),setTimeout(function(){n.find("img:first").focus()},300),kbCon.push(abCon,mainContent),!0};t.update=function(){};t.leave=function(){i.hide();kbCon.pop()}}};PageArray[tbId.Options][0]={controls:[OptTb],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};UserTb={id:"UserTb",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var t=UserTb;t.isInit=!0;var n=$("#UserTb"),i=n.find("#userInf0"),r=n.find("#userInf1"),u=n.find("#userInf2");t.enter=function(){return i.html(SystemProperties.TAG_USER_STRING_0),r.html(SystemProperties.TAG_USER_STRING_1),u.html(SystemProperties.TAG_USER_STRING_2),n.show(),kbCon.push(abCon,mainContent),!0};t.update=function(){};t.leave=function(){n.hide();kbCon.pop()}}};PageArray[tbId.User][0]={controls:[UserTb],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};var cals={},preamp={},certs={},calChk=!1,envPrmp=!1,lstPrmp="Direct";CalibrationTab={id:"CalibrationTab",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){function lt(){var r=pageData.TAG_IO_SYS_PEAK_OVERLOAD;if(r==undefined)tt<25&&(++tt,setTimeout(lt,250));else{gt.html(formD(r,1)+" dB");var n=formD(pageData.TAG_IO_SYS_UNDER_RANGE_A,1),t=formD(pageData.TAG_IO_SYS_UNDER_RANGE_C,1),i=formD(pageData.TAG_IO_SYS_UNDER_RANGE_Z,1);$("#OvLdLvlA").html(n);$("#OvLdLvlC").html(t);$("#OvLdLvlZ").html(i);n=formD(pageData.TAG_IO_SYS_NOISE_FLOOR_A,1);t=formD(pageData.TAG_IO_SYS_NOISE_FLOOR_C,1);i=formD(pageData.TAG_IO_SYS_NOISE_FLOOR_Z,1);$("#NsFlrA").html(n);$("#NsFlrC").html(t);$("#NsFlrZ").html(i);$("#micMdl").html(SystemProperties.TAG_MIC_INFO);$("#micSens").html(formD(preamp.sensitivity,4)+" mV/Pa")}}function ni(n){var h=cals.length,i,t,o;for(s.empty(),i="",t=0;t<h;t++){var r=cals[t].name.toString().trim(),u=formNum(cals[t].level,1),f=formNum(cals[t].freq,1),e="";t==n-1&&(e=" selected",o="/sdk?func=get&f=31&p1=102&p2=0&vals=8,1128350548,"+n+"&format=ack:i4",$.getJSON(o));i+='<option value="'+t+'" '+e+' data-calb="'+r+'" data-lvl="'+u+'" data-frq="'+f+'">'+r+", "+u+" dB, "+f+"Hz<\/option>"}s.append(i)}function ti(){g.hide();$.post("/sdk?func=sendCommand&id=257",function(){dispHG(!0);SystemProperties.TAG_AUTO_STORE===1?(waitingStore=!0,WaitForStore(o)):SystemProperties.TAG_AUTO_STORE===2?WaitForAutoStore(o):WaitForStop(o)})}function at(){i.hide();u=!0}function r(){totalOvly&&totalOvly.hide();y.focus()}function ii(){var n=Number(s.val()),t=n+1;$.getJSON("/sdk?func=get&f=31&p1=102&p2=0&vals=8,1128350548,"+t+"&format=ack:i4")}function o(){var n;c=!1;n=nt;calChk&&(n=ct);ft.text("- - -");ut.text("- - -");ht.show();st.css("display","none");pt="caRun";CalibrationTab.dataNeeded=["TAG_IO_CALIBRATION_SPL","TAG_IO_CALIBRATION_DELTA"];u=!1;f=0;$.getJSON("/sdk?func=cmd&id="+n+"&p1=1&format=ack:i4",function(n){n.Response.ack=="0"?(kbCon.push(calVlsCon,i),ui(n)):(console.log("Cal start failed with Ack = "+n.Response.ack),n.Response.ack=="-10"?$.getJSON("/sdk?func=get&f=0x82&p2=0xB0&format=state:i4",function(n){console.log("Meter is in state = "+n.Response.state);n.Response.state=="9"?vt-->0?ri():it():it()}):it())})}function ri(){console.log("Sending calibration Abort command...");var n=3;calChk&&(n=4);$.getJSON("/sdk?func=cmd&id="+t+"&p1="+n+"&format=ack:u4",function(){setTimeout(o,1e3)})}function it(){console.log("Calibration failed to start!");n.find("#errMsg").text("Calibration failed to start. Wait 20 seconds and try again or reboot the meter.");k.show();n.find("#btnErrOk").focusNextInputField()}function ui(){started=!0;i.show();p.focus();rt=0;yt()}function yt(){u||$.getJSON("/sdk?func=get&f=169&format=level:f4,stab:i4,ack:i4",function(t){var r,v,y,e,o;t.Response.ack=="0"?(r=t.Response.level,h=formNum(r,2).toString(),r<-99||c==!1?(r<-99&&(c=!0),n.find("#rstFlt").html("Resetting filters...  "+fi(++rt))):(ft.text(h),ht.hide(),st.css("display","block"),calChk==!1?(v=s.find("option:selected"),y=parseFloat(v.data("lvl")),l=y-r):l=a!=undefined?r-a:0,e=formD(l,2).toString(),c&&ut.text(e),calChk==!1?wt.text(e):(o=" Save %sdB as  Standard Cal. Level? ".replace("%s",h+" "),o=o.replace("\n","<br />"),bt.html(o))),f=t.Response.stab,f<0&&(u=!0,c=!1),rt>30&&(i.hide(),u=!0,f=-2),console.log("SPL: "+h+"     Delta: "+e+"     Stability: "+formD(f,0))):(i.hide(),u=!0,f=-2);u?ei(f):setTimeout(yt,500)})}function fi(n){var t="00"+n;return t.substr(t.length-2)}function ei(t){i.hide();CalibrationTab.dataNeeded=[];u=!0;kbCon.pop();t==-1?(console.log("Stopping Cal, Show Results"),calChk==!1?(w.show(),n.find("#btnSvYs").focus()):(b.show(),n.find("#btnCcSvYs").focus())):(k.show(),n.find("#btnErrOk").focus(),console.log("Stopping Cal, Show Error Dlg"));kbCon.push(calVlsCon,i)}var e=CalibrationTab,n=$("#CalView"),w=n.find("#calResDlg"),b=n.find("#calChkDlg"),k=n.find("#calError"),d=n.find("#calOutNorm"),i=n.find("#rdVals"),pt="caIdle",s=n.find("#calDrpdwn"),g=n.find("#stopReq"),ut=n.find("#TAG_CAL_DELTA"),ft=n.find("#TAG_CAL_SPL"),l=0,t=nt,a,oi=pageData.TAG_IO_CALIBRATION_SPL,wt=n.find("#TAG_CAL_RESULTS"),bt=n.find("#svStdClLv"),v=n.find("#TAG_STD_EA_LEVEL"),y=n.find("#btnDoCal"),et=y.find("span"),ot=n.find("#clbrtgLbl"),st=n.find("#caInfo"),ht=n.find("#caWait"),h="- - -",si=document.getElementById("stabMtr"),kt=n.find("#btnOutYes"),dt=n.find("#btnOutNo"),gt=$("#OvrldLvl"),hi=$("#UndrRngLvl"),ci=$("#NoiseFlr"),nt=279,ct=280,tt,p,vt;s.on("change",function(){ii()});e.enter=function(){e.isInit=!1;FillDataStructs(function(){lt();$.getJSON("/sdk?func=get&f=159&p1=102&p2=0&vals=1128350548&format=tag:u4,cal:u4,ack:u4",function(n){var t=n.Response.cal;ni(t)})});kbCon.push(calCon,n);tabBarPar.hide();$("#Live").css("display","none");$("#imgMenu").hide();MeasurementProperties==undefined?$.getJSON("/sdk?func=getproperties").done(function(n){MeasurementProperties=GenerateCache(n.MeasProperties);envPrmp=MeasurementProperties.TAG_PREAMPTYPE=="PRM2103"||MeasurementProperties.TAG_PREAMPTYPE=="426A12"?!0:!1}):envPrmp=MeasurementProperties.TAG_PREAMPTYPE=="PRM2103"||MeasurementProperties.TAG_PREAMPTYPE=="426A12"?!0:!1;curTabIndex==tbId.Calibrate&&curPageIndex==0?(mainTitle.push(PageArray[tbId.Calibrate].Name),tabBar.text("Calibration"),et.text("Do Calibration"),ot.html("Calibrating"),n.find("#CalTab").show(),n.find("#CalChkTab").hide(),n.find("#CalPrms").show(),calChk=!1,t=nt):(mainTitle.push("Calibration Check"),tabBar.text("Cal. Check"),ot.html("Calibration Check"),n.find("#CalTab").hide(),n.find("#CalChkTab").show(),n.find("#CalPrms").hide(),calChk=!0,t=ct,et.text("Do Calibration Check"),$.getJSON("/sdk?func=getProperty&tagid=0x53544541&type=float",function(n){a=formNum(n.value,2);v.val(a)}));n.show();y.focus();setTimeout(function(){e.isInit=!0},0)};e.update=function(){lstPrmp!=MeasurementProperties.TAG_PREAMPTYPE&&(lstPrmp=MeasurementProperties.TAG_PREAMPTYPE,FillDataStructs())};e.leave=function(){n!=undefined&&n.hide();kbCon.pop();mainTitle.pop();tabBarPar.show();pageArrows.show()};tt=0;y.on("click",function(){e.isInit&&(totalOvly&&totalOvly.show(),typeof CurrentStatus.uiRunFlags!="undefined"?CurrentStatus.IsRunning||CurrentStatus.IsRunPending?(g.show(),kbCon.push(calVlsCon,i),n.find("#btnCalYes").focus()):(p.focus(),o()):(p.focus(),o()))});n.find("#btnCalYes").on("click",function(){kbCon.pop();ti()});n.find("#btnCalNo").on("click",function(){g.hide();kbCon.pop();r()});kt.on("click",function(){$.getJSON("/sdk?func=cmd&id="+t+"&p1=2&format=ack:i4");d.hide();kbCon.pop();r()});dt.on("click",function(){d.hide();kbCon.pop();r();$.getJSON("/sdk?func=cmd&id="+t+"&p1=3&format=ack:u4")});n.find("#rdVals").on("click",at);p=n.find("#btnRdValsCncl");n.find("#btnSvYs").on("click",function(){w.hide();kbCon.pop();$.getJSON("/sdk?func=get&f=159&p1=102&vals=0x43414C4D&format=cmd:u4,lower:f4,upper:f4",function(n){$.getJSON("/sdk?func=getdatanew&group=live&tagid=0x44534143&type=float",function(u){var f=u.Data,o=n.Response.lower,s=n.Response.upper,e;f>=o&&f<=s?(e="/sdk?func=cmd&id="+t+"&p1=2&format=ack:i4",$.getJSON(e)):(kbCon.push(calVlsCon,i),d.show(),setTimeout("calOutNorm.focus()",100),setTimeout("btnOutNo.focus()",150));r()})})});n.find("#btnSvNo").on("click",function(){w.hide();kbCon.pop();$.getJSON("/sdk?func=cmd&id="+t+"&p1=3&format=ack:u4");r()});n.find("#btnCcSvYs").on("click",function(){b.hide();kbCon.pop();v.val(h);var n="/sdk?func=cmd&id="+t+"&p1=2&format=ack:i4";$.getJSON(n);r()});n.find("#btnCcSvNo").on("click",function(){b.hide();kbCon.pop();$.getJSON("/sdk?func=cmd&id="+t+"&p1=3&format=ack:i4");r()});n.find("#btnErrOk").on("click",function(){k.hide();kbCon.pop();r()});n.find("#btnRdValsCncl").on("click",function(){console.log("Aborting Cal or CalCheck...");var n=3;calChk&&(n=4);kbCon.pop();$.getJSON("/sdk?func=cmd&id="+t+"&p1="+n+"&format=ack:u4");at();r()});v.on("blur",function(){var t=Number(SystemProperties.TAG_STD_EA_LEVEL),n=Number(v.val());t!=n&&(t=n,$.post("/sdk?func=setProperty&tagid=0x53544541&value="+n+"&type=float",function(){$.getJSON("/sdk?func=LATCHSETTINGS&data=0&marksettingschanged=false")}))});vt=5;var f=0,u=!1,c=!1,rt=0}};PageArray[tbId.Calibrate][0]={controls:[CalibrationTab],dataNeeded:["TAG_IO_SYS_NOISE_FLOOR_A","TAG_IO_SYS_NOISE_FLOOR_C","TAG_IO_SYS_NOISE_FLOOR_Z","TAG_IO_SYS_UNDER_RANGE_A","TAG_IO_SYS_UNDER_RANGE_C","TAG_IO_SYS_UNDER_RANGE_Z","TAG_IO_SYS_PEAK_OVERLOAD"]};PageArray[tbId.CalCheck][0]={controls:[CalibrationTab],dataNeeded:["TAG_IO_SYS_NOISE_FLOOR_A","TAG_IO_SYS_NOISE_FLOOR_C","TAG_IO_SYS_NOISE_FLOOR_Z","TAG_IO_SYS_UNDER_RANGE_A","TAG_IO_SYS_UNDER_RANGE_C","TAG_IO_SYS_UNDER_RANGE_Z","TAG_IO_SYS_PEAK_OVERLOAD"]};SensitivityTab={id:"SensitivityTab",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){function a(){w.html(preamp.name)}function k(){v(s.val(),h.val());g(l.val());kbCon.pop();confDialog.timeout=2e3;confDialog.callConfirm("","Sensitivity data has been written to the meter.",function(){},{Can:{on:"off"},Conf:{on:"off"}})}function d(n){$.getJSON("/sdk?func=setProperty&tagid=0x534D494E&value="+n+"&type=string&index="+t,function(){$.getJSON("/sdk?func=LATCHSETTINGS&data=0&marksettingschanged=false")})}function v(n,i){$.getJSON("/sdk?func=setProperty&tagid=0x534D5331&value="+n+"&type=float&index="+t,function(){$.getJSON("/sdk?func=setProperty&tagid=0x534D4E46&value="+i+"&type=float&index="+t,function(){$.getJSON("/sdk?func=LATCHSETTINGS&data=0&marksettingschanged=false")})})}function g(n){n=1e3/n;$.getJSON("/sdk?func=setProperty&tagid=0x43413033&value="+n+"&type=float",function(){$.getJSON("/sdk?func=LATCHSETTINGS&data=0&marksettingschanged=false")})}function nt(){var e,n,u,f,o,v,y,p;for(i=preamp.mics,c=preamp.currentMic,e=i.length,r.empty(),n=0;n<e;n++)u=i[n].name.toString(),f="",c==u&&(f=" selected"),u!=" "&&(o='<option value="'+n+'"'+f+">"+u+"<\/option>",r.append(o));v=preamp.sensitivity.toFixed(4);l.val(v.toString());$.getJSON("/sdk?func=getproperty&tagid=0x534D5331&type=float&index="+t).done(function(n){y=n.value;s.val(y)});$.getJSON("/sdk?func=getproperty&tagid=0x534D4E46&type=float&index="+t).done(function(n){p=n.value;h.val(p.toString())});a()}function tt(){var n=r.val(),f=$("#micDrpdwn").children("option:selected").text(),t=i[n].sensitivity.toFixed(2),u=i[n].noiseFloor.toFixed(1);s.val(t);h.val(u.toString());d(f);v(t,u.toString())}function y(n){var c=cals.length,t,h;for(calEditDd.empty(),t=0;t<c;t++){var i=cals[t].name.toString().trim(),r=cals[t].level.toFixed(1),u=cals[t].freq.toFixed(1),s="";t==n&&(o.val(i),e.val(u.toString()),f.val(r.toString()),s=" selected");h='<option value="'+t+'"'+s+">"+i+", "+r+" dB, "+u+"Hz<\/option>";calEditDd.append(h)}}function it(){o.val(cals[0].name);f.val(cals[0].level.toFixed(1));e.val(cals[0].freq)}function rt(){var n,t,i,r;console.log("Saving calibrator settings...");n=Number(calEditDd.val());t=o.val();t=t.replace(/,/g," ");i=f.val();r=e.val();cals[n].name=t;cals[n].freq=parseFloat(r);cals[n].level=parseFloat(i);$.getJSON("/sdk?func=setProperty&tagid=0x43425330&value="+t+"&type=string&index="+n,function(){$.getJSON("/sdk?func=setProperty&tagid=0x43423030&value="+i+"&type=float&index="+n,function(){$.getJSON("/sdk?func=setProperty&tagid=0x43424630&value="+r+"&type=float&index="+n,function(){})})});y(n);confDialog.timeout=2e3;confDialog.callConfirm("","Calibrator edits saved.",function(){},{Can:{on:"off"},Conf:{on:"off"}})}function ut(){var n=Number(calEditDd.val()),t=cals[n].name.toString().trim(),i=cals[n].freq.toFixed(1),r=cals[n].level.toFixed(1);o.val(t);e.val(i.toString());f.val(r.toString())}var u=SensitivityTab;u.isInit=!0;var n=$("#SensView"),i={},c,t,r=$("#micDrpdwn"),p=$("#btnSvMic"),w=$("#prModel"),b=n.find("#btnSvClbrtr"),s=$("#TAG_MIC_NOMINAL"),h=$("#TAG_MIC_NOISE"),l=$("#TAG_MIC_ACTUAL"),ft=$("#TAG_MIC_INFO"),f=n.find("#TAG_CALIBRATOR_LEVEL"),e=n.find("#TAG_CALIBRATOR_FREQ"),o=n.find("#TAG_CALIBRATOR_STRING");calEditDd=$("#calEditDrpdwn");p.on("click",function(){k()});b.on("click",function(){rt()});calEditDd.on("change",function(){ut()});r.on("change",function(){tt()});u.enter=function(){FillDataStructs(nt);kbCon.push(calCon,n);tabBarPar.hide();mainTitle.push(PageArray[tbId.Sensitivity].Name);$("#Live").css("display","none");t=preamp.id;n.show();$("#tabBarGndPar").hide();y(0);it();r.focus()};u.update=function(){lstPrmp!=MeasurementProperties.TAG_PREAMPTYPE&&(lstPrmp=MeasurementProperties.TAG_PREAMPTYPE,FillDataStructs(a))};u.leave=function(){n!=undefined&&n.hide();kbCon.pop();mainTitle.pop();$("#tabBarGndPar").show();tabBarPar.show();pageArrows.show()}}};PageArray[tbId.Sensitivity][0]={controls:[SensitivityTab],dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};var mics={},curMic,micDrpdwn=$("#micDrpdwn"),prModel=$("#prModel"),CalHistTab={id:"CalHistTab",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){function tt(){y.html(preamp.name)}function it(){var n="/sdk?func=calhistjson";curTabIndex==tbId.CalChkHist&&curPageIndex==0&&(n+="&check=true");$.getJSON(n,function(n){var r=n.Entries,l=r.length<=10?r.length:10,o,s,e,c;for($("#calHistTbl").children("tbody").children("tr:gt(1)").remove(),i=0;i<l;i++){var u=calHistTbl.insertRow(i+2),a=u.insertCell(0),v=u.insertCell(1),y=u.insertCell(2),p=u.insertCell(3),w=r[i].timeStamp,f=new Date(w*1e3);f.setMinutes(f.getMinutes()+timeOffset);o=f.format("Y-M-d");s=f.format("H:i:s");a.innerHTML=o;v.innerHTML=s;y.innerHTML=r[i].scale.toFixed(1);p.innerHTML=r[i].delta.toFixed(1);e="trNav";IsRemote&&(e+=" hoverable");c=$(u).data("index",i).addClass(e).attr("tabindex",i);i==0&&(nt=c)}t.find("#calHistTbl").find("option:selected").remove();t.find("#calHistTbl").find(".trNav:first").focus();$("#calHistTbl").find("tr").on("click keydown",function(n){if(console.log(n),h.css("display")=="none"&&(n.type=="keydown"&&n.which==13||n.type=="click")){var t=$(this).data("index");console.log("index: "+t);ft(t);n.preventDefault();n.stopPropagation()}})})}function rt(n,t){var i=n.crosshair,s=n.getData(),u=0,r;if(i===null)i=0;else if(r=n.getAxes(),i.x<r.xaxis.min||i.x>r.xaxis.max||i.y<r.yaxis.min||i.y>r.yaxis.max?i=n.crosshair:lastFullOctavePosition=i,i.x>.5){u=(t.length*(i.x-1)/n.width()-0).toFixed(0);var f=s[0].data.length-1,e=n.width()/f,o=Math.round((i.x-.3)/e),h=e*.7*(f/2-o)/f;return o}return console.log("Index: "+u),u}function ut(n){return k[n]}function ft(i){if(totalOvly&&totalOvly.show(),kbCon.push(calHstCon,t),h.show(),l.focus(),i!=undefined){var c;c=curTabIndex==tbId.CalChkHist&&curPageIndex==0?"/sdk?func=getcalspectrum&check=true&index="+i:"/sdk?func=getcalspectrum&index="+i;$.getJSON(c,function(t){for(var c,l,h=0,i=0;i<u;i++)r[i]=[i,t.Data[i]],h+=Math.pow(10,Number(r[i][1])/10);h=10*Math.log(h)/Math.LN10;p[u]=[u,h];r[u]=[u,h];c=[];c.push({label:"",data:r,color:"#26b3f7"});c.push({label:"",data:p,color:"rgb(1, 99, 147)"});adjustOffset=SystemProperties.TAG_OBA_GRAPH_BOTTOM;var a={bars:{show:!0,barWidth:.4,fill:!0,align:"center",fillColor:"rgb(38,179,247)"},yaxis:{min:SystemProperties.TAG_OBA_GRAPH_BOTTOM<0?0:SystemProperties.TAG_OBA_GRAPH_BOTTOM,tickSize:20,tickFormatter:function(n){return n%40==0?"":n.toString()},ticks:tickForm,max:SystemProperties.TAG_OBA_GRAPH_HEIGHT+SystemProperties.TAG_OBA_GRAPH_BOTTOM},xaxis:{tickSize:1,tickFormatter:ut},crosshair:{x:21,mode:"x",color:"rgba(255,255,255,0.4)"},grid:{hoverable:!0,autoHighlight:!1}},v=e[22],y=Number(r[22][1]);o.html(n.mkFrqStr(v));s.html(y);f=$.plot($("#flotPlaceholder17"),c,a,GraphTypes.CALIBRATION);f.setCrosshair({x:21,y:0});f.crosshair.index=21;l={};l.preventDefault=function(){};n.RSrightKD()})}}var n=CalHistTab,e,k;n.isInit=!0;var t=$("#CalHistView"),d=it,l=t.find("#btnSpClose"),h=$("#calSpectrum"),o=$("#chFrqVal"),s=$("#chMagVal"),c=$("#chFrqUnits"),a=$("#unitsLbl1"),v=$("#unitsLbl2"),y=$("#prmpLbl"),et=$("#flotPlaceholder17"),r=[],p=[],w=0,f,b=w+1,g={},ot="TAG_THIRD_OCTAVE_REFERENCE_SPECTRA"+b,st="TAG_THRD_REF_SP"+(w-3),u=36,nt;g=SystemProperties["TAG_THIRD_OCTAVE_REFERENCE_SPECTRA"+b];n.enter=function(){FillDataStructs(d);lstPrmp=MeasurementProperties.TAG_PREAMPTYPE;kbCon.push(calCon,t);tabBarPar.hide();$("#Live").css("display","none");curTabIndex==tbId.CalHist&&curPageIndex==0?(a.html("dB re"),v.html("1V/Pa"),mainTitle.push("Calibration History")):(a.html("Level"),v.html("dB"),mainTitle.push("Calibration Check History"));y.html(MeasurementProperties.TAG_PREAMPTYPE);t.show()};n.update=function(){lstPrmp!=MeasurementProperties.TAG_PREAMPTYPE&&(lstPrmp=MeasurementProperties.TAG_PREAMPTYPE,FillDataStructs(tt))};n.leave=function(){$("#calHistTbl").find("tr").off("click keydown");document.activeElement.blur();t!=undefined&&t.hide();kbCon.pop();mainTitle.pop();tabBarPar.show();pageArrows.show()};l.on("click",function(){n.clsSp()});n.clsSp=function(){h.hide();kbCon.pop();totalOvly&&totalOvly.hide()};$("#flotPlaceholder17").bind("mouseup",function(){var t=0,i,h,c;t=rt(f,e);t=t<u?t:u;o.html(n.mkFrqStr(e[t]));i=r[t];i!=undefined&&(h=i[1].toFixed(1),s.html(h));c=f.crosshair;console.log("Original Position: "+c.x)});n.RSrightKD=function(){var t={};t.lastBar=.3;t.direction=1;var i=f.bumpCHIndex(t),h=e[i],l=Number(r[i][1]);return o.html(n.mkFrqStr(h)),s.html(l.toFixed(1)),i>=u?c.html(""):c.html("Hz"),!0};n.RSleftKD=function(){var t={};t.lastBar=.3;t.direction=-1;var i=f.bumpCHIndex(t),u=e[i],h=Number(r[i][1]);return o.html(n.mkFrqStr(u)),s.html(h.toFixed(1)),c.html("Hz"),!0};n.mkFrqStr=function(n){var t;return n!="&Sigma;"?(t="L<sub>C("+n+"Hz)F<\/sub>",t=t.replace("K "," k")):t="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<sub>&nbsp;<\/sub>&Sigma;",t};e=[6.3,8,10,12.5,16,20,25,31.5,40,50,63,80,100,125,160,200,250,315,400,500,630,800,"1K","1.25K","1.6K","2K","2.5K","3.15K","4K","5K","6.3K","8K","10K","12.5K","16K","20K","&Sigma;"];k=["","","","","31.5","","","","","","","","","250","","","","","","","1K","","","","","","","","","8K","","","","&nbsp;&nbsp;&Sigma;","","",""];Math.log10=function(n){return Math.log(n)/Math.LN10}}};PageArray[tbId.CalHist][0]={controls:[CalHistTab],dataNeeded:[]};PageArray[tbId.CalChkHist][0]={controls:[CalHistTab],dataNeeded:[]};CertificationTab={id:"CertificationTab",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){function v(){var t=certs.interval,v=certs.reminder,a=certs.xtime*1e3,n;i.val(t);u.val(v);a==0?(f.html("No Date"),r.html("No Date")):(n=new Date(a),n.setMinutes(n.getMinutes()+timeOffset),f.html(n.format("Y-M-d")),e(t));o.html(SystemProperties.TAG_CERTIFICATION_STRING_0);s.html(SystemProperties.TAG_CERTIFICATION_STRING_1);h.html(SystemProperties.TAG_CERTIFICATION_STRING_2);c.html(SystemProperties.TAG_CERTIFICATION_STRING_3);l.html(SystemProperties.TAG_CERTIFICATION_STRING_4)}function y(){var n=i.val();$.getJSON("/sdk?func=setProperty&tagid=0x43543031&value="+n+"&type=int&index=0",function(){});e(n)}function p(){var n=u.val();$.getJSON("/sdk?func=setProperty&tagid=0x43543032&value="+n+"&type=int&index=0",function(){})}function e(n){var i,t;n=Number(n);i=certs.xtime;n<4?(t=new Date(i*1e3),t.setFullYear(t.getFullYear()+(n+1)),t.setMinutes(t.getMinutes()+timeOffset),r.html(t.format("Y-M-d"))):r.html("Never")}var n=CertificationTab;n.isInit=!0;var t=$("#CertView"),f=$("#ctPrfmd"),r=$("#ctDue"),o=$("#ctType"),s=$("#ctNm"),h=$("#ctAdr"),c=$("#ctCtySt"),l=$("#ctPh"),i=$("#ctIvlDD"),u=$("#ctRemDD"),a=v;i.on("change",function(){y()});u.on("change",function(){p()});n.enter=function(){kbCon.push(calCon,t);GetCerts(a);tabBarPar.hide();mainTitle.push(PageArray[tbId.Certificate].Name);$("#Live").css("display","none");t.show();i.focus()};n.update=function(){};n.leave=function(){t!=undefined&&t.hide();kbCon.pop();mainTitle.pop();tabBarPar.show();pageArrows.show()}}};PageArray[tbId.Certificate][0]={controls:[CertificationTab],dataNeeded:[]};var oraDlgCtl={open:function(n,t,i){oraDlgCtl.fs=t;oraDlgCtl.cmd=i;oraDlgCtl.fn=n;var r=$("#oraDlg");kbCon.push(dlgCon,r);ftr.lf.push(!1);ftr.mi.push(!1);ftr.rt.push(!1);r.show()},redo:function(n){if(n>0){var t="/sdk?func=filecmd&fn="+oraDlgCtl.fn+"&fs="+oraDlgCtl.fs+"&cmd="+oraDlgCtl.cmd+"&op="+n;$.getJSON(t).done(function(n){console.log(n)}).always(function(){kbCon.pop();$("#oraDlg").hide();ftr.lf.pop();ftr.mi.pop();ftr.rt.pop()})}else kbCon.pop(),$("#oraDlg").hide(),ftr.lf.pop(),ftr.mi.pop(),ftr.rt.pop()}},YNPopCtl={inited:!1,open:function(n){bgOvly.show();var t=$("#YNPop");kbCon.push(dlgCon,t);t.show();YNPopCtl.cmd=n;YNPopCtl.inited||YNPopCtl.init();ftr.mi.push(!1);ftr.rt.push(!1);$("#ynpYes").focus()},apply:function(){bgOvly.hide();DFMan.fileOp(YNPopCtl.cmd,1);kbCon.pop();$("#YNPop").hide();ftr.mi.pop();ftr.rt.pop()},cancel:function(){bgOvly.hide();kbCon.pop();$("#YNPop").hide();ftr.mi.pop();ftr.rt.pop()},init:function(){var n=YNPopCtl;$("#ynpYes").on("click",n.apply);$("#ynpNo").on("click",n.cancel);n.inited=!0}},ErrSucc=0,ErrBusy=-2147266532,ErrDup=-2147266509,ErrFLocked=-2147266507,ErrErr=-2147266555,ErrBadAck=-2147266539,ErrOptMismatch=-2147266504,ErrMismatch=-2147266506,ErrInvalid=-2147266539,ErrFileOpFailed=-2147266508,DFMan={id:"DFMan",html:"",isInit:!1,refreshRate:RefreshRates.ms1000,init:function(){function it(){return i.data("fname")}function lt(){return i.data("loc")}function ni(){return"."+i.data("type")}function at(n,r){if(n==undefined||k)r();else switch(n.ResultCode){case ErrSucc:n.cmd==0?r instanceof Function&&r():n.cmd==7?t.prepFileView(n.fname):n.cmd==8?(r instanceof Function&&r(),getMeasSysProps(100,!0)):n.cmd==10?(c=!0,s.show(),r instanceof Function&&r()):n.cmd==3||n.cmd==6?r instanceof Function&&r():n.cmd!=11?(t.opInProg=!0,r&&r(),confDialog.callConfirm("","The operation is now in progress, please wait.",function(){t.opInProg=!1},{Can:{on:"off"}})):r instanceof Function&&r();a=3;break;case ErrBusy:confDialog.callConfirm("Warning","The meter is currently busy, try again later.",r,{Can:{on:"off"}});break;case ErrDup:n.cmd==0?(fnDlgCtl.open("Duplicate Name<br/>Rename File?",t.acceptRename,t.cancelRename,i.data("dname")),ftr.mi.push(!1),ftr.rt.push(!1)):oraDlgCtl.open(n.fname,n.path,n.cmd);break;case ErrFLocked:confDialog.callConfirm("Warning","The file is currently locked.",r,{Can:{on:"off"}});break;case ErrOptMismatch:confDialog.callConfirm("Warning","Unable to open file, options in file don't match meter.<br/>Download file to view the data.",r,{Can:{on:"off"}});break;case ErrMismatch:r instanceof Function&&r();YNPopCtl.open(n.cmd);break;case ErrFileOpFailed:case ErrInvalid:case ErrErr:case ErrBadAck:default:confDialog.callConfirm("Warning","Something went wrong. Code: "+n.ResultCode,r,{Can:{on:"off"}})}dispHG(!1)}function rt(n,t){$.getJSON(n).done(function(n){at(n,t)})}function vt(n){$.getJSON("/sdk?func=queryfileliststatus").done(function(t){var i=!1,r;t!=null&&t.Progress!=null&&t.Progress.ReturnValue!=null&&(r=t.Progress.ReturnValue,r=="2468"&&(i=!0,n!=undefined&&n(t)));i||setTimeout(vt,300,n)})}function y(){o||(i=undefined,o=!0,ut=0,n.sIndex=0,n.elements=[],n.parent.scrollTop(0),n.container.css("margin-top",0),yt=CurrentStatus.file_count,$.getJSON("/sdk?func=startfilelistbuild&dpath=2").done(function(){vt(function(){ft()})}))}function ti(n){return n.originalEvent.wheelDeltaY<0?t.selChange(r+1):t.selChange(r-1),!1}function ft(){h?$.getJSON("/sdk?func=getdatafilelist&sindex="+n.elements.length+"&count=500").done(function(i){var h,u,c,f;if(dispHG(!1),h=n.elements==undefined||n.elements.length==0,i.DataFiles.length>0){for(u=i.DataFiles,c=ut,f=0;f<u.length;++f){var r=u[u.length-f-1],e=r.name.length-1,s=r.name.substr(0,e-1),l=r.location==3?"USB":"",a=r.location==3?1:0;s!=""&&e>0&&n.elements.push($("<li class='file ext_"+r.name.substr(e,1)+"' data-fname='"+r.name+"' data-dname='"+s+"' data-type='"+r.name.substr(e,1)+"' data-i='"+n.elements.length+"' data-loc='"+a+"'><div align='left'><span>"+s+"<span><span style='float:right; color:#01D303; font-weight: bold;' class='loc_txt'>"+l+"<\/span><\/div><div style='font-size:11px'><span>"+SecsToShortDateTime(r.startTime)+"<\/span><span style='float:right'>"+getFSz(r.size)+"<\/span><\/li>"))}n.update();ut=u[u.length-1].index+1;h&&t.selChange(0);i.DataFiles.length==500?setTimeout(ft,500):o=!1}else n.elements.length==0?(n.container.html(""),o=!1):o=!1}):o=!1}function pt(){var n,t;p=CurrentStatus.indicators;et=SystemProperties.TAG_USB_STORAGE;e&&(n=g.find(".mnuItem"),n.removeClass("hover"),(p&(IND_FILE_OPERATION_LSB|IND_FILE_OPERATION_MSB))>0?n.addClass("greyed"):(n.removeClass("greyed"),(p&IND_USB_PRESENT)==0?n.filter(".needUSB").hide():n.filter(".needUSB").show(),i==undefined||i.len==0?n.filter(".fileOnly").addClass("greyed"):(lt()==1&&n.filter(".inteOnly").addClass("greyed"),tt&&!c?(l.show(),l.removeClass("greyed")):(l.hide(),l.addClass("greyed")),c?(s.show(),s.removeClass("greyed")):(s.hide(),s.addClass("greyed")))),t=n.filter(":not(.greyed):visible"),t.length>0&&t.first().addClass("hover"))}function u(){e&&(e=!1,$("#dmMenu").hide(),$("#bgOvly").hide(),ftr.lf.pop(),ftr.mi.pop(),ftr.rt.pop(),kbCon.pop())}function bt(n,t,i,r){$.getJSON("/sdk?func=fileerrors&start="+n+"&count="+t).done(function(u){var o,h,f,s,e;if(u.Total>0&&u.Count>0){h=u.Failures[0].cmd;f="";switch(h){case 0:f="Rename failed with";break;case 1:f="Copy failed with";break;case 2:f="Move failed with";break;case 3:f="Delete failed with";break;case 4:f="Copy All failed with";break;case 5:f="Move All failed with";break;case 6:f=""}for($("#opCode").text(f),s="<div class='mnuItem hover' style='font-size:10px' ><div style='text-align:left;'>"+u.Failures[0].fn+":<\/div>"+u.Failures[0].Message+"<\/div>",e=1;e<u.Count;++e)s+="<div class='mnuItem' style='font-size:10px' ><div style='text-align:left;'>"+u.Failures[e].fn+":<\/div>"+u.Failures[e].Message+"<\/div>";i.html(s);n+t<u.Total?setTimeout(bt,10,[n+t,t,i,r]):o=!0}r instanceof Function&&typeof o=="boolean"&&r(o)})}var t=DFMan,v,r,o,wt,st,ii,w,k,f;t.isInit=!0;t.tree={};var ht=$("#flParent"),d=$("#flContent"),kt=$("#fsDetails"),e=!1,h=!1,g=$("#dmMenu"),dt=$("#dmMItems"),nt=$("#DataView"),c=!1,tt=!1,s=$("#cAvg"),l=$("#sAvg"),gt=$("#elist"),ct=$("#elistP"),b=undefined,a=0;t.acceptRename=function(){if(d.find(".selected").find("a").html()!=fnDlgCtl.fn()){var n="/sdk?func=filecmd&fn="+it()+"&fs="+lt()+"&cmd=0&newfn="+fnDlgCtl.fn()+ni();rt(n)}ftr.mi.pop();ftr.rt.pop()};t.cancelRename=function(){dispHG(!1);ftr.mi.pop();ftr.rt.pop()};v=!1;t.fileDelOp=function(n){u();confDialog.callConfirm("",(n==0?"Deleting all internal files.":n==1?"Deleting all USB files.":"Delete File")+" Continue?",function(){var r="/sdk?func=filecmd&cmd=6";n==2?(r="/sdk?func=filecmd&cmd=3",r+="&fn="+it(),r+="&fs="+i.data("loc")):n!==undefined&&(r+="&fs="+n);v=!0;t.opInProg=!0;rt(r,function(){},n)})};t.fileOp=function(n,r){v=!1;t.opInProg=!0;var f="/sdk?func=filecmd&fs="+i.data("loc")+"&cmd="+n;u();n===0?(fnDlgCtl.open("Rename File?",t.acceptRename,t.cancelRename,i.data("dname")),ftr.mi.push(!1),ftr.rt.push(!1)):((n<=3||n>=7)&&(f+="&fn="+it()),r!==undefined&&(f+="&op="+r),$.getJSON("/sdk?func=acknotif&id="+NID_FILE_OPERATION_COMPLETE+"&code="+NOTIFY_RSP_OK),rt(f,function(){},n))};$("#dmMnCl").on("click",u);g.on("click",".mnuItem:not(.greyed)",function(n){var i=$(n.currentTarget),r=function(){var n=i.data("func"),r=i.data("p");n!==undefined&&n!==""&&(r!==undefined?t[n](r):t[n]());console.log(n)};i.hasClass("resetReq")&&!CurrentStatus.IsDataReset?ResetRequired(r):r()});r=-1;o=!1;var ut=0,i=undefined,n={parent:$("#flParent"),container:$("#flContent"),clusterSize:15,sIndex:0,tIndex:0,pageSize:undefined,offset:undefined,lastSIndex:-1,elements:[],update:function(){var t,i,f,u;if(n.elements.length>0){for(t=n.sIndex+n.clusterSize,t>=n.elements.length&&(t=n.elements.length),console.log("Start: "+n.sIndex),console.log("End: "+t),n.container.html(""),i=n.sIndex;i<t;++i)n.elements[i]!=undefined&&n.elements[i].appendTo(n.container);n.pageSize==undefined&&(n.eleHeight=n.elements[n.sIndex].outerHeight(),n.pageSize=ht.height()/n.eleHeight,n.offset=(ht.height()-n.eleHeight)/2);f=n.sIndex*n.eleHeight;u=(n.elements.length-n.sIndex-n.clusterSize)*n.eleHeight;u<0&&(u=0);n.container.css("margin-top",f);n.container.css("margin-bottom",u+n.offset-3*n.eleHeight+3);console.log(u+n.offset-3*n.eleHeight+3);r<3&&n.lastSIndex>0?n.parent.scrollTop(0):n.parent.scrollTop(r*n.eleHeight-n.offset);console.log(n.parent.scrollTop())}else n.container.html("")}};n.parent.on("mousewheel",ti);n.parent.on("scroll",function(){if(r<3&&n.parent.scrollTop()>0){t.selChange(r+1);n.parent.scrollTop(0);return}if(r>n.elements.length-4&&n.parent.scrollTop()<n.parent[0].scrollHeight-n.parent.height()&&(n.parent.scrollTop(n.parent[0].scrollHeight),t.selChange(r-1)),n.parent.scrollTop()>0&&n.parent.scrollTop()<n.eleHeight&&r<3||r==0){n.parent.scrollTop(0);return}if((n.parent.scrollTop()<n.parent[0].scrollHeight&&n.parent.scrollTop()>n.parent[0].scrollHeight-n.eleHeight&&n.parent.scrollTop(n.parent[0].scrollHeight),!(r>=Math.floor(n.elements.length-n.pageSize/2))||!(n.parent.scrollTop()/n.eleHeight>n.sIndex+5))&&(Math.abs(Math.abs(n.parent.scrollTop())-Math.abs(r*n.eleHeight-n.offset))>3&&r>2&&r<n.elements.length-3||Math.abs(n.parent.scrollTop())>Math.abs(r*n.eleHeight-n.offset))){var i=Math.round((n.parent.scrollTop()+n.offset)/n.eleHeight);t.selChange(i);return}});t.selChange=function(t,u){if(n.elements.length>0){t<0?t=n.elements.length-1:t>=n.elements.length&&(t=0);i!=undefined&&i.removeClass("selected");i=n.elements[t];r=t;var f=Math.floor(r-n.clusterSize/2);f<0?f=0:f>=n.elements.length-n.clusterSize&&n.elements.length>=n.clusterSize&&(f=n.elements.length-n.clusterSize);n.sIndex!=f&&(n.lastSIndex=n.sIndex);n.sIndex=f;u||n.update();i.addClass("selected").focus();console.log("sIndex: "+n.sIndex);console.log("selIndex: "+r);n.parent.parent().focus()}};d.on("click","li",function(n){return t.selChange(parseInt($(n.currentTarget).data("i"),10),!0),window.focus(),!1});d.on("dblclick","li",function(){return t.viewFile(),!1});t.ref=function(){CurrentStatus.file_count!=0&&n.elements.length==0&&dispHG(!0);y();u()};t.enter=function(){h=!0;mainTitle.push("Tools");tabBar.html("Data File Manager");pageArrows.hide();ot||CurrentStatus.file_count!=b?(y(),ot=!1):ft();p=CurrentStatus.indicators;et=SystemProperties.TAG_USB_STORAGE;n.container.children().first().addClass(".selected");tt=(SystemProperties.TAG_MASK_OPTION&SystemProperties.TAG_OPTION_FLAGS&4194304)>0;tt&&l.show();kbCon.push(f,$("#flContent"));nt.show();CurrentStatus.notifID==4&&t.showComplete()};t.update=function(){var n=CurrentStatus.file_count;b!=n||a===1?(--a,b=n,y()):a>0&&(CurrentStatus.indicators&(IND_FILE_OPERATION_FROM_INTERNAL|IND_FILE_OPERATION_TO_INTERNAL|IND_FS_CHECK|IND_FS_FORMAT|IND_FS_FORMAT_RESTORE))==0&&!confDialog.is(":visible")&&--a;var i=CurrentStatus.total_mem_kb,r=CurrentStatus.free_mem_kb,t=getFSz(r*1024);t+=" of "+getFSz(i*1024);kt.html(t+", "+n+(n==1?" Data File":" Data Files"))};t.leave=function(){h=!1;c&&(c=!1,s.hide());nt!=undefined&&nt.hide();kbCon.pop();pageArrows.show();mainTitle.pop();b=CurrentStatus.file_count};var p=undefined,et=undefined,yt=0,ot=!1;t.refresh=function(){if(h){var t=!1;CurrentStatus.file_count!=0&&n.elements.length==0&&dispHG(!0);(p!=CurrentStatus.indicators||et!=SystemProperties.TAG_USB_STORAGE||yt!=CurrentStatus.file_count)&&(t=!0,y());pt()}else ot=!0};t.openMenu=function(){e=!0;g.show();pt();$("#bgOvly").show();ftr.lf.push(!1);ftr.rt.push(!1);ftr.mi.push("button","Close",u);kbCon.push(menuCon,dt)};t.closeFileHandler=function(){dispHG(!0);getMeasSysProps(100,!0).done(function(){getMeasSysProps(200,!0).done(function(){Sess.started&&Sess.reset();mainTitle.pop();kbCon.pop();t.closeFile();popPage();setupPageCounts();e=!1}).always(function(){dispHG(!1)})}).fail(function(){dispHG(!1)})};wt={lf:{type:"arrow",text:"",handlr:keyLeftArrow,visible:!0},mi:{type:"button",text:"Close",handlr:function(){t.closeFileHandler()},visible:!0},rt:{type:"arrow",text:"",handlr:keyRightArrow,visible:!0}};st=$("#inFile");t.closeFile=function(){var n,i;WebSocketComm.Connected&&WebSocketComm.SetDataRate(0);n=CurrentStatus.indicators&IND_USB_ACTIVE_PRIMARY;console.log("Closing File");inFileDsp=!1;IsUSB&&CurrentStatus.indicators&IND_FILE_OPEN_USB||IsTCP&&CurrentStatus.indicators&IND_FILE_OPEN_TCP||IsLocal?$.getJSON("/sdk?func=cmd&id="+CMD_CLOSE_FILE+"&p1="+n).done(function(){if(WebSocketComm.Connected){var n=GroupTabToName(curTabIndex);WebSocketComm.SetDataNeeded({Registering:page.Registering[n]});WebSocketComm.SetDataRate(page.refDRate)}}).fail(function(){console.log("Failed to close the file")}):WebSocketComm.Connected&&(i=GroupTabToName(curTabIndex),WebSocketComm.SetDataNeeded({Registering:page.Registering[i]}),WebSocketComm.SetDataRate(page.refDRate));st.hide();setTimeout(function(){t.selChange(r)},0)};ii=277;t.viewFile=function(){e&&u();dispHG(!0);WebSocketComm.Connected&&WebSocketComm.SetDataRate(0);$.getJSON("/sdk?func=filecmd&cmd=7&fs="+i.data("loc")+"&fn="+i.data("fname")).done(function(n){n.ResultCode==0?(inFileDsp=!0,$.getJSON("/sdk?func=getproperties&subset=file").done(function(n){MeasurementProperties=GenerateCache(n.MeasProperties);MeasurementProperties.OnMeter=OnMeter;SystemProperties=GenerateCache(n.SysProperties);setupPageCounts();pushPage(tbId.Overall,0,wt);kbCon.push(pgCon,mainContent);updateMainTitle();Sess.started&&Sess.reset();t.fileInfo={name:i.data("fname"),loc:i.data("loc")};mainTitle.push(i.data("dname"));st.show()}).fail(function(){t.closeFile()}).always(function(){dispHG(!1)})):(dispHG(!1),WebSocketComm.SetDataRate(page.refDRate),n.ResultCode==ErrFileOpFailed||n.ResultCode==ErrFLocked?confDialog.callConfirm("Warning","Failed to open the file. A file may be open by another client.",function(){},{Can:{on:"off"}}):at(n,function(){e&&u()}))}).fail(function(){if(WebSocketComm.Connected){var n=GroupTabToName(curTabIndex);WebSocketComm.SetDataRate(page.refDRate)}console.log("error");dispHG(!1)})};w=!1;k=!1;t.showErrors=function(){if(!w){var n=gt.detach();t.opInProg&&confDialog.dialog("close");bt(0,250,n,function(t){if($.getJSON("/sdk?func=acknotif&id="+NID_FILE_OPERATION_FAILURES+"&code="+CurrentStatus.notifFlags),n.appendTo(ct),t){w=!0;ftr.lf.push(!1);ftr.rt.push(!1);ftr.mi.push("button","Close",function(){DFMan.clsErr()});var i=$("#fopErr");i.show();i.focusNextInputField(1,".mnuItem",i);kbCon.push(menuCon,ct)}})}};t.clsErr=function(){w&&(w=!1,ftr.lf.pop(),ftr.rt.pop(),ftr.mi.pop(),$("#fopErr").hide(),kbCon.pop(),$.getJSON("/sdk?func=acknotif&id="+NID_FILE_OPERATION_FAILURES+"&code="+NOTIFY_RSP_OK),DFMan.refresh&&DFMan.refresh())};t.showComplete=function(){h&&t.opInProg||CurrentStatus.Force?(k=!0,t.opInProg=!1,v?(v=!1,$.getJSON("/sdk?func=acknotif&id="+NID_FILE_OPERATION_COMPLETE+"&code="+NOTIFY_RSP_OK).done(function(){getProp(PropertyTags.TAG_FILE_NAME,TypeString,function(){getProp(SystemTags.TAG_FILE_EXTENSION_EX,TypeString,function(){mainTitle.refresh()})})})):(notifDialog.timeout=0,notifDialog.callConfirm("","The operation completed successfully.",function(){console.log("confirming");k=!1;$.getJSON("/sdk?func=acknotif&id="+NID_FILE_OPERATION_COMPLETE+"&code="+NOTIFY_RSP_OK);y();getProp(PropertyTags.TAG_FILE_NAME,TypeString,function(){getProp(SystemTags.TAG_FILE_EXTENSION_EX,TypeString,function(){mainTitle.refresh()})})},{Can:{on:"off"}}))):$.getJSON("/sdk?func=acknotif&id="+NID_FILE_OPERATION_COMPLETE+"&code="+NOTIFY_RSP_OK).done(function(){getProp(PropertyTags.TAG_FILE_NAME,TypeString,function(){getProp(SystemTags.TAG_FILE_EXTENSION_EX,TypeString,function(){mainTitle.refresh()})})})};t.jmp=function(n){t.selChange(n);u()};f={name:"dfmCon",repeat:0,keyUp:function(){f.repeat=0},keyDown:function(n){var r=!1,e,u;return i==undefined||i.length==0?t.selChange(0):n==KEY_ENTER?(t.viewFile(),r=!0):(n==KEY_ARR_DOWN||n==KEY_ARR_UP)&&(++f.repeat,f.repeat>12&&(f.repeat=12),e=parseInt(f.repeat/3,10)+1,u=parseInt(i.data("i"),10),n==KEY_ARR_UP?(u-=e,r=!0,console.log("up")):(u+=e,r=!0,console.log("down")),t.selChange(u),f.__rn=!0),r}}},footer:function(){return DFMan.isInit||DFMan.init(),{mi:{type:"button",text:"Close",handlr:closeDataExplorer,visible:!0},rt:{type:"button",text:"Menu",handlr:DFMan.openMenu,visible:!0}}}};PageArray[tbId.DataMgr][0]={controls:[DFMan],refDRate:RefreshRates.ms1000,dataNeeded:["TAG_IO_NUM_FILES","TAG_IO_TOTAL_FLASH","TAG_IO_FREE_FLASH",{g:"overall",data:["TAG_IO_DURATION"]}]};SysUtils={id:"SysUtils",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){function s(){(CurrentStatus.indicators&IND_USB_PRESENT)==0?(r.prop("disabled","disabled").addClass("ydisabled"),u.prop("disabled","disabled").addClass("ydisabled"),o.focus(),f=0):(r.prop("disabled",!1).removeClass("ydisabled"),u.prop("disabled",!1).removeClass("ydisabled"),r.focus(),f=1)}function h(n,i){var r=n==131?c:l;$.getJSON("/sdk?func=cmd&p1="+i+"&p2="+n+"&id="+r+"&format=ack:i4").done(function(r){r.Response.ack!=0?r.Response.ack==-10?(ResetRequired(function(){h(n,i)},!0),dispHG(!1)):(confDialog.callConfirm("","File system operation in progress.",function(){},{Can:{on:"off"},Conf:{on:"on"}}),dispHG(!1)):(sysUtilsCmdCounter=1,t.cmd=n)}).fail(function(){dispHG(!1)})}function i(n,t){console.log("ask: Restore?");var i;switch(n){case 131:i=t?"Check USB file system?":"Check internal file system?";break;case 129:i=t?"Format USB drive?":"Format internal storage?";break;case 130:i="Format / Restore Defaults";break;default:i="How did you get here?!"}confDialog.callConfirm("",i,function(){dispHG(!0);h(n,t);console.log("Ok. Restoring...")})}var t=SysUtils;t.isInit=!0;var n=$("#SysUtils"),e,r=n.find("#formUSB"),u=n.find("#chkFSU"),o=n.find("#chkFSI"),f=-1;t.enter=function(){return e=rightKDFunc,n.show(),s(),t.focused=$(document.activeElement),kbCon.push(suCon,n),!0};t.update=function(){(CurrentStatus.indicators&IND_USB_PRESENT)!=f&&s()};t.leave=function(){rightKDFunc=e;n.hide();kbCon.pop();dispFArr(!0)};var c=1e3,l=1001;u.bind("click",function(){$(this).hasClass("ydisabled")||i(131,1)});r.bind("click",function(){$(this).hasClass("ydisabled")||i(129,1)});o.bind("click",function(){i(131,0)});n.find("#formInt").bind("click",function(){i(129,0)});n.find("#formIntRest").bind("click",function(){i(130,0)});t.clear=function(n,t,i){(SysUtils.cmd||CurrentStatus.Force)&&(SysUtils.cmd=undefined,periodCount=1,confDialog.dialog("close"),dispHG(!1),notifDialog.timeout=0,notifDialog.callConfirm(n,t,function(){$.getJSON("/sdk?func=acknotif&id="+i+"&code="+NOTIFY_RSP_OK)},{Can:{on:"off"}}))}}};PageArray[tbId.SysUtils][0]={controls:[SysUtils],refDRate:RefreshRates.ms500,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};suCon={name:"suCon",keyUp:function(n){return console.log("suCon keyup;"),n!=KEY_SOFT_MID?(suCon.__rn=!0,!0):void 0},keyDown:function(n,t){var u=!1,r,i;if(n==KEY_ENTER)r=$(document.activeElement),r.length>0&&(r.hasClass("kbi")||r.trigger("click")),u=!0,suCon.__rn=!0;else{i=$(document.activeElement);i.length<=0&&(i=t);switch(n){case KEY_ARR_UP:case KEY_ARR_LEFT:i.focusNextInputField(0,"button:not(.ydisabled)",t);break;case KEY_ARR_DOWN:case KEY_ARR_RIGHT:i.focusNextInputField(1,"button:not(.ydisabled)",t)}}return suCon.__rn=!0,u}};SetupMgr={id:"SetupMgr",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,Active:!1,init:function(){function i(){return!1}var n=SetupMgr,t;n.isInit=!0;n.started=!1;t=$("#SetupManager");n.enter=function(){return dispHG(!1),n.Active=!0,SystemProperties.TAG_MASK_OPTION!=undefined&&(OptionTags=SystemProperties),n.started||(console.log("PopulateSetupManagerRecords !!!"),$("#ApplyChangesPopup").hasClass("ui-dialog-content")||prepSM(),PopulateSetupManagerRecords(),n.started=!0),t.show(),$(document).bind("contextmenu",i),kbCon.push(mgrCon,pageAccord),setTimeout(CheckForChanges,0),ColorCurrentSelection(),!0};n.update=function(){};n.leave=function(){$(document).unbind("contextmenu",i);n.Active=!1;kbCon.pop();t.hide();dispHG(!0)};BtnMenu=$({})}};PageArray[tbId.SetupMgr][0]={controls:[SetupMgr],refDRate:RefreshRates.ms1000,condition:function(){return!0},dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};sysDevice={id:"sysDevice",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=sysDevice,t;n.isInit=!0;t=$("#Device");n.enter=function(){return kbCon.push(setCon,t),getAllPropertyData("TAG_USER_STRING_0",populateDevice,doExtDv),LastSelectedTab=tbId.Device,t.show(),!0};n.update=function(){};n.leave=function(){t.hide();kbCon.pop()}}};PageArray[tbId.Device][0]={controls:[sysDevice],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};sysTime={id:"sysTime",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=sysTime,t;n.isInit=!0;t=$("#Time");InitializeTm();n.enter=function(){return kbCon.push(setCon,t),console.log("pop Time"),LastSelectedTab=tbId.Time,getAllPropertyData("TAG_DATE_TIME",populateTime,doExtTm),ldDtTm(),t.show(),!0};n.update=function(){};n.leave=function(){t.hide();kbCon.pop()}}};PageArray[tbId.Time][0]={controls:[sysTime],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};sysNTP={id:"sysNTP",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=sysNTP,t;n.isInit=!0;t=$("#sysNTP");n.enter=function(){return kbCon.push(setCon,t),LastSelectedTab=tbId.sysNTP,getAllPropertyData("TAG_DATE_TIME",populateNTP),t.show(),!0};n.update=function(){};n.leave=function(){t.hide();kbCon.pop()}}};PageArray[tbId.sysNTP][0]={controls:[sysNTP],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};sysPower={id:"sysPower",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){function r(){var t=i.val();t==="0"||t==="2"?(SystemProperties.TAG_POWER_BATT_CHARGE!=0&&(n.find("#TAG_POWER_BATT_CHARGE").val("0"),SystemProperties.TAG_POWER_BATT_CHARGE=0),n.find("#TAG_POWER_BATT_CHARGE").attr("disabled",!0)):(SystemProperties.TAG_POWER_BATT_CHARGE!=1&&(n.find("#TAG_POWER_BATT_CHARGE").val("1"),SystemProperties.TAG_POWER_BATT_CHARGE=1),n.find("#TAG_POWER_BATT_CHARGE").attr("disabled",!1))}function u(){var r=ModelNumber===m831C||Model==="831C",t,i;r?(n.find("#dispBrightRow").css("display","table-row"),n.find("#TAG_POWER_LIGHT option[value='1']").html("On"),n.find("#TAG_POWER_LIGHT option[value='2']").remove(),n.find("#TAG_POWER_BATT_CHARGE").parent().parent().show(),SystemTags.TAG_POWER_EXT_SHUTOFF.MinVal=6):(n.find("#dispBrightRow").css("display","none"),n.find("#TAG_POWER_LIGHT option[value='1']").html("Dim"),t=n.find("#TAG_POWER_LIGHT"),i=t.children("option").length,i<3&&t.append($("<option/>").attr("value",i).text("Bright")),n.find("#TAG_POWER_BATT_CHARGE").parent().parent().hide())}var t=sysPower,n,i;t.isInit=!0;n=$("#Power");i=n.find("#TAG_POWER_BATT");t.enter=function(){return kbCon.push(setCon,n),console.log("pop Power"),LastSelectedTab=tbId.Power,getAllPropertyData("TAG_POWER_BATT",populatePower,u),i.val()==="0"&&(SystemProperties.TAG_POWER_BATT_CHARGE!=0&&(n.find("#TAG_POWER_BATT_CHARGE").val("0"),SystemProperties.TAG_POWER_BATT_CHARGE=0),n.find("#TAG_POWER_BATT_CHARGE").attr("disabled",!0)),n.show(),!0};t.update=function(){};t.leave=function(){n.hide();kbCon.pop()};n.find("#TAG_POWER_BATT").change(function(){r()})}};PageArray[tbId.Power][0]={controls:[sysPower],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};sysPref={id:"sysPref",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=sysPref;n.isInit=!0;var t=$("#Preferences"),r=$("#TAG_USB_HOST_POWER"),i=t.find("#TAG_DISPLAY_COLOR_SCHEME");n.enter=function(){kbCon.push(setCon,t);spSwitch();getAllPropertyData("TAG_RANDOMCORRECTION",populatePreferences,doExtPr);r.off("change.pref").on("change.pref",function(){typeof prepMenu!="undefined"&&prepMenu()});return LastSelectedTab=tbId.Prefer,ModelNumber===m831||Model==="831"?$("#prefTmZn").show():$("#prefTmZn").hide(),t.show(),!0};n.update=function(){};n.leave=function(){t.hide();kbCon.pop()};g4!==!0&&i.change(function(){var n=parseInt(i.val(),10);isNaN(n)&&(n=Theme.DARK);switch_style(n,swiClrs)});i.unbind(".pop")}};PageArray[tbId.Prefer][0]={controls:[sysPref],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};sysLocal={id:"sysLocal",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=sysLocal,t;n.isInit=!0;t=$("#sysLocal");n.enter=function(){return kbCon.push(setCon,t),console.log("popul sysLocal"),LastSelectedTab=tbId.sysLocal,getAllPropertyData("TAG_DISPLAY_DECIMAL",populateLocalization,emptyFun),t.show(),!0};n.update=function(){};n.leave=function(){t.hide();kbCon.pop()}}};PageArray[tbId.sysLocal][0]={controls:[sysLocal],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};sysDisp={id:"sysDisp",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var t=sysDisp,n;t.isInit=!0;n=$("#Displays");t.enter=function(){return kbCon.push(setCon,n),console.log("popul Displays"),LastSelectedTab=tbId.Displays,getAllPropertyData("TAG_STARTUPTAB",populateDisplays,doExtDisp),n.show(),!0};t.update=function(){};t.leave=function(){n.hide();kbCon.pop()};pgsTbl=n.find("#PagesTable");n.find("#DISPLAY_SELECTOR").change(function(){setupDisplayTabs()})}};PageArray[tbId.Displays][0]={controls:[sysDisp],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};sysOpts={id:"sysOpts",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var t=sysOpts,n;t.isInit=!0;n=$("#sysOpts");t.enter=function(){return kbCon.push(setCon,n),console.log("popul Options"),LastSelectedTab=tbId.sysOpts,getAllPropertyData("TAG_STARTUPTAB",populateOptions,doExtOpt),n.show(),setTimeout(function(){n.find(searchFocDef).not(":hidden").first().focus()},500),!0};t.update=function(){};t.leave=function(){n.hide();kbCon.pop()}}};PageArray[tbId.sysOpts][0]={controls:[sysOpts],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};spNet={id:"spNet",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){function r(){n.find("#TAG_IP_ADDRESS").text(SystemProperties.TAG_IP_ADDRESS);n.find("#TAG_MAC_ADDRESS").text(SystemProperties.TAG_MAC_ADDRESS);Model==="831C"&&OnMeter&&(n.find("#ExternalIP").show(),n.find("#TAG_EXT_MAC_ADDRESS").text(SystemProperties.TAG_EXT_MAC_ADDRESS),n.find("#TAG_EXT_IP_ADDRESS").text(SystemProperties.TAG_EXT_IP_ADDRESS),n.find("#netPassGrp").hide(),SystemProperties.TAG_NETWORK_PASSWORD!=""&&(n.find("#TAG_NETWORK_PASSWORD").val(""),SystemProperties.TAG_NETWORK_PASSWORD=""))}var t=spNet,n,i;t.isInit=!0;n=$("#spNet");i=13;t.enter=function(){return mTabName="spNet",console.log("popul spNet"),n.show(),kbCon.push(setCon,n),LastSelectedTab=tbId.spNet,!0};t.update=function(){++i>15&&($.getJSON("/sdk?func=getproperties&subset=sys",function(n){SystemProperties.TAG_MAC_ADDRESS=n.SysProperties.TAG_MAC_ADDRESS||"";SystemProperties.TAG_IP_ADDRESS=n.SysProperties.TAG_IP_ADDRESS||"";SystemProperties.TAG_EXT_MAC_ADDRESS=n.SysProperties.TAG_EXT_MAC_ADDRESS||"";SystemProperties.TAG_EXT_IP_ADDRESS=n.SysProperties.TAG_EXT_IP_ADDRESS||"";populateNetwork();r()}),i=0)};t.leave=function(){kbCon.pop();n.hide()}}};PageArray[tbId.spNet][0]={controls:[spNet],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};sysEmail={id:"sysEmail",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var t=sysEmail,n,i;t.isInit=!0;n=$("#sysEmail");t.enter=function(){return mTabName="sysEmail",console.log("popul sysEmail"),getAllPropertyData("TAG_SMTP_HOST_ADDRESS",populateEmail),n.show(),kbCon.push(setCon,n),LastSelectedTab=tbId.sysEmail,i.val("--------"),!0};t.update=function(){};t.leave=function(){kbCon.pop();n.hide()};i=n.find("#TAG_SMTP_PASSWORD").on("change.initEmail",function(){!g4&&IsRemote&&(confDialog.confCan=function(){delete SystemProperties.TAG_SMTP_PASSWORD;i.val("--------")},confDialog.callConfirm("Warning","The password will be sent in plain text. Use G4 for added security.",function(){}))});n.find("#TAG_SMTP_TO_EMAIL").off("click.initEmail").on("click.initEmail",function(){openEmailPop("#TAG_SMTP_TO_EMAIL")});n.find("#TAG_SMTP_TO_TXT_EMAIL").off("click.initEmail").on("click.initEmail",function(){openEmailPop("#TAG_SMTP_TO_TXT_EMAIL")});n.find("#sendTestEmail").off("click.initEmail").on("click.initEmail",function(){sendTestEmail()})}};PageArray[tbId.sysEmail][0]={controls:[sysEmail],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};sysWireless={id:"sysWireless",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){function o(){i.prop("disabled",!1).css("color","black");r.prop("disabled",!1).css("color","black");u.css("color",ActiveColor)}function s(){i.prop("disabled",!0).css("color","gray");r.prop("disabled",!0).css("color","gray");u.css("color",DisactColor)}function e(){f.prop("checked")?o():s()}var t=sysWireless,n=$("#Wireless"),i=n.find("input:text"),r=n.find("select"),u=n.find(".wrlssTextboxLabel"),f=n.find("#TAG_WIRELESS_ON_OFF");f.bind("change",e);t.isInit=!0;t.enter=function(){return kbCon.push(setCon,n),LastSelectedTab=tbId.Wireless,getAllPropertyData("TAG_WIRELESS_ON_OFF",populateWireless,e),n.show(),!0};t.update=function(){};t.leave=function(){n.hide();kbCon.pop()}}};PageArray[tbId.Wireless][0]={controls:[sysWireless],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};sysSms={id:"sysSms",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){function f(){i.prop("disabled",!1).css("color","black");r.prop("disabled",!1).css("color","black");u.css("color",ActiveColor)}function e(){i.prop("disabled",!0).css("color","gray");r.prop("disabled",!0).css("color","gray");u.css("color",DisactColor)}function o(){console.log("doExtra in SMS_Out");checkGate("TAG_SMS_OUT_TYPE_0")?f():e()}var t=sysSms,n=$("#SMS_Out"),i=n.find("input:text"),r=n.find("select"),u=n.find(".smsTextboxLabel");t.isInit=!0;t.enter=function(){return kbCon.push(setCon,n),LastSelectedTab=tbId.Sms,getAllPropertyData("TAG_SMS_OUT_TYPE_0",populateSMS_Out,o),n.show(),!0};t.update=function(){};t.leave=function(){n.hide();kbCon.pop()}}};PageArray[tbId.Sms][0]={controls:[sysSms],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};sysModem={id:"sysModem",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){function e(){f.prop("checked")?o():s()}function o(){i.prop("disabled",!1).removeClass(".disable");r.prop("disabled",!1).removeClass(".disable");u.removeClass(".disable")}function s(){i.prop("disabled",!0).addClass(".disable");r.prop("disabled",!0).addClass(".disable");u.addClass(".disable")}var t=sysModem,n=$("#Modem"),i=n.find("input:text"),r=n.find("select"),u=n.find(".mdmLabel"),f=n.find("#TAG_MODEM_ON_OFF");t.isInit=!0;f.bind("change",e);t.enter=function(){return kbCon.push(setCon,n),LastSelectedTab=tbId.Modem,getAllPropertyData("TAG_MODEM_ON_OFF",populateModem,e),n.show(),!0};t.update=function(){};t.leave=function(){n.hide();kbCon.pop()}}};PageArray[tbId.Modem][0]={controls:[sysModem],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};sysRS232={id:"sysRS232",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){function f(){$("#RS232Tab").css("background","transparent");e()}function e(){var i=SystemProperties.TAG_RS232_ON_OFF,t;i>0?n.attr("disabled",!1):n.attr("disabled",!0);t=SystemProperties.TAG_RS232_BAUD;switch(t){case 0:n.prop("selectedIndex",0);break;case 1:n.prop("selectedIndex",1);break;case 2:n.prop("selectedIndex",2);break;default:n.prop("selectedIndex",3)}}function u(){r.is(":checked")?n.attr("disabled",!1):n.attr("disabled",!0)}var i=sysRS232,t=$("#RS232"),r=t.find("#TAG_RS232_ON_OFF"),n=t.find("#TAG_RS232_BAUD");i.isInit=!0;r.on("change",u);i.enter=function(){return kbCon.push(setCon,t),LastSelectedTab=tbId.RS232,getAllPropertyData("TAG_RS232_BAUD",populateRS232,f),t.show(),!0};i.update=function(){u()};i.leave=function(){t.hide();kbCon.pop()}}};PageArray[tbId.RS232][0]={controls:[sysRS232],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};sysOther={id:"sysOther",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=sysOther,t;n.isInit=!0;t=$("#sysOther");n.enter=function(){return mTabName="sysOther",console.log("popul sysOther"),getAllPropertyData("TAG_POWER_BATT",populateOther,doExtOth),t.show(),kbCon.push(setCon,t),LastSelectedTab=tbId.sysOther,!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.sysOther][0]={controls:[sysOther],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};RefSpec={id:"RefSpec",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=RefSpec,i,t;n.isInit=!0;i=!1;t=$("#sysRefSpec");n.enter=function(){return mTabName="sysRefSpec",console.log("popul sysRefSpec"),swiRFDec(),t.show(),adjustOffset=0,getAllPropertyData("TAG_USER_STRING_0",function(){populateWhichSpec();i?doExRS():(i=!0,prepRS(),doExRS())}),kbCon.push(refCon,t),LastSelectedTab=tbId.sysSpec,dispHG(!1),!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.sysSpec][0]={controls:[RefSpec],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};sysLock={id:"sysLock",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=sysLock,t;n.isInit=!0;t=$("#Lock");n.enter=function(){var n,i;return kbCon.push(setCon,t),console.log("pop Lock"),LastSelectedTab=tbId.Lock,getAllPropertyData("TAG_LOCK_MODE",populateLock,doExLk),n=SystemProperties.TAG_LOCK_COM,n==""&&(n="0"),i="0000"+n,$("#TAG_LOCK_COM").val(i.substr(i.length-4)),t.show(),!0};n.update=function(){};n.leave=function(){t.hide();kbCon.pop();SystemProperties.TAG_LOCK_MODE>0&&(UnLkPop==undefined||UnLkPop.hasClass==undefined)&&InitLocked();OnSystemTabs=!1}}};PageArray[tbId.Lock][0]={controls:[sysLock],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};sysLocked={id:"sysLocked",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=sysLocked,t;n.isInit=!0;t=$("#spLocked");SystemProperties.TAG_LOCK_MODE>0&&UnLkPop==undefined&&InitLocked();n.enter=function(){return OnSystemTabs=!1,kbCon.push(lockCon,null),tabBarPar.hide(),dispFArr(!1),LastSelectedTab=tbId.Live,t.show(),!0};n.update=function(){};n.leave=function(){t.hide();kbCon.pop();tabBarPar.show();dispFArr(!0)}}};PageArray[tbId.LockedScreen][0]={controls:[sysLocked],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};pwrOff={id:"pwrOff",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){function h(){r.change(function(){var n=parseInt(r.val(),10);isNaN(n)&&(n=Theme.DARK);switch_style(n,swiClrs);IsLocal});n.find("#dspBrtness").bind("change",function(){var n=$(this).val();SystemProperties.TAG_DISPLAY_BRIGHTNESS=n;SendChangesToMeter("System",function(){SystemProperties.__proto__.TAG_DISPLAY_BRIGHTNESS=SystemProperties.TAG_DISPLAY_BRIGHTNESS;delete SystemProperties.TAG_DISPLAY_BRIGHTNESS;$.getJSON("/sdk?func=LATCHSETTINGS&data=0&marksettingschanged=true")})})}var i=pwrOff;i.isInit=!0;var n=$("#PwrOffTab"),r=n.find("#COLOR_SCHEME"),t=n.find("#TAG_IO_POWER_STATUS"),o=n.find("#TAG_IO_BATTERY_VOLTS"),u=n.find("#TAG_IO_BATTERY_TIME"),s=n.find("#pmBatteryType"),f=n.find("#TAG_IO_BATTERY_PERCENT"),e=n.find("#TAG_IO_EXTERNAL_VOLTS");i.enter=function(){kbCon.push(setCon,n);Is831C()&&SystemProperties.TAG_DISPLAY_BRIGHTNESS<20&&(SystemProperties.TAG_DISPLAY_BRIGHTNESS=100);n.find("#dspBrtness").val(SystemProperties.TAG_DISPLAY_BRIGHTNESS);var i=get_cookie(style_cookie_name),t=parseInt(i,10);return isNaN(t)&&(t=Theme.DARK),r.val(t),(window.IsRemote||g4===!0)&&ftr.lf.hide(),n.show(),setTimeout(function(){n.find(searchFocDef).not(":hidden").first().focus()},500),!0};i.update=function(){var n=pageData.TAG_IO_POWER_STATUS;if(s.html(battTypeStrings[SystemProperties.TAG_POWER_BATT]),o.html(formD(pageData.TAG_IO_BATTERY_VOLTS||0)+" V"),e.html(formD(pageData.TAG_IO_EXTERNAL_VOLTS||0)+" V").show(),u.html(chargeStrings[pageData.TAG_IO_CHARGE_STATE]),f.html(""),n!=undefined)switch(n){case-4:t.html("Ext Powered");break;case-5:t.html("Ext Powered Low");break;case-3:t.html("USB Powered");break;default:-2==n||-1==n?t.html("Battery Powered Low"):t.html("Battery Powered");e.hide();u.html(formD(pageData.TAG_IO_BATTERY_TIME||0)+"h");f.html(formD(pageData.TAG_IO_BATTERY_PERCENT||0)+"%")}};i.leave=function(){n.hide();kbCon.pop()};h()},gotoPwrOffPage:function(n,t){curTabIndex!=n&&pushPage(n,t,{lf:{type:"button",text:"Off",visible:!0,handlr:function(){$.getJSON("/sdk?func=sendCommand&id="+CMD_METER_SHUTDOWN).done(function(n){console.log(n);confDialog.callConfirm("","Powering Off. Please wait...",function(){},{Can:{on:"off"},Conf:{on:"off"}})})}},mi:{type:"button",text:"Close",visible:!0,handlr:function(){popPage()}},rt:{type:"button",text:"Reboot",visible:!0,handlr:function(){$.getJSON("/sdk?func=sendCommand&id="+CMD_METER_REBOOT).done(function(n){console.log(n)});confDialog.callConfirm("","Rebooting. Please wait...",function(){},{Can:{on:"off"},Conf:{on:"off"}})}}})}};PageArray[tbId.PwrOff][0]={controls:[pwrOff],refDRate:RefreshRates.ms250,dataNeeded:["TAG_IO_BATTERY_VOLTS","TAG_IO_INPUT_VOLTS","TAG_IO_BATTERY_TIME","TAG_IO_BATTERY_PERCENT","TAG_IO_EXTERNAL_VOLTS","TAG_IO_TOTAL_FLASH","TAG_IO_FREE_FLASH","TAG_IO_POWER_STATUS","TAG_IO_CHARGE_STATE","TAG_IO_NUM_FILES","TAG_IO_RUN_TIME","TAG_IO_START_TIME",{g:"overall",data:["TAG_IO_DURATION"]}]};mpGen={id:"mpGen",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=mpGen,t;n.isInit=!0;t=$("#mpGen");n.enter=function(){return mTabName="mpGen",console.log("pop General"),getAllPropertyData("TAG_DEFAULT_FILENAME",populateGeneral,doExGen),kbCon.push(setCon,t),LastSelectedTab=tbId.mpGen,t.show(),!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.mpGen][0]={controls:[mpGen],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};mpSLM={id:"mpSLM",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=mpSLM,t;n.isInit=!0;t=$("#mpSLM");n.enter=function(){return mTabName="mpSLM",console.log("popul mpSLM"),getAllPropertyData("TAG_FREQ_WEIGHTING",populateSLM,doExtSlm),kbCon.push(grdCon,t),LastSelectedTab=tbId.mpSLM,t.show(),!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.mpSLM][0]={controls:[mpSLM],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};mpOBA={id:"mpOBA",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=mpOBA,t;n.isInit=!0;t=$("#mpOBA");prOba();n.enter=function(){return mTabName="mpOBA",console.log("popul mpOBA"),getAllPropertyData("TAG_OBA_RANGE",populateOBA,doExtOba),kbCon.push(setCon,t),LastSelectedTab=tbId.mpOBA,t.show(),!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.mpOBA][0]={controls:[mpOBA],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};mpLn={id:"mpLn",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=mpLn,t;n.isInit=!0;t=$("#mpLn");n.enter=function(){return mTabName="mpLn",console.log("popul mpLn"),getAllPropertyData("TAG_LN_0",populateLn,doExtLn),kbCon.push(setCon,t),LastSelectedTab=tbId.mpLn,t.show(),!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.mpLn][0]={controls:[mpLn],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};mpCtrl={id:"mpCtrl",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=mpCtrl,t;n.isInit=!0;t=$("#mpCtrl");initCtrl();n.enter=function(){return mTabName="mpCtrl",console.log("popul mpCtrl"),getAllPropertyData("TAG_RUN_MODE",populateControl,doExtCtrl),kbCon.push(setCon,t),LastSelectedTab=tbId.mpCtrl,t.show(),!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.mpCtrl][0]={controls:[mpCtrl],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};mpTime={id:"mpTime",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var t=mpTime,n;t.isInit=!0;n=$("#mpTime");t.main=n;initTH();t.enter=function(){return mTabName="mpTime",console.log("popul mpTime"),getAllPropertyData("TAG_TIME_HISTORY_ENABLE",populateTimeHistory,doExtraTH),kbCon.push(grdCon,n),LastSelectedTab=tbId.mpTime,n.show(),setTimeout(function(){n.find(searchFocDef).not(":hidden").first().focus()},500),!0};t.update=function(){};t.leave=function(){kbCon.pop();n.hide()}}};PageArray[tbId.mpTime][0]={controls:[mpTime],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};mpTrig={id:"mpTrig",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=mpTrig,t;n.isInit=!0;t=$("#mpTrig");n.enter=function(){return mTabName="mpTrig",console.log("popul mpTrig"),getAllPropertyData("TAG_EVENT_LEVEL_0",populateTriggers),kbCon.push(setCon,t),LastSelectedTab=tbId.mpTrig,t.show(),!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.mpTrig][0]={controls:[mpTrig],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};mpEvnt={id:"mpEvnt",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=mpEvnt,t;n.isInit=!0;t=$("#mpEvnt");initEH();n.enter=function(){return mTabName="mpEvnt",console.log("popul mpEvnt"),getAllPropertyData("TAG_EVENT_HISTORY_ENABLE",populateEventHistory,doExtraEH),kbCon.push(setCon,t),LastSelectedTab=tbId.mpEvnt,t.show(),!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.mpEvnt][0]={controls:[mpEvnt],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};mpMark={id:"mpMark",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=mpMark,t;n.isInit=!0;t=$("#mpMark");n.enter=function(){return mTabName="mpMark",console.log("popul mpMark"),getAllPropertyData("TAG_MARKER_NAMES_0",populateMarkers,doExtraMk),kbCon.push(grdCon,t),LastSelectedTab=tbId.mpMark,t.show(),!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.mpMark][0]={controls:[mpMark],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};mpDN={id:"mpDN",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=mpDN,t;n.isInit=!0;t=$("#mpDN");prepDN();n.enter=function(){return mTabName="mpDN",console.log("popul mpDN"),getAllPropertyData("TAG_DAY_TIME",populateDayNight),kbCon.push(setCon,t),LastSelectedTab=tbId.mpDN,t.show(),!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.mpDN][0]={controls:[mpDN],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};mpSnd={id:"mpSnd",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var t=mpSnd,n;t.isInit=!0;n=$("#mpSnd");n.find("#LOW_TAG_SR_RANGE").html("Normal");t.enter=function(){return mTabName="mpSnd",console.log("popul mpSnd"),getAllPropertyData("TAG_SNAPSHOT_SAMPLING_RATE",function(t){populateSound(t,n)}),kbCon.push(setCon,n),LastSelectedTab=tbId.mpSnd,n.show(),!0};t.update=function(){};t.leave=function(){kbCon.pop();n.hide()}}};PageArray[tbId.mpSnd][0]={controls:[mpSnd],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};mpWthr={id:"mpWthr",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=mpWthr,t;n.isInit=!0;wthrPrep();t=$("#mpWthr");bindWthr();n.enter=function(){return mTabName="PropWthrTab",console.log("pop Weather"),getAllPropertyData("TAG_WEATHER_ENABLE",function(){populateWeather("",wthCall)},doExWthr),t.show(),kbCon.push(setCon,t),LastSelectedTab=tbId.mpWthr,!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.mpWthr][0]={controls:[mpWthr],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};mpDos1={id:"Dosimeter1",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=mpDos1,t;n.isInit=!0;t=$("#Dosimeter1");$("#Dosimeter1Tab").addClass("trnsprnt");$("#TAG_DOSE_THRESHOLD_ENABLE_0:checkbox").change(function(){$(this).is(":checked")?$("#TAG_DOSE_THRESHOLD_0").attr("disabled",!1):$("#TAG_DOSE_THRESHOLD_0").attr("disabled",!0)});setupDosHandler(1);n.enter=function(){return mTabName="mpDos1",console.log("pop mpDos1"),getAllPropertyData("TAG_DOSE_NAME_0",populateDosimeter1,function(){return doExtraDos(1)}),t.show(),kbCon.push(setCon,t),LastSelectedTab=tbId.mpDos1,!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.mpDos1][0]={controls:[mpDos1],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};mpDos2={id:"Dosimeter2",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=mpDos2,t;n.isInit=!0;t=$("#Dosimeter2");$("#Dosimeter2Tab").addClass("trnsprnt");$("#TAG_DOSE_THRESHOLD_ENABLE_1:checkbox").change(function(){console.log("Threshold checkbox changed state");updatePropertyValue("PropDosimeter2Tab",$("#TAG_DOSE_THRESHOLD_1"),"TAG_DOSE_THRESHOLD_1");$(this).is(":checked")?$("#TAG_DOSE_THRESHOLD_1").attr("disabled",!1):$("#TAG_DOSE_THRESHOLD_1").attr("disabled",!0)});setupDosHandler(2);n.enter=function(){return mTabName="mpDos2",console.log("pop mpDos2"),getAllPropertyData("TAG_DOSE_NAME_1",populateDosimeter2,function(){return doExtraDos(2)}),t.show(),kbCon.push(setCon,t),LastSelectedTab=tbId.mpDos2,!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.mpDos2][0]={controls:[mpDos2],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};PageArray[tbId.mpFFTGen][0]={controls:[mpGen],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};mpFFT={id:"mpFFT",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=mpFFT,t;n.isInit=!0;t=$("#FFT");$("#FFTTab").addClass("trnsprnt");n.enter=function(){return mTabName="FFT",console.log("pop FFT"),getAllPropertyData("TAG_FFT_FREQSPAN",populateFFT,setupFFTMeasCountMin),t.show(),kbCon.push(setCon,t),LastSelectedTab=tbId.mpFFT,!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.mpFFT][0]={controls:[mpFFT],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};mpFFTCtrl={id:"FFTMeasurementControl",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=mpFFTCtrl,t;n.isInit=!0;t=$("#FFTMeasurementControl");$("#FFTControlTab").addClass("trnsprnt");$(function(){$("#TAG_RUN_TIME").mobiscroll().time({theme:"mobiscroll",display:"center",timeWheels:"HHiiss",timeFormat:"HH:ii:ss",hcap:100,width:50})});n.enter=function(){return mTabName="mpFFTControl",console.log("pop mpFFTControl"),getAllPropertyData("TAG_RUN_MODE",populateFFTControl,doExtraFFTCtrl),t.show(),kbCon.push(setCon,t),LastSelectedTab=tbId.mpFFTCtrl,!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.mpFFTCtrl][0]={controls:[mpFFTCtrl],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};mpFFTTon={id:"FFTTonality",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=mpFFTTon,t;n.isInit=!0;t=$("#FFTTonality");$("#FFTTonalityTab").addClass("trnsprnt");$("#TAG_TONE_1996_2:checkbox").change(function(){console.log("Tonality Enable checkbox changed state.");$(this).is(":checked")?SetFFTTonDropdownBoxesState(!0):SetFFTTonDropdownBoxesState(!1)});n.enter=function(){return mTabName="mpFFTTon",console.log("pop mpFFTTon"),getAllPropertyData("TAG_TONE_1996_2",populateFFTTonality,doExtraFFTTon),t.show(),kbCon.push(setCon,t),LastSelectedTab=tbId.mpFFTTon,!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.mpFFTTon][0]={controls:[mpFFTTon],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};mpRAGen={id:"RAGeneral",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=mpRAGen,t;n.isInit=!0;t=$("#RAGeneral");$("#RAGeneralTab").addClass("trnsprnt");$("#TAG_RA_LOWEST_FREQ").on("change",function(){fixRAGenValues()});$("#TAG_RA_HIGHEST_FREQ").on("change",function(){fixRAGenValues()});n.enter=function(){return mTabName="mpRAGen",console.log("pop mpRAGen"),getAllPropertyData("TAG_DEFAULT_FILENAME",populateRAGeneral,doExtraRAGen),t.show(),kbCon.push(setCon,t),LastSelectedTab=tbId.mpRAGen,!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.mpRAGen][0]={controls:[mpRAGen],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};mpRT60={id:"RT60",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=mpRT60,t;n.isInit=!0;t=$("#RT60");$("#RT60Tab").addClass("trnsprnt");$("input[name=TAG_RT60_BANDWIDTH]").on("change",function(){rt60HideThird()});n.enter=function(){return mTabName="mpRT60",console.log("pop mpRT60"),getAllPropertyData("TAG_DEFAULT_FILENAME",populateRT60,doExtraRT60),t.show(),kbCon.push(setCon,t),LastSelectedTab=tbId.mpRT60,!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.mpRT60][0]={controls:[mpRT60],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};mpRT60Adv={id:"RT60Adv",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=mpRT60Adv,t;n.isInit=!0;t=$("#RT60Adv");$("#RT60AdvTab").addClass("trnsprnt");$("#TAG_RT60_RUN_TIME").on("blur",function(){updatePropertyValue("RT60AdvTab",$(this),this.id,"Measurement");console.log("Blurring: TAG_RT60_RUN_TIME");forceData("TAG_RT60_RUN_TIME",$(this))});n.enter=function(){return mTabName="mpRT60Adv",console.log("pop mpRT60Adv"),getAllPropertyData("TAG_RT60_SAMPLE_PERIOD",populateRT60Adv,emptyFun),t.show(),kbCon.push(setCon,t),LastSelectedTab=tbId.mpRT60Adv,!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.mpRT60Adv][0]={controls:[mpRT60Adv],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]};mpRASrc={id:"RASource",html:"",refreshRate:RefreshRates.ms1000,isInit:!1,init:function(){var n=mpRASrc,t;n.isInit=!0;t=$("#RASource");$("#RASourceTab").addClass("trnsprnt");n.enter=function(){return mTabName="mpRASrc",console.log("pop mpRASrc"),getAllPropertyData("TAG_RT60_NOISE_TYPE",populateRASource,doExtraRASource),t.show(),kbCon.push(setCon,t),LastSelectedTab=tbId.mpRASrc,!0};n.update=function(){};n.leave=function(){kbCon.pop();t.hide()}}};PageArray[tbId.mpRASrc][0]={controls:[mpRASrc],refDRate:RefreshRates.ms1000,dataNeeded:[{g:"overall",data:["TAG_IO_DURATION"]}]},function(n){for(var t,i,u={},f=u.hasOwnProperty,o=u.toString,e="Boolean Number String Function Array Date RegExp Object Error".split(" "),r=0;r<e.length;r++)u["[object "+e[r]+"]"]=e[r].toLowerCase();(t=function(n){var f,r,e,i,o,s,h,u;if(n.expando!==undefined)return n;if(typeof n=="string"){if(f=n,n.indexOf("<")>=0){for(e=document.createDocumentFragment(),i=document.createElement("div"),e.appendChild(i),o=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,s=/<([\w:]+)/,n=n.replace(o,"<$1><\/$2>"),h=(s.exec(n)||["",""])[1].toLowerCase(),u=[0,"",""],depth=u[0],i.innerHTML=u[1]+n+u[2];depth--;)i=i.lastChild;n=i.childNodes;i.parentNode.removeChild(i);r=n[0]}else r=document.querySelector(f);if(r)n=r;else throw new Error("Invalid HTML Element Selector");}return this.init?(this.init(n),this):new t(n)},t.isWindow=function(n){return n!=null&&n==n.window},t.type=function(n){return n==null?n+"":typeof n=="object"||typeof n=="function"?u[o.call(n)]||"object":typeof n},t.isPlainObject=function(n){var i=this,t;if(!n||i.type(n)!=="object"||n.nodeType||i.isWindow(n))return!1;try{if(n.constructor&&!f.call(n,"constructor")&&!f.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}for(t in n);return t===undefined||f.call(n,t)},t.isArray=function(n){if(Array&&Array.isArray)return Array.isArray(n);return Object.prototype.toString.call(n)==="[object Array]"},t.extend=function(){var u=this,i,e,t,f,o,s,n=arguments[0]||{},r=1,c=arguments.length,h=!1;for(typeof n=="boolean"&&(h=n,n=arguments[r]||{},r++),typeof n!="object"&&u.type(n)!=="function"&&(n={}),r===c&&(n=this,r--);r<c;r++)if((o=arguments[r])!=null)for(f in o)(i=n[f],t=o[f],n!==t)&&(h&&t&&(u.isPlainObject(t)||(e=u.isArray(t)))?(e?(e=!1,s=i&&u.isArray(i)?i:[]):s=i&&u.isPlainObject(i)?i:{},n[f]=u.extend(h,s,t)):t!==undefined&&(n[f]=t));return n},t.prototype={constructor:t,init:function(n){this[0]=n;this.length=1;this.element=n;var i=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return this.uuid="jqx"+ +(new Date).getTime()+i()+"-"+i(),t.guid++,this}},t.extend({that:this,cache:{},event:{},expando:"jqx"+(new Date).getTime(),uuid:0,guid:0,ischildof:function(n){return n.contains(element)?!0:!1},sibling:function(n){for(var i=this,r=i.element,t=[];n;n=n.nextSibling)n.nodeType===1&&n!==r&&t.push(n);return t},children:function(){var n=this;return n.sibling(n.element.firstChild)},makeArray:function(n,t){var u=this,i,r=t||[],f=function(n,t){var u=t.length,r=n.length,i=0;if(typeof u=="number")for(;i<u;i++)n[r++]=t[i];else while(t[i]!==undefined)n[r++]=t[i++];return n.length=r,n};return n!=null&&(i=u.type(n),n.length==null||i==="string"||i==="function"||i==="regexp"||u.isWindow(n)?Array.prototype.push.call(r,n):f(r,n)),r},Event:function(n,t){var e=this,f,r=n.type||n,u=[];return r.indexOf(".")>=0&&(u=r.split("."),r=u.shift(),u.sort()),typeof n=="string"&&(n=document.createEvent("Event"),n.initEvent(r,!0,!0)),n.target=t,n=i.createEvent(n),n.type=r,n.isTrigger=!0,n.namespace=u.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+u.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f=r.indexOf(":")<0?"on"+r:"",n.result=undefined,n.target||(n.target=elem),n.type=r,n},trigger:function(n,t){var r=this;i.trigger(n,t,r.element)},addHandler:function(n,r,u){var f=this;r.guid=r.guid||(r.guid=t.guid++);i.add(f.element,n,r,u)},removeHandler:function(n,t){var r=this;i.remove(r.element,n,t)},on:function(n,i,r){r&&t.isFunction(r)?this.addHandler(n,r,i):this.addHandler(n,i,r)},off:function(n,t){this.removeHandler(n,t)},isRendered:function(){var n=this;return n.element.parentNode==null||n.element.offsetWidth===0||n.element.offsetHeight===0?!1:!0},getSizeFromStyle:function(){var t=null,i=null,r=this,u;return r.element.style.width&&(t=r.element.style.width),r.element.style.height&&(i=r.element.style.height),u=n.getComputedStyle?getComputedStyle(r.element,null):r.element.currentStyle,u&&(u.width&&(t=u.width),u.height&&(i=u.height)),t==="0px"&&(t=0),i==="0px"&&(i=0),t===null&&(t=0),i===null&&(i=0),{width:t,height:i}},sizeStyleChanged:function(n){var t=this,i,r=function(n){var r=i;n&&n[0]&&n[0].attributeName==="style"&&n[0].type==="attributes"&&(r.element.offsetWidth!==r.offsetWidth||r.element.offsetHeight!==r.offsetHeight)&&(r.offsetWidth=r.element.offsetWidth,r.offsetHeight=r.element.offsetHeight,t.isRendered()&&r.callback())};i={element:t.element,offsetWidth:t.element.offsetWidth,offsetHeight:t.element.offsetHeight,callback:n};t.elementStyleObserver||(t.elementStyleObserver=new MutationObserver(r),t.elementStyleObserver.observe(t.element,{attributes:!0,childList:!1,characterData:!1}))},cleanData:function(){var n=this,t=n.element[n.expando];t!==undefined&&delete n.cache[t]},append:function(n){(n.nodeType===1||n.nodeType===11||n.nodeType===3)&&this.element.appendChild(n)},prepend:function(n){(n.nodeType===1||n.nodeType===11)&&this.element.insertBefore(elem,this.element.firstChild)},appendTo:function(n){var t=this.detach();$(n).append(t[0])},prependTo:function(n){var t=this.detach();$(n).prepend(t[0])},detach:function(){var n=this;return n.remove(!0)},remove:function(n){var i=this,r,u,f,e,o;if(n!==!0){if(i.data()&&(r=i.data().jqxWidget,r&&r.destroy&&!r._destroying)){r._destroying=!0;r.destroy();r._destroying=!1;return}if(i.cleanData(),i.element.querySelectorAll&&(u=i.element.querySelectorAll("*"),u))for(f=0;f<u.length;f++)e=t(u[f]),o=e.element[e.expando],o!==undefined&&e.remove()}return i.elementStyleObserver&&(i.elementStyleObserver.disconnect(),i.elementStyleObserver=null),i.element.parentNode&&i.element.parentNode.removeChild(i.element),this},sizeChanged:function(n){var t=this,i,r=function(){var n=i;(n.element.offsetWidth!==n.offsetWidth||n.element.offsetHeight!==n.offsetHeight)&&(n.offsetWidth=n.element.offsetWidth,n.offsetHeight=n.element.offsetHeight,t.isRendered()&&(n.callback(),t.observer.disconnect(),t.elementObserver.disconnect()))};i={element:t.element,offsetWidth:t.element.offsetWidth,offsetHeight:t.element.offsetHeight,callback:n};t.observer||(t.observer=new MutationObserver(r),t.observer.observe(document.body,{attributes:!0,childList:!0,characterData:!0}),t.elementObserver=new MutationObserver(r),t.elementObserver.observe(t.element,{attributes:!0,childList:!0,characterData:!0}))},data:function(n,i,r){var f=this,e=n,o,u;if(n||(e=this.element),r===undefined){if(u=e[f.expando],o=u&&f.cache[u],i===undefined)return o;if(o&&i in o)return o[i]}else if(i!==undefined)return u=e[f.expando],u||(e[f.expando]=++t.guid,u=e[f.expando]),f.cache[u]=f.cache[u]||{},f.cache[u][i]=r,r},removeData:function(n,t){var i=this,u=n,r,f;u||(u=i.element);r=u[i.expando];f=r&&i.cache[r];f&&(t?$.each(t,function(n,t){delete f[t]}):delete i.cache[r].data)},trim:function(n){var t=new RegExp("[\\x20\\t\\r\\n\\f]+","g");return rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n==null?"":(n+"").replace(rtrim,"")},getClass:function(){var n=this;return n.element.getAttribute("class")||""},hasClass:function(n){var t=this,i=" "+n+" ";return t.element.nodeType===1&&(" "+t.element.className+" ").replace(/[\t\r\n]/g," ").indexOf(i)>=0?!0:!1},addClass:function(n){var i=this,o,t,u,f,s,e,r;if(typeof n=="string"&&n&&(o=n.match(/\S+/g)||[],r=i.element,u=i.getClass(),t=r.nodeType===1&&(" "+u+" ").replace(/[\t\r\n]/g," "),t)){for(s=0;f=o[s++];)t.indexOf(" "+f+" ")<0&&(t+=f+" ");e=i.trim(t);u!==e&&r.setAttribute("class",e)}},removeClass:function(n){var i=this,o,t,u,f,s,e,r;if(0==arguments.length)return i.element.setAttribute("class","");if(typeof n=="string"&&n&&(o=n.match(/\S+/g)||[],r=i.element,u=i.getClass(),t=r.nodeType===1&&(" "+u+" ").replace(/[\t\r\n]/g," "),t)){for(s=0;f=o[s++];)while(t.indexOf(" "+f+" ")>-1)t=t.replace(" "+f+" "," ");e=i.trim(t);u!==e&&r.setAttribute("class",e)}},html:function(n){var t=this,u,f;try{var i=t.element||{},o=t.element.length;if(n===undefined)return i.nodeType===1?i.innerHTML.replace(rinlinejQuery,""):undefined;var e=new RegExp("<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)[\\s/>]","i"),r=document.createElement("div"),s=document.createDocumentFragment(),h=document.createElement("input");r.innerHTML="  <link/><table><\/table><a href='/a'>a<\/a><input type='checkbox'/>";u=r.firstChild.nodeType===3;f=!!r.getElementsByTagName("link").length;typeof n!="string"||/<(?:script|style|link)/i.test(n)||!f&&e.test(n)||!u&&/^\s+/.test(n)||{option:[1,"<select multiple='multiple'>","<\/select>"],legend:[1,"<fieldset>","<\/fieldset>"],thead:[1,"<table>","<\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],area:[1,"<map>","<\/map>"],_default:[0,"",""]}[(/<([\w:]+)/.exec(n)||["",""])[1].toLowerCase()]?(t.element.innerHTML="",t.element.appendChild(n)):(n=n.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1><\/$2>"),i.innerHTML=n)}catch(c){}},isBoolean:function(n){return typeof n=="boolean"},isFunction:function(n){return!!(n&&n.constructor&&n.call&&n.apply)},isObject:function(n){return n&&(typeof n=="object"||that.isFunction(n))||!1},isDate:function(n){return n instanceof Date},isString:function(n){return typeof n=="string"},isNumber:function(n){return typeof n=="number"&&isFinite(n)},isNull:function(n){return n===null},isUndefined:function(n){return typeof n=="undefined"},isEmpty:function(n){return!this.isString(n)&&this.isValue(n)?!1:this.isValue(n)?(n=that.trim(n).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,""),n===""):!0},text:function(){var n=this,u,r="",f=0,t=n.element.nodeType,i=n.element;if(t){if(t===1||t===9||t===11){if(typeof n.element.textContent=="string")return n.element.textContent;for(i=i.firstChild;i;i=i.nextSibling)r+=getText(i)}else if(t===3||t===4)return n.element.nodeValue}else while(u=n.element[f++])r+=getText(u);return r},val:function(n){var t,i=that.element;if(!arguments.length)return i?(t=i.value,typeof t=="string"?t.replace(/\r/g,""):t==null?"":t):void 0;i.nodeType===1&&(n===null&&(n=""),typeof n=="number"&&(n+=""),i.value=n)},boxModel:function(n,t,i){for(var f=["Top","Right","Bottom","Left"],e=this,r=t===(i?"border":"content")?4:n==="width"?1:0,u=0;r<4;r+=2)t==="margin"&&(u+=e.css(t+f[r],!0)),i?(t==="content"&&(u-=parseFloat(e.css("padding"+f[r]))||0),t!=="margin"&&(u-=parseFloat(e.css("border"+f[r]+"Width"))||0)):(u+=parseFloat(e.css("padding"+f[r]))||0,t!=="padding"&&(u+=parseFloat(e.css(this.element,"border"+f[r]+"Width"))||0));return u},width:function(n){var t=this,i,r,u;return t.element!=null&&t.element==t.element.window?t.element.document.documentElement.clientWidth:t.element.nodeType===9?(i=t.element.documentElement,Math.max(t.element.body.scrollWidth,i.scrollWidth,t.element.body.offsetWidth,i.offsetWidth,i.clientWidth)):(r=this.element.style.boxSizing=="border-box",n&&(isNaN(n)||(n=n+"px"),t.element.style.width=n),u=t.element.offsetWidth,u+t.boxModel("width","content"||(r?"border":"content"),!0))},innerWidth:function(){var n=this,t=parseFloat(n.css("paddingLeft")),i=parseFloat(n.css("paddingRight")),r=parseFloat(n.css("borderLeftWidth")),u=parseFloat(n.css("borderRightWidth"));return isNaN(t)&&(t=0),isNaN(i)&&(i=0),isNaN(r)&&(r=0),isNaN(u)&&(u=0),n.width()+t+i+r+u},innerHeight:function(){var n=this,t=parseFloat(n.css("paddingTop")),i=parseFloat(n.css("paddingBottom")),r=parseFloat(n.css("borderTopWidth")),u=parseFloat(n.css("borderBottomWidth"));return isNaN(t)&&(t=0),isNaN(i)&&(i=0),isNaN(r)&&(r=0),isNaN(u)&&(u=0),n.height()+t+i+r+u},outerWidth:function(){var n=this,t=parseFloat(n.element.style.marginLeft),i=parseFloat(n.element.style.marginRight);return isNaN(t)&&(t=0),isNaN(i)&&(i=0),n.element.offsetWidth+t+i},height:function(n){var t=this,i,r,u;return t.element!=null&&t.element==t.element.window?t.element.document.documentElement.clientHeight:t.element.nodeType===9?(i=t.element.documentElement,Math.max(t.element.body.scrollHeight,i.scrollHeight,t.element.body.offsetHeight,i.offsetHeight,i.clientHeight)):(r=this.element.style.boxSizing=="border-box",n&&(isNaN(n)||(n=n+"px"),t.element.style.height=n),u=t.element.offsetHeight,u+t.boxModel("height","content"||(r?"border":"content"),!0))},outerHeight:function(){var n=this,t=parseFloat(n.element.style.marginTop),i=parseFloat(n.element.style.marginBottom);return isNaN(t)&&(t=0),isNaN(i)&&(i=0),n.element.offsetHeight+t+i},css:function(t){var r=this,i,f=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,u=new RegExp("^("+f+")(?!px)[a-z%]+$","i"),e=/^margin/;return n.getComputedStyle?i=function(t,i){var o,h,c,l,s=n.getComputedStyle(t,null),f=t.style;return s&&(o=s.getPropertyValue(i)||s[i],o!==""||r.contains(t.ownerDocument,t)||(o=f[i]),u.test(o)&&e.test(i)&&(h=f.width,c=f.minWidth,l=f.maxWidth,f.minWidth=f.maxWidth=f.width=o,o=s.width,f.width=h,f.minWidth=c,f.maxWidth=l)),o}:document.documentElement.currentStyle&&(i=function(n,t){var e,f,i=n.currentStyle&&n.currentStyle[t],r=n.style;return i==null&&r&&r[t]&&(i=r[t]),u.test(i)&&!rposition.test(t)&&(e=r.left,f=n.runtimeStyle&&n.runtimeStyle.left,f&&(n.runtimeStyle.left=n.currentStyle.left),r.left=t==="fontSize"?"1em":i,i=r.pixelLeft+"px",r.left=e,f&&(n.runtimeStyle.left=f)),i===""?"auto":i}),i(r.element,t)},offset:function(n){var i=this,t=i.element,e,u,v,f,s,b,k;if(n){e=i.css("position");e==="static"&&(t.style.position="relative");var y=t,h=i.offset(),p=t.style.top,w=t.style.left,nt=(e==="absolute"||e==="fixed")&&(p==="auto"||w==="auto"),o={},c={},l,a;nt?(c=i.position(),l=c.top,a=c.left):(l=parseFloat(p)||0,a=parseFloat(w)||0);i.isFunction(n)&&(n=n.call(t,r,h));n.top!=null&&(o.top=n.top-h.top+l);n.left!=null&&(o.left=n.left-h.left+a);y.style.left=o.left+"px";y.style.top=o.top+"px";return}if(f={top:0,left:0},s=t&&t.ownerDocument,s){if(u=s.documentElement,!i.contains(u,t))return f;typeof t.getBoundingClientRect!="undefined"&&(f=t.getBoundingClientRect());b=function(n){return n!=null&&n==n.window};k=function(n){return b(n)?n:n.nodeType===9?n.defaultView||n.parentWindow:!1};v=k(s);var d=0,g=navigator.userAgent.toLowerCase(),tt=g.indexOf("ipad")!=-1||g.indexOf("iphone")!=-1;return tt&&(d=2),{top:0+f.top+(v.pageYOffset||u.scrollTop)-(u.clientTop||0),left:d+f.left+(v.pageXOffset||u.scrollLeft)-(u.clientLeft||0)}}},position:function(){var r=this,u=/^(?:body|html)$/i,i=r.element,n=t(function(){for(var n=i.offsetParent||document.body;n&&!u.test(n.nodeName)&&t(n).css("position")==="static";)n=n.offsetParent;return n||document.body}());return offset=r.offset(),parentOffset=u.test(n.nodeName)?{top:0,left:0}:n.offset(),offset.top-=parseFloat(t(i).css("marginTop"))||0,offset.left-=parseFloat(t(i).css("marginLeft"))||0,parentOffset.top+=parseFloat(n.css("borderTopWidth"))||0,parentOffset.left+=parseFloat(n.css("borderLeftWidth"))||0,{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}},contains:function(n,t){var r=n.nodeType===9?n.documentElement:n,i=t&&t.parentNode;return n===i||!!(i&&i.nodeType===1&&r.contains&&r.contains(i))},camelCase:function(n){var t=function(n,t){return t.toUpperCase()};return n.replace(/-([\da-z])/gi,t)},attr:function(n,t){var i=this.element,r=i.nodeType;if(r===3||r===8||r===2||typeof i.getAttribute=="undefined")return undefined;if(t!==undefined){if(t===null){removeAttr(i,n);return}return i.setAttribute(n,t+""),t}return i.getAttribute(n)},removeAttr:function(n){var u=this,i=u.element,t,r,e=0,f=n&&n.match(/\S+/g);if(f&&i.nodeType===1)while(t=f[e++]){r=t;r=="class"&&(r="className");var o=new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i");o.test(t)?/^(?:checked|selected)$/i.test(t)?i[u.camelCase("default-"+t)]=i[r]=!1:i[r]=!1:u.attr(t,"");i.removeAttribute(t)}},showHide:function(n){var i=this,r,t,f,u=undefined,o=i.length,e;(t=i.element,t.style)&&(e=function(n,t){return n=t||n,i.css(n,"display")==="none"||!i.contains(n.ownerDocument,n)},u=i.data("olddisplay"),r=t.style.display,n?(u||r!=="none"||(t.style.display=""),t.style.display===""&&e(t)&&(u=i.data("olddisplay",t.style.display))):(f=t.style.display=="none",(r&&r!=="none"||!f)&&i.data("olddisplay",f?r:t.style.display)),n&&t.style.display!=="none"&&t.style.display!==""||(t.style.display=n?u||"":"none"))},show:function(){var n=this;n.showHide(!0)},hide:function(){var n=this;n.showHide(!1)},isEmptyObject:function(n){for(var t in n)return!1;return!0},toArray:function(){return Array.prototype.slice.call(this)},isArraylike:function(n){var i=this,t=n.length,r=i.type(n);return r==="function"||i.isWindow(n)?!1:n.nodeType===1&&t?!0:r==="array"||t===0||typeof t=="number"&&t>0&&t-1 in n},each:function(n,t,i){var o=this;this.isFunction(n)&&(i=t,t=n,n=this);var u,r=0,f=n.length,e=o.isArraylike(n);if(i){if(e){for(;r<f;r++)if(u=t.apply(n[r],i),u===!1)break}else for(r in n)if(u=t.apply(n[r],i),u===!1)break}else if(e){for(;r<f;r++)if(u=t.call(n[r],r,n[r]),u===!1)break}else for(r in n)if(u=t.call(n[r],r,n[r]),u===!1)break;return n},queue:function(n,t,i){function f(n,t){var i=t||[];return n!=null&&(u.isArraylike(Object(n))?function(n,t){for(var r=+t.length,i=0,u=n.length;i<r;)n[u++]=t[i++];if(r!==r)while(t[i]!==undefined)n[u++]=t[i++];return n.length=u,n}(i,typeof n=="string"?[n]:n):[].push.call(i,n)),i}var u=this,r;if(n)return(t=(t||"fx")+"queue",r=u.data(n,t),!i)?r||[]:(!r||u.isArray(i)?r=u.data(n,t,f(i)):r.push(i),r)},dequeue:function(n,t){var i=this;i.each(n.nodeType?[n]:n,function(n,r){t=t||"fx";var f=i.queue(r,t),u=f.shift();u==="inprogress"&&(u=f.shift());u&&(t==="fx"&&f.unshift("inprogress"),u.call(r,function(){i.dequeue(r,t)}))})},initAnimate:function(){function e(n){var t=u.data(n,"jqxAnimations");return t===null?undefined:t}function tt(n){return function(t){return Math.round(t*n)*(1/n)}}function w(t,i,r,u){function a(n,t){return 1-3*t+3*n}function v(n,t){return 3*t-6*n}function y(n){return 3*n}function h(n,t,i){return((a(t,i)*n+v(t,i))*n+y(t))*n}function p(n,t,i){return 3*a(t,i)*n*n+2*v(t,i)*n+y(t)}function tt(n,i){for(var f,e,u=0;u<b;++u){if(f=p(i,t,r),f===0)return i;e=h(i,t,r)-n;i-=e/f}return i}function it(){for(var n=0;n<o;++n)e[n]=h(n*s,t,r)}function rt(n,i,u){var e,f,o=0;do f=i+(u-i)/2,e=h(f,t,r)-n,e>0?u=f:i=f;while(Math.abs(e)>d&&++o<g);return f}function ut(n){for(var u=0,i=1,c=o-1;i!=c&&e[i]<=n;++i)u+=s;--i;var l=(n-e[i])/(e[i+1]-e[i]),f=u+l*s,h=p(f,t,r);return h>=k?tt(n,f):h==0?f:rt(n,u,u+s)}function ft(){l=!0;(t!=i||r!=u)&&it()}var b=4,k=.001,d=1e-7,g=10,o=11,s=1/(o-1),nt="Float32Array"in n,f,e,l,c,w;if(arguments.length!==4)return!1;for(f=0;f<4;++f)if(typeof arguments[f]!="number"||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;return t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0),e=nt?new Float32Array(o):new Array(o),l=!1,c=function(n){return(l||ft(),t===i&&r===u)?n:n===0?0:n===1?1:h(ut(n),i,u)},c.getControlPoints=function(){return[{x:t,y:i},{x:r,y:u}]},w="generateBezier("+[t,i,r,u]+")",c.toString=function(){return w},c}function b(n,t){var r=n;return f.isString(n)?i.Easings[n]||(r=!1):r=f.isArray(n)&&n.length===1?tt.apply(null,n):f.isArray(n)&&n.length===2?it.apply(null,n.concat([t])):f.isArray(n)&&n.length===4?w.apply(null,n):!1,r===!1&&(r=i.Easings[i.defaults.easing]?i.defaults.easing:p),r}function k(n){return f.isWrapped(n)?n=[].slice.call(n):f.isNode(n)&&(n=[n]),n}function a(n){var b,tt,s,p,k,ut,g,l,st,ft,w,o,v,et,nt,ht;if(n)for(b=(new Date).getTime(),tt=i.State.calls.length,s=0;s<tt;s++)if(i.State.calls[s]){var y=i.State.calls[s],it=y[0],t=y[2],h=y[3],ot=!!h,rt=null;for(h||(h=i.State.calls[s][3]=b-16),p=Math.min((b-h)/t.duration,1),k=0,ut=it.length;k<ut;k++)if(g=it[k],l=g.element,e(l)){st=!1;t.display!==undefined&&t.display!==null&&t.display!=="none"&&(t.display==="flex"&&(ft=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],u.each(ft,function(n,t){r.setPropertyValue(l,"display",t)})),r.setPropertyValue(l,"display",t.display));t.visibility!==undefined&&t.visibility!=="hidden"&&r.setPropertyValue(l,"visibility",t.visibility);for(w in g)if(w!=="element"){if(o=g[w],et=f.isString(o.easing)?i.Easings[o.easing]:o.easing,p===1)v=o.endValue;else if(nt=o.endValue-o.startValue,v=o.startValue+nt*et(p,t,nt),!ot&&v===o.currentValue)continue;o.currentValue=v;w==="tween"?rt=v:ht=r.setPropertyValue(l,w,o.currentValue+(parseFloat(v)===0?"":o.unitType),o.rootPropertyValue,o.scrollData)}}t.display!==undefined&&t.display!=="none"&&(i.State.calls[s][2].display=!1);t.visibility!==undefined&&t.visibility!=="hidden"&&(i.State.calls[s][2].visibility=!1);t.progress&&t.progress.call(y[1],y[1],p,Math.max(0,h+t.duration-b),h,rt);p===1&&d(s)}i.State.isTicking&&c(a)}function d(n,f){var h,a,s,c,w;if(!i.State.calls[n])return!1;var v=i.State.calls[n][0],l=i.State.calls[n][1],o=i.State.calls[n][2],y=i.State.calls[n][4],p=!1;for(h=0,a=v.length;h<a;h++){if(s=v[h].element,f||o.loop||(o.display==="none"&&r.setPropertyValue(s,"display",o.display),o.visibility==="hidden"&&r.setPropertyValue(s,"visibility",o.visibility)),o.loop===!0||u.queue(s)[1]!==undefined&&/\.jqxAnimationsQueueEntryFlag/i.test(u.queue(s)[1])||e(s)&&(e(s).isAnimating=!1,e(s).rootPropertyValueCache={},t(s).removeClass("jqxAnimations-animating")),!f&&o.complete&&h===a-1)try{o.complete.call(l,l)}catch(b){setTimeout(function(){throw b;},1)}y&&o.loop!==!0&&y(l);o.queue!==!1&&u.dequeue(s,o.queue)}for(i.State.calls[n]=!1,c=0,w=i.State.calls.length;c<w;c++)if(i.State.calls[c]!==!1){p=!0;break}p===!1&&(i.State.isTicking=!1,delete i.State.calls,i.State.calls=[])}var u=this,o=u.element,v=function(){var t=0;return n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||function(n){var r=(new Date).getTime(),i;return i=Math.max(0,16-(r-t)),t=r+i,setTimeout(function(){n(r+i)},i)}}(),y=400,p="easeInOutSine",i={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:n.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:document.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:$,Redirects:{},Easings:{},Promise:n.Promise,defaults:{queue:"",duration:y,easing:p,begin:undefined,complete:undefined,progress:undefined,display:undefined,visibility:undefined,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(n){u.data(n,"jqxAnimations",{isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1},it=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function n(n,i,r){var u={x:n.x+r.dx*i,v:n.v+r.dv*i,tension:n.tension,friction:n.friction};return{dx:u.v,dv:t(u)}}function i(i,r){var u={dx:i.v,dv:t(i)},f=n(i,r*.5,u),e=n(i,r*.5,f),o=n(i,r,e),s=1/6*(u.dx+2*(f.dx+e.dx)+o.dx),h=1/6*(u.dv+2*(f.dv+e.dv)+o.dv);return i.x=i.x+s*r,i.v=i.v+h*r,i}return function r(n,t,u){var o={x:-1,v:0,tension:null,friction:null},s=[0],e=0,l=1/1e4,a=16/1e3,h,c,f;for(n=parseFloat(n)||500,t=parseFloat(t)||20,u=u||null,o.tension=n,o.friction=t,h=u!==null,h?(e=r(n,t),c=e/u*a):c=a;;)if(f=i(f||o,c),s.push(1+f.x),e+=16,!(Math.abs(f.x)>l&&Math.abs(f.v)>l))break;return h?function(n){return s[n*(s.length-1)|0]}:e}}(),r,f,l,c,g,s,h,nt;for(i.Easings={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2},spring:function(n){return 1-Math.cos(n*4.5*Math.PI)*Math.exp(-n*6)}},u.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(n,t){i.Easings[t[0]]=w.apply(null,t[1])}),r=i.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/ig},Hooks:{getRoot:function(n){return n},cleanRootPropertyValue:function(n,t){return r.RegEx.valueUnwrap.test(t)&&(t=t.match(r.RegEx.valueUnwrap)[1]),r.Values.isCSSNullValue(t)&&(t=r.Hooks.templates[n][1]),t},extractValue:function(n,t){var i=r.Hooks.registered[n],u,f;return i?(u=i[0],f=i[1],t=r.Hooks.cleanRootPropertyValue(u,t),t.toString().match(r.RegEx.valueSplit)[f]):t},injectValue:function(n,t,i){var u=r.Hooks.registered[n],e,o,f;return u?(e=u[0],o=u[1],i=r.Hooks.cleanRootPropertyValue(e,i),f=i.toString().match(r.RegEx.valueSplit),f[o]=t,f.join(" ")):i}},Normalizations:{registered:{clip:function(n,t,i){switch(n){case"name":return"clip";case"extract":var u;return r.RegEx.wrappedValueAlreadyExtracted.test(i)?u=i:(u=i.toString().match(r.RegEx.valueUnwrap),u=u?u[1].replace(/,(\s+)?/g," "):i),u;case"inject":return"rect("+i+")"}},blur:function(n,t,r){var u,f;switch(n){case"name":return i.State.isFirefox?"filter":"-webkit-filter";case"extract":return u=parseFloat(r),u||u===0||(f=r.toString().match(/blur\(([0-9]+[A-z]+)\)/i),u=f?f[1]:0),u;case"inject":return parseFloat(r)?"blur("+r+")":"none"}},opacity:function(n,t,i){switch(n){case"name":return"opacity";case"extract":return i;case"inject":return i}}},register:function(){}},Names:{prefixCheck:function(n){for(var r,u=["","Webkit","Moz","ms","O"],t=0,e=u.length;t<e;t++)if(r=t===0?n:u[t]+n.replace(/^\w/,function(n){return n.toUpperCase()}),f.isString(i.State.prefixElement.style[r]))return i.State.prefixMatches[n]=r,[r,!0];return[n,!1]}},Values:{isCSSNullValue:function(n){return n==0||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(n)},getUnitType:function(n){return/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(n)?"":"px"},getDisplayType:function(n){var t=n&&n.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"}},getPropertyValue:function(t,i,u,f){function s(t,i){function o(){c&&r.setPropertyValue(t,"display","none")}var u=0,c=!1,l,a,v,h;if(/^(width|height)$/.test(i)&&r.getPropertyValue(t,"display")===0&&(c=!0,r.setPropertyValue(t,"display",r.Values.getDisplayType(t))),!f){if(i==="height"&&r.getPropertyValue(t,"boxSizing").toString().toLowerCase()!=="border-box")return l=t.offsetHeight-(parseFloat(r.getPropertyValue(t,"borderTopWidth"))||0)-(parseFloat(r.getPropertyValue(t,"borderBottomWidth"))||0)-(parseFloat(r.getPropertyValue(t,"paddingTop"))||0)-(parseFloat(r.getPropertyValue(t,"paddingBottom"))||0),o(),l;if(i==="width"&&r.getPropertyValue(t,"boxSizing").toString().toLowerCase()!=="border-box")return a=t.offsetWidth-(parseFloat(r.getPropertyValue(t,"borderLeftWidth"))||0)-(parseFloat(r.getPropertyValue(t,"borderRightWidth"))||0)-(parseFloat(r.getPropertyValue(t,"paddingLeft"))||0)-(parseFloat(r.getPropertyValue(t,"paddingRight"))||0),o(),a}return v=e(t)===undefined?n.getComputedStyle(t,null):e(t).computedStyle?e(t).computedStyle:e(t).computedStyle=n.getComputedStyle(t,null),u=v[i],(u===""||u===null)&&(u=t.style[i]),o(),u==="auto"&&/^(top|right|bottom|left)$/i.test(i)&&(h=s(t,"position"),(h==="fixed"||h==="absolute"&&/top|left/i.test(i))&&(u=$(t).position()[i]+"px")),u}var o,h,c;return r.Normalizations.registered[i]&&(h=r.Normalizations.registered[i]("name",t),c=s(t,r.Names.prefixCheck(h)[0]),o=r.Normalizations.registered[i]("extract",t,c)),/^[\d-]/.test(o)||(o=s(t,r.Names.prefixCheck(i)[0])),r.Values.isCSSNullValue(o)&&(o=0),o},setPropertyValue:function(n,t,i){var u=t;return r.Normalizations.registered[t]&&(i=r.Normalizations.registered[t]("inject",n,i),t=r.Normalizations.registered[t]("name",n)),u=r.Names.prefixCheck(t)[0],n.style[u]=i,[u,i]}},r.Normalizations.register(),i.hook=function(n,t,r){var f=undefined;return n=k(n),u.each(n,function(n,u){if(e(u)===undefined&&i.init(u),r===undefined)f===undefined&&(f=i.CSS.getPropertyValue(u,t));else{var o=i.CSS.setPropertyValue(u,t,r);f=o}}),f},f={isString:function(n){return typeof n=="string"},isArray:Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},isFunction:function(n){return Object.prototype.toString.call(n)==="[object Function]"},isNode:function(n){return n&&n.nodeType},isNodeList:function(n){return typeof n=="object"&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(n))&&n.length!==undefined&&(n.length===0||typeof n[0]=="object"&&n[0].nodeType>0)},isWrapped:function(){return!1},isSVG:function(t){return n.SVGElement&&t instanceof n.SVGElement},isEmptyObject:function(n){for(var t in n)return!1;return!0}},l=function(){function p(){return null}function ht(){function p(){var d,u,w,it,k,ut,ft,g;if(s.begin&&v===0)try{s.begin.call(h,h)}catch(et){setTimeout(function(){throw et;},1)}if(rt==="start"){e(c).tweensContainer&&e(c).isAnimating===!0&&(d=e(c).tweensContainer);function h(n,t){var i=undefined,e=undefined,u=undefined;return f.isArray(n)?(i=n[0],!f.isArray(n[1])&&/^[\d-]/.test(n[1])||f.isFunction(n[1])||r.RegEx.isHex.test(n[1])?u=n[1]:(f.isString(n[1])&&!r.RegEx.isHex.test(n[1])||f.isArray(n[1]))&&(e=t?n[1]:b(n[1],s.duration),n[2]!==undefined&&(u=n[2]))):i=n,t||(e=e||s.easing),f.isFunction(i)&&(i=i.call(c,v,l)),f.isFunction(u)&&(u=u.call(c,v,l)),[i||0,e,u]}for(u in o){var tt=h(o[u]),p=tt[0],ot=tt[1],n=tt[2];if(u=t.camelCase(u),w=r.Hooks.getRoot(u),it=!1,!e(c).isSVG&&w!=="tween"&&r.Names.prefixCheck(w)[1]===!1&&r.Normalizations.registered[w]===undefined){i.debug&&console.log("Skipping ["+w+"] due to a lack of browser support.");continue}(s.display!==undefined&&s.display!==null&&s.display!=="none"||s.visibility!==undefined&&s.visibility!=="hidden")&&/opacity|filter/.test(u)&&!n&&p!==0&&(n=0);s._cacheValues&&d&&d[u]?(n===undefined&&(n=d[u].endValue+d[u].unitType),it=e(c).rootPropertyValueCache[w]):n===undefined&&(n=r.getPropertyValue(c,u));g=!1;function f(n,t){var i,u;return u=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(n){return i=n,""}),i||(i=r.Values.getUnitType(n)),[u,i]}k=f(u,n);n=k[0];ft=k[1];k=f(u,p);p=k[0].replace(/^([+-\/*])=/,function(n,t){return g=t,""});ut=k[1];n=parseFloat(n)||0;p=parseFloat(p)||0;/[\/*]/.test(g)&&(ut=ft);switch(g){case"+":p=n+p;break;case"-":p=n-p;break;case"*":p=n*p;break;case"/":p=n/p}y[u]={rootPropertyValue:it,startValue:n,currentValue:n,endValue:p,unitType:ut,easing:ot};i.debug&&console.log("tweensContainer ("+u+"): "+JSON.stringify(y[u]),c)}y.element=c}y.element&&(t(c).addClass("jqxAnimations-animating"),nt.push(y),s.queue===""&&(e(c).tweensContainer=y,e(c).opts=s),e(c).isAnimating=!0,v===l-1?(i.State.calls.push([nt,h,s,null]),i.State.isTicking===!1&&(i.State.isTicking=!0,a())):v++)}var c=this,s=u.extend({},i.defaults,n),y={};e(c)===undefined&&i.init(c);s.duration=parseFloat(s.duration)||1;s.easing=b(s.easing,s.duration);s.begin&&!f.isFunction(s.begin)&&(s.begin=null);s.progress&&!f.isFunction(s.progress)&&(s.progress=null);s.complete&&!f.isFunction(s.complete)&&(s.complete=null);s.display!==undefined&&s.display!==null&&(s.display=s.display.toString().toLowerCase(),s.display==="auto"&&(s.display=i.CSS.Values.getDisplayType(c)));s.visibility!==undefined&&s.visibility!==null&&(s.visibility=s.visibility.toString().toLowerCase());s.mobileHA=s.mobileHA&&i.State.isMobile&&!i.State.isGingerbread;u.queue(c,s.queue,function(n,t){if(t===!0)return!0;i.jqxAnimationsQueueEntryFlag=!0;p(n)});(s.queue===""||s.queue==="fx")&&u.queue(c)[0]!=="inprogress"&&u.dequeue(c)}var tt=arguments[0]&&(arguments[0].p||u.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||f.isString(arguments[0].properties)),et,w,h,o,n,l,v,it,c,rt,g,ft,st,nt,s;if(et=!0,w=1,h=tt?arguments[0].elements||arguments[0].e:arguments[0],h=k(h),h){if(tt?(o=arguments[0].properties||arguments[0].p,n=arguments[0].options||arguments[0].o):(o=arguments[w],n=arguments[w+1]),l=h.length,v=0,!/^(stop|finish|finishAll)$/i.test(o)&&!u.isPlainObject(n))for(it=w+1,n={},c=it;c<arguments.length;c++)!f.isArray(arguments[c])&&(/^(fast|normal|slow)$/i.test(arguments[c])||/^\d/.test(arguments[c]))?n.duration=arguments[c]:f.isString(arguments[c])||f.isArray(arguments[c])?n.easing=arguments[c]:f.isFunction(arguments[c])&&(n.complete=arguments[c]);switch(o){case"finish":case"finishAll":case"stop":return u.each(h,function(t,i){e(i)&&e(i).delayTimer&&(clearTimeout(e(i).delayTimer.setTimeout),e(i).delayTimer.next&&e(i).delayTimer.next(),delete e(i).delayTimer);o==="finishAll"&&(n===!0||f.isString(n))&&(u.each(u.queue(i,f.isString(n)?n:""),function(n,t){f.isFunction(t)&&t()}),u.queue(i,f.isString(n)?n:"",[]))}),g=[],u.each(i.State.calls,function(t,i){i&&u.each(i[1],function(r,s){var c=n===undefined?"":n;if(c!==!0&&i[2].queue!==c&&!(n===undefined&&i[2].queue===!1))return!0;u.each(h,function(r,h){h===s&&((n===!0||f.isString(n))&&(u.each(u.queue(h,f.isString(n)?n:""),function(n,t){f.isFunction(t)&&t(null,!0)}),u.queue(h,f.isString(n)?n:"",[])),o==="stop"?(e(h)&&e(h).tweensContainer&&c!==!1&&u.each(e(h).tweensContainer,function(n,t){t.endValue=t.currentValue}),g.push(t)):(o==="finish"||o==="finishAll")&&(i[2].duration=1))})})}),o==="stop"&&u.each(g,function(n,t){d(t,!0)}),p();default:if(u.isPlainObject(o)&&!f.isEmptyObject(o))rt="start";else{if(f.isString(o)&&i.Redirects[o]){var s=u.extend({},n),ot=s.duration,ut=s.delay||0;return s.backwards===!0&&(h=u.extend(!0,[],h).reverse()),u.each(h,function(n,t){parseFloat(s.stagger)?s.delay=ut+parseFloat(s.stagger)*n:f.isFunction(s.stagger)&&(s.delay=ut+s.stagger.call(t,n,l));s.drag&&(s.duration=parseFloat(ot)||(/^(callout|transition)/.test(o)?1e3:y),s.duration=Math.max(s.duration*(s.backwards?1-n/l:(n+1)/l),s.duration*.75,200));i.Redirects[o].call(t,t,s||{},n,l,h,promiseData.promise?promiseData:undefined)}),p()}return ft="jqxAnimations: First argument ("+o+") was not a property map, a known action, or a registered redirect. Aborting.",console.log(ft),p()}}return st={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},nt=[],u.each(h,function(n,t){f.isNode(t)&&ht.call(t)}),s=u.extend({},i.defaults,n),p()}},i=u.extend(l,i),i.animate=l,c=n.requestAnimationFrame||v,i.State.isMobile||document.hidden===undefined||document.addEventListener("visibilitychange",function(){document.hidden?(c=function(n){return setTimeout(function(){n(!0)},16)},a()):c=n.requestAnimationFrame||v}),u.animate=function(){var n=Array.prototype.slice.call(arguments);return n.splice(0,0,u.element),i.apply(u,n)},s=0;s<2;s++)h="Down",s===1&&(h="Up"),g=function(n){u["slide"+n]=function(t,r,f,e,s){t==="fast"&&(t={duration:"200"});t==="slow"&&(t={duration:"600"});var h=u.extend({},t),a=h.begin,v=h.complete,l={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},c={};h.display===undefined&&(h.display=n==="Down"?i.CSS.Values.getDisplayType(o)==="inline"?"inline-block":"block":"none");h.begin=function(){var t,r;a&&a.call(e,e);for(t in l)c[t]=o.style[t],r=i.CSS.getPropertyValue(o,t),l[t]=n==="Down"?[r,0]:[0,r];c.overflow=o.style.overflow;o.style.overflow="hidden"};h.complete=function(){for(var n in c)o.style[n]=c[n];v&&v.call(e,e);s&&s.resolver(e)};i(o,l,h)}},g(h);for(s=0;s<2;s++)h="In",s===1&&(h="Out"),nt=function(n){u["fade"+n]=function(t,r,f,e,s){t==="fast"&&(t={duration:"200"});t==="slow"&&(t={duration:"600"});var h=u.extend({},t),a=h.begin,v={opacity:""},y={opacity:n==="In"?1:0},l={},c=h.complete;r!==f-1?(h.complete=h.begin=null,h.begin=function(){var t,r;a&&a.call(e,e);for(t in v)l[t]=o.style[t],r=i.CSS.getPropertyValue(o,t),v[t]=n==="In"?[r,1]:[0,r]},h.complete=function(){for(var n in l)o.style[n]=l[n];c&&c.call(e,e);s&&s.resolver(e)}):h.complete=function(){c&&c.call(e,e);s&&s.resolver(e)};h.display===undefined&&(h.display=n==="In"?"auto":"none");i(u.element,y,h)}},nt(h)}}),t.fn=t.prototype,t.extend(t.fn,t),t.prototype.init.prototype=t,n.jqxHelper=t,i={},t.extend(i,{createEvent:function(n,i){if(n.originalEvent)return n;var r=t.extend({},n);return r.originalEvent=n,r.target||(r.target=r.srcElement||document,i&&(r.target=targett)),r.target.nodeType===3&&(r.target=r.target.parentNode),r._isPropagationStopped=!1,r._isDefaultPrevented=!1,r.stopPropagation&&(r.originalStopPropagation=r.stopPropagation,r.stopPropagation=function(){this._isPropagationStopped=!0;r.originalEvent.stopPropagation();r.cancelBubble=!0}),r.preventDefault&&(r.preventDefault=function(){return this._isDefaultPrevented=!0,r.originalEvent.preventDefault()}),r.isDefaultPrevented=function(){return r._isDefaultPrevented},r.isPropagationStopped=function(){return r._isPropagationStopped},r.metaKey=!!r.metaKey,r},add:function(n,r,u,f){var v=t,e,o,h,l,a,s,y,p,b,c,w;if(n.nodeType!==3&&n.nodeType!==8&&r&&u){for(e=t(n).data(n[0]),e||(t(n).data(n,"events",{}),e=t(n).data(n)),h=e.events,h||(e.events=h={}),o=e.handle,o||(e.handle=o=function(n){return i.dispatch.apply(o.elem,[n,v])},o.elem=n),w=/^([^\.]*|)(?:\.(.+)|)$/,r=v.trim(r).split(" "),l=0;l<r.length;l++)a=w.exec(r[l])||[],s=a[1],y=(a[2]||"").split(".").sort(),p=v.extend({type:s,origType:a[1],data:f,handler:u,guid:u.guid,namespace:y.join(".")},b),c=h[s],c||(c=h[s]=[],c.delegateCount=0,n.addEventListener?n.addEventListener(s,o,!1):n.attachEvent&&n.attachEvent("on"+s,o)),c.push(p);n=null}},global:{},remove:function(n,i,r,u){var y=t,s,a,e,p,o,w,h,l,f,c,v=y.data(n);if(v&&(l=v.events))for(i=y.trim(i).split(" "),s=0;s<i.length;s++){if(a=/^([^\.]*|)(?:\.(.+)|)$/.exec(i[s])||[],e=p=a[1],o=a[2],!e){for(e in l)this.remove(n,e+i[s],r,u,!0);continue}for(f=l[e]||[],w=f.length,o=o?new RegExp("(^|\\.)"+o.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=0;h<f.length;h++)c=f[h],p!==c.origType||r&&r.guid!==c.guid||o&&!o.test(c.namespace)||(f.splice(h--,1),c.selector&&f.delegateCount--);f.length===0&&w!==f.length&&(this.removeEvent(n,e,v.handle),delete l[e])}},trigger:function(r,u,f,e){var p=t,y,s,h,c,l,a,w,o,v;if(!f||f.nodeType!==3&&f.nodeType!==8){if(o=r.type||r,v=[],o.indexOf(".")>=0&&(v=o.split("."),o=v.shift(),v.sort()),typeof r=="string"&&(r=document.createEvent("Event"),r.initEvent(o,!0,!0)),r=i.createEvent(r),u=u!=null?p.makeArray(u):[],u.unshift(r),r.type=o,r.isTrigger=!0,r.namespace=v.join("."),r.namespace_re=r.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c=o.indexOf(":")<0?"on"+o:"",r.result=undefined,r.target||(r.target=f),a=[[f,o]],!e&&!p.isWindow(f)){for(w=o,s=f.parentNode,h=f;s;s=s.parentNode)a.push([s,w]),h=s;h===(f.ownerDocument||document)&&a.push([h.defaultView||h.parentWindow||n,w])}for(y=0;y<a.length&&!r.isPropagationStopped();y++)s=a[y][0],r.type=a[y][1],l=(p.data(s,"events")||{})[r.type]&&p.data(s,"handle"),l&&l.apply(s,u),l=c&&s[c],l&&jQuery.acceptData(s)&&l.apply&&l.apply(s,u)===!1&&r.preventDefault();return r.type=o,e||r.isDefaultPrevented()||(c&&f[o]||r.target.offsetWidth!==0)&&(h=f[c],h&&(f[c]=null),f[o]&&f[o](),h&&(f[c]=h)),r.result}},dispatch:function(n,t){var c=t,l=this;n=i.createEvent(n);var f,e,o,u,r,h=(c.data(l,"events")||{})[n.type]||[],a=h.delegateCount,v=Array.prototype.slice.call(arguments),y=!n.namespace,s=[];for(s.push({elem:this,matches:h.slice(a)}),f=0;f<s.length;f++)for(u=s[f],n.currentTarget=u.elem,e=0;e<u.matches.length;e++)(r=u.matches[e],n.isPropagationStopped())||(y||!n.namespace&&!r.namespace||n.namespace_re&&n.namespace_re.test(r.namespace))&&(n.data=r.data,n.handleObj=r,o=r.handler.apply(u.elem,v),o!==undefined&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation())));return n.result},removeEvent:document.removeEventListener?function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)}:function(n,t,i){var r="on"+t;n.detachEvent&&(typeof n[r]=="undefined"&&(n[r]=null),n.detachEvent(r,i))}}),function(t,i){function u(){if(!f){f=!0;for(var t=0;t<r.length;t++)r[t].fn.call(n,r[t].ctx);r=[]}}function o(){document.readyState==="complete"&&u()}t=t;i=i||n;var r=[],f=!1,e=!1;i[t]=function(t,i){if(f){setTimeout(function(){t(i)},1);return}r.push({fn:t,ctx:i});document.readyState==="complete"?setTimeout(u,1):e||(document.addEventListener?(document.addEventListener("DOMContentLoaded",u,!1),n.addEventListener("load",u,!1)):(document.attachEvent("onreadystatechange",o),n.attachEvent("onload",u)),e=!0)}}("initializeWidgets",n),t.prototype.ready=n.initializeWidgets,n.jQuery)||n.$||(n.$=n.minQuery=n.jqxHelper)}(window);jqxBaseFramework=window.minQuery||window.jQuery,function(n){n.jqx=n.jqx||{};jqwidgets={createInstance:function(t,i,r){if(i=="jqxDataAdapter"){var u=r[0],f=r[1]||{};return new n.jqx.dataAdapter(u,f)}return n(t)[i](r||{}),n(t)[i]("getInstance")}};n.jqx.define=function(n,t,i){n[t]=function(){this.baseType&&(this.base=new n[this.baseType],this.base.defineInstance());this.defineInstance();this.metaInfo()};n[t].prototype.defineInstance=function(){};n[t].prototype.metaInfo=function(){};n[t].prototype.base=null;n[t].prototype.baseType=undefined;i&&n[i]&&(n[t].prototype.baseType=i)};n.jqx.invoke=function(t,i){var r,f,u;if(i.length!=0){for(r=typeof i==Array||i.length>0?i[0]:i,f=typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):n({}).toArray();t[r]==undefined&&t.base!=null;){if(t[r]!=undefined&&n.isFunction(t[r]))return t[r].apply(t,f);if(typeof r=="string"&&(u=r.toLowerCase(),t[u]!=undefined&&n.isFunction(t[u])))return t[u].apply(t,f);t=t.base}return t[r]!=undefined&&n.isFunction(t[r])?t[r].apply(t,f):typeof r=="string"&&(u=r.toLowerCase(),t[u]!=undefined&&n.isFunction(t[u]))?t[u].apply(t,f):void 0}};n.jqx.hasProperty=function(n,t){var r,i;if(typeof t=="object")for(r in t){for(i=n;i;){if(i.hasOwnProperty(r)||i.hasOwnProperty(r.toLowerCase()))return!0;i=i.base}return!1}else while(n){if(n.hasOwnProperty(t)||n.hasOwnProperty(t.toLowerCase()))return!0;n=n.base}return!1};n.jqx.hasFunction=function(t,i){var r,f,u;if(i.length==0||t==undefined)return!1;for(r=typeof i==Array||i.length>0?i[0]:i,f=typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):{};t[r]==undefined&&t.base!=null;){if(t[r]&&n.isFunction(t[r])||typeof r=="string"&&(u=r.toLowerCase(),t[u]&&n.isFunction(t[u])))return!0;t=t.base}return t[r]&&n.isFunction(t[r])?!0:typeof r=="string"&&(u=r.toLowerCase(),t[u]&&n.isFunction(t[u]))?!0:!1};n.jqx.isPropertySetter=function(t,i){return i.length==1&&typeof i[0]=="object"?!0:i.length==2&&typeof i[0]=="string"&&!n.jqx.hasFunction(t,i)?!0:!1};n.jqx.validatePropertySetter=function(t,i,r){var f,u,e;if(!n.jqx.propertySetterValidation)return!0;if(i.length==1&&typeof i[0]=="object"){for(f in i[0]){for(u=t;!u.hasOwnProperty(f)&&u.base;)u=u.base;if(!u||!u.hasOwnProperty(f)){if(!r){if(e=u.hasOwnProperty(f.toString().toLowerCase()),e)return!0;throw"Invalid property: "+f;}return!1}}return!0}if(i.length!=2){if(!r)throw"Invalid property: "+i.length>=0?i[0]:"";return!1}while(!t.hasOwnProperty(i[0])&&t.base)t=t.base;if(!t||!t.hasOwnProperty(i[0])){if(!r)throw"Invalid property: "+i[0];return!1}return!0};Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(u){if(typeof u!="object"&&(typeof u!="function"||u===null))throw new TypeError("Object.keys called on non-object");var e=[],o,f;for(o in u)t.call(u,o)&&e.push(o);if(i)for(f=0;f<r;f++)t.call(u,n[f])&&e.push(n[f]);return e}}());n.jqx.set=function(t,i){var r=0,s,u,o,f,e;if(i.length==1&&typeof i[0]=="object"){if(t.isInitialized&&Object.keys&&Object.keys(i[0]).length>1){if(s=t.base?t.base.element:t.element,u=n.data(s,t.widgetName).initArgs,u&&JSON&&JSON.stringify&&i[0]&&u[0])try{if(JSON.stringify(i[0])==JSON.stringify(u[0])&&(o=!0,n.each(i[0],function(n,i){if(t[n]!=i)return o=!1,!1}),o))return}catch(h){}t.batchUpdate=i[0];f={};e={};n.each(i[0],function(n,i){for(var u=t;!u.hasOwnProperty(n)&&u.base!=null;)u=u.base;u.hasOwnProperty(n)?t[n]!=i&&(f[n]=t[n],e[n]=i,r++):u.hasOwnProperty(n.toLowerCase())&&t[n.toLowerCase()]!=i&&(f[n.toLowerCase()]=t[n.toLowerCase()],e[n.toLowerCase()]=i,r++)});r<2&&(t.batchUpdate=null)}n.each(i[0],function(i,r){for(var u=t;!u.hasOwnProperty(i)&&u.base!=null;)u=u.base;if(u.hasOwnProperty(i))n.jqx.setvalueraiseevent(u,i,r);else if(u.hasOwnProperty(i.toLowerCase()))n.jqx.setvalueraiseevent(u,i.toLowerCase(),r);else if(n.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i+"'";});t.batchUpdate!=null&&(t.batchUpdate=null,t.propertiesChangedHandler&&r>1&&t.propertiesChangedHandler(t,f,e))}else if(i.length==2){while(!t.hasOwnProperty(i[0])&&t.base)t=t.base;if(t.hasOwnProperty(i[0]))n.jqx.setvalueraiseevent(t,i[0],i[1]);else if(t.hasOwnProperty(i[0].toLowerCase()))n.jqx.setvalueraiseevent(t,i[0].toLowerCase(),i[1]);else if(n.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i[0]+"'";}};n.jqx.setvalueraiseevent=function(n,t,i){var r=n[t];(n[t]=i,n.isInitialized)&&(n.propertyChangedHandler!=undefined&&n.propertyChangedHandler(n,t,r,i),n.propertyChangeMap!=undefined&&n.propertyChangeMap[t]!=undefined&&n.propertyChangeMap[t](n,t,r,i))};n.jqx.get=function(n,t){var r,i;if(t==undefined||t==null)return undefined;if(n.propertyMap&&(r=n.propertyMap(t),r!=null))return r;if(n.hasOwnProperty(t))return n[t];if(n.hasOwnProperty(t.toLowerCase()))return n[t.toLowerCase()];if(i=undefined,typeof t==Array){if(t.length!=1)return undefined;i=t[0]}else typeof t=="string"&&(i=t);while(!n.hasOwnProperty(i)&&n.base)n=n.base;return n?n[i]:undefined};n.jqx.serialize=function(t){var i="",u,r;if(n.isArray(t)){for(i="[",r=0;r<t.length;r++)r>0&&(i+=", "),i+=n.jqx.serialize(t[r]);i+="]"}else if(typeof t=="object"){i="{";u=0;for(r in t)u++>0&&(i+=", "),i+=r+": "+n.jqx.serialize(t[r]);i+="}"}else i=t.toString();return i};n.jqx.propertySetterValidation=!0;n.jqx.jqxWidgetProxy=function(t,i,r){var e=n(i),f=n.data(i,t),u;if(f==undefined)return undefined;if(u=f.instance,n.jqx.hasFunction(u,r))return n.jqx.invoke(u,r);if(n.jqx.isPropertySetter(u,r)){if(n.jqx.validatePropertySetter(u,r))return n.jqx.set(u,r),undefined}else{if(typeof r=="object"&&r.length==0)return;if(typeof r=="object"&&r.length==1&&n.jqx.hasProperty(u,r[0]))return n.jqx.get(u,r[0]);if(typeof r=="string"&&n.jqx.hasProperty(u,r[0]))return n.jqx.get(u,r)}throw"jqxCore: Invalid parameter '"+n.jqx.serialize(r)+"' does not exist.";};n.jqx.applyWidget=function(t,i,r,u){var s=!1,h,e,f,u,o;try{s=window.MSApp!=undefined}catch(c){}for(h=n(t),u?(u.host=h,u.element=t):u=new n.jqx["_"+i],t.id==""&&(t.id=n.jqx.utilities.createId()),e={host:h,element:t,instance:u,initArgs:r},u.widgetName=i,n.data(t,i,e),n.data(t,"jqxWidget",e.instance),f=[],u=e.instance;u;)u.isInitialized=!1,f.push(u),u=u.base;f.reverse();f[0].theme=n.jqx.theme||"";n.jqx.jqxWidgetProxy(i,t,r);for(o in f)u=f[o],o==0&&(u.host=h,u.element=t,u.WinJS=s),u!=undefined&&(u.definedInstance&&u.definedInstance(),u.createInstance!=null&&(s?MSApp.execUnsafeLocalFunction(function(){u.createInstance(r)}):u.createInstance(r)));for(o in f)f[o]!=undefined&&(f[o].isInitialized=!0);s?MSApp.execUnsafeLocalFunction(function(){e.instance.refresh(!0)}):e.instance.refresh(!0)};n.jqx.jqxWidget=function(t,i,r){var s=!1,u,e,f,o;try{jqxArgs=Array.prototype.slice.call(r,0)}catch(h){jqxArgs=""}try{s=window.MSApp!=undefined}catch(h){}u=t;e="";i&&(e="_"+i);n.jqx.define(n.jqx,"_"+u,e);f=[];window[u]||(o=function(t){var r,i;if(t==null)return"";r=n.type(t);switch(r){case"string":case"number":case"date":case"boolean":case"bool":return t===null?"":t.toString()}return i="",n.each(t,function(t,r){var f=r,u,e;if(t>0&&(i+=", "),i+="[",u=0,n.type(f)=="object")for(e in f)u>0&&(i+=", "),i+="{"+e+":"+f[e]+"}",u++;else u>0&&(i+=", "),i+="{"+t+":"+f+"}",u++;i+="]"}),i},jqwidgets[u]=window[u]=function(t,i){var c=[],r,s,e,h;if(i||(i={}),c.push(i),r=t,n.type(r)==="object"&&t[0]?(r=t[0].id,r===""&&(r=t[0].id=n.jqx.utilities.createId())):n.type(t)==="object"&&t&&t.nodeName&&(r=t.id,r===""&&(r=t.id=n.jqx.utilities.createId())),window.jqxWidgets&&window.jqxWidgets[r]){if(i&&n.each(window.jqxWidgets[r],function(){var t=n(this.element).data();t&&t.jqxWidget&&n(this.element)[u](i)}),window.jqxWidgets[r].length==1&&(s=n(window.jqxWidgets[r][0].widgetInstance.element).data(),s&&s.jqxWidget))return window.jqxWidgets[r][0];if(s=n(window.jqxWidgets[r][0].widgetInstance.element).data(),s&&s.jqxWidget)return window.jqxWidgets[r]}return(e=n(t),e.length===0&&(e=n("<div><\/div>"),(u==="jqxInput"||u==="jqxPasswordInput"||u==="jqxMaskedInput")&&(e=n("<input/>")),u==="jqxTextArea"&&(e=n("<textarea><\/textarea>")),(u==="jqxButton"||u==="jqxRepeatButton"||u==="jqxToggleButton")&&(e=n("<button/>")),u==="jqxSplitter"&&(e=n("<div><div>Panel 1<\/div><div>Panel 2<\/div><\/div>")),u==="jqxTabs"&&(e=n("<div><ul><li>Tab 1<\/li><li>Tab 2<\/li><\/ul><div>Content 1<\/div><div>Content 2<\/div><\/div>")),u==="jqxRibbon"&&(e=n("<div><ul><li>Tab 1<\/li><li>Tab 2<\/li><\/ul><div><div>Content 1<\/div><div>Content 2<\/div><\/div><\/div>")),u==="jqxDocking"&&(e=n("<div><div><div><div>Title 1<\/div><div>Content 1<\/div><\/div><\/div><\/div>")),u==="jqxWindow"&&(e=n("<div><div>Title 1<\/div><div>Content 1<\/div><\/div>"))),h=[],n.each(e,function(t){var s=e[t],a,l;if(n.jqx.applyWidget(s,u,c,undefined),!f[u]){var l=n.data(s,"jqxWidget"),i=n.jqx["_"+u].prototype.defineInstance(),v={};n.jqx["_"+u].prototype.metaInfo&&(v=n.jqx["_"+u].prototype.metaInfo());u=="jqxDockingLayout"&&(i=n.extend(i,n.jqx._jqxLayout.prototype.defineInstance()));(u=="jqxToggleButton"||u=="jqxRepeatButton")&&(i=n.extend(i,n.jqx._jqxButton.prototype.defineInstance()));u=="jqxTreeGrid"&&(i=n.extend(i,n.jqx._jqxDataTable.prototype.defineInstance()));a=function(t){var r=n.data(t,"jqxWidget"),i,u;this.widgetInstance=r;i=n.extend(this,r);i.on=function(n,t){i.addHandler(i.host,n,t)};i.off=function(n){i.removeHandler(i.host,n)};for(u in r)n.type(r[u])=="function"&&(i[u]=n.proxy(r[u],r));return i};f[u]=a;n.each(i,function(t,i){Object.defineProperty(a.prototype,t,{get:function(){return this.widgetInstance?this.widgetInstance[t]:i},set:function(i){var f;if(this.widgetInstance&&this.widgetInstance[t]!=i){var r=this.widgetInstance[t],e=i,h=n.type(r),c=n.type(e),s=!1;(h!=c||t==="source")&&(s=!0);(s||o(r)!=o(e))&&(f={},f[t]=i,this.widgetInstance.host[u](f),this.widgetInstance[t]=i,this.widgetInstance.propertyUpdated&&this.widgetInstance.propertyUpdated(t,r,i))}}})})}l=new f[u](s);h.push(l);window.jqxWidgets||(window.jqxWidgets=[]);window.jqxWidgets[r]||(window.jqxWidgets[r]=[]);window.jqxWidgets[r].push(l)}),h.length===1)?h[0]:h});n.fn[u]=function(){var t=Array.prototype.slice.call(arguments,0),i,r;if(t.length==0||t.length==1&&typeof t[0]=="object"){if(this.length==0)if(this.selector)throw new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.");else throw new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){var f=n(this),i=this,r=n.data(i,u);r==null?n.jqx.applyWidget(i,u,t,undefined):n.jqx.jqxWidgetProxy(u,this,t)})}if(this.length==0)if(this.selector)throw new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.");else throw new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return i=null,r=0,this.each(function(){var e=n.jqx.jqxWidgetProxy(u,this,t),f;r==0?(i=e,r++):(r==1&&(f=[],f.push(i),i=f),i.push(e))}),i};try{n.extend(n.jqx["_"+u].prototype,Array.prototype.slice.call(r,0)[0])}catch(h){}n.extend(n.jqx["_"+u].prototype,{toThemeProperty:function(t,i){return n.jqx.toThemeProperty(this,t,i)}});n.jqx["_"+u].prototype.refresh=function(){this.base&&this.base.refresh(!0)};n.jqx["_"+u].prototype.createInstance=function(){};n.jqx["_"+u].prototype.addEventHandler=function(n,t){this.host.bind(n,t)};n.jqx["_"+u].prototype.removeEventHandler=function(n){this.host.unbind(n)};n.jqx["_"+u].prototype.applyTo=function(t,i){if(!(i instanceof Array)){var r=[];r.push(i);i=r}n.jqx.applyWidget(t,u,i,this)};n.jqx["_"+u].prototype.getInstance=function(){return this};n.jqx["_"+u].prototype.propertyChangeMap={};n.jqx["_"+u].prototype.addHandler=function(t,i,r,u){n.jqx.addHandler(n(t),i,r,u)};n.jqx["_"+u].prototype.removeHandler=function(t,i,r){n.jqx.removeHandler(n(t),i,r)};n.jqx["_"+u].prototype.setOptions=function(){if(this.host&&this.host.length&&this.host.length==1)return n.jqx.jqxWidgetProxy(u,this.host[0],arguments)}};n.jqx.toThemeProperty=function(n,t,i){var e,u,r,f;if(n.theme=="")return t;for(e=t.split(" "),u="",r=0;r<e.length;r++)r>0&&(u+=" "),f=e[r],u+=i!=null&&i?f+"-"+n.theme:f+" "+f+"-"+n.theme;return u};n.jqx.addHandler=function(t,i,r,u){for(var f,o=i.split(" "),e=0;e<o.length;e++){if(f=o[e],window.addEventListener)switch(f){case"mousewheel":n.jqx.browser.mozilla?t[0].addEventListener("DOMMouseScroll",r,!1):t[0].addEventListener("mousewheel",r,!1);continue;case"mousemove":if(!u){t[0].addEventListener("mousemove",r,!1);continue}}if(u==undefined||u==null)if(t.on)t.on(f,r);else t.bind(f,r);else if(t.on)t.on(f,u,r);else t.bind(f,u,r)}};n.jqx.removeHandler=function(t,i,r){var e,f,u;if(!i){t.off?t.off():t.unbind();return}for(e=i.split(" "),f=0;f<e.length;f++){if(u=e[f],window.removeEventListener)switch(u){case"mousewheel":n.jqx.browser.mozilla?t[0].removeEventListener("DOMMouseScroll",r,!1):t[0].removeEventListener("mousewheel",r,!1);continue;case"mousemove":if(r){t[0].removeEventListener("mousemove",r,!1);continue}}if(u==undefined){t.off?t.off():t.unbind();continue}r==undefined?t.off?t.off(u):t.unbind(u):t.off?t.off(u,r):t.unbind(u,r)}};n.jqx.theme=n.jqx.theme||"";n.jqx.scrollAnimation=n.jqx.scrollAnimation||!1;n.jqx.resizeDelay=n.jqx.resizeDelay||10;n.jqx.ready=function(){n(window).trigger("jqxReady")};n.jqx.init=function(){n.each(arguments[0],function(t,i){t=="theme"&&(n.jqx.theme=i);t=="scrollBarSize"&&(n.jqx.utilities.scrollBarSize=i);t=="touchScrollBarSize"&&(n.jqx.utilities.touchScrollBarSize=i);t=="scrollBarButtonsVisibility"&&(n.jqx.utilities.scrollBarButtonsVisibility=i)})};n.jqx.utilities=n.jqx.utilities||{};n.extend(n.jqx.utilities,{scrollBarSize:15,touchScrollBarSize:0,scrollBarButtonsVisibility:"visible",createId:function(){var n=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return"jqxWidget"+n()+n()},setTheme:function(t,i,r){var u;if(typeof r!="undefined"){var f=r[0].className.split(" "),o=[],e=[],s=r.children();for(u=0;u<f.length;u+=1)f[u].indexOf(t)>=0&&(t.length>0?(o.push(f[u]),e.push(f[u].replace(t,i))):e.push(f[u].replace("-"+i,"")+"-"+i));for(this._removeOldClasses(o,r),this._addNewClasses(e,r),u=0;u<s.length;u+=1)this.setTheme(t,i,n(s[u]))}},_removeOldClasses:function(n,t){for(var i=0;i<n.length;i+=1)t.removeClass(n[i])},_addNewClasses:function(n,t){for(var i=0;i<n.length;i+=1)t.addClass(n[i])},getOffset:function(t){var i=n.jqx.mobile.getLeftPos(t[0]),r=n.jqx.mobile.getTopPos(t[0]);return{top:r,left:i}},resize:function(t,i,r,u){var h,a,o,e,s,c,l,y,f,w;u===undefined&&(u=!0);var v=-1,f=this,p=function(n){var i,t;if(!f.hiddenWidgets)return-1;for(i=-1,t=0;t<f.hiddenWidgets.length;t++)if(n.id){if(f.hiddenWidgets[t].id==n.id){i=t;break}}else if(f.hiddenWidgets[t].id==n[0].id){i=t;break}return i};if(this.resizeHandlers){for(h=0;h<this.resizeHandlers.length;h++)if(t.id){if(this.resizeHandlers[h].id==t.id){v=h;break}}else if(this.resizeHandlers[h].id==t[0].id){v=h;break}if(r===!0){v!=-1&&this.resizeHandlers.splice(v,1);this.resizeHandlers.length==0&&(e=n(window),e.off?(e.off("resize.jqx"),e.off("orientationchange.jqx"),e.off("orientationchanged.jqx")):(e.unbind("resize.jqx"),e.unbind("orientationchange.jqx"),e.unbind("orientationchanged.jqx")),this.resizeHandlers=null);a=p(t);a!=-1&&this.hiddenWidgets&&this.hiddenWidgets.splice(a,1);return}}else if(r===!0){a=p(t);a!=-1&&this.hiddenWidgets&&this.hiddenWidgets.splice(a,1);return}if(f=this,o=function(t,i){var l,e,o,h,s,c,b;if(f.resizeHandlers){var a=function(n){for(var i=-1,t=n.parentNode;t;)i++,t=t.parentNode;return i},v=function(n,t){var i,r,f;if(!n.widget||!t.widget)return 0;i=a(n.widget[0]);r=a(t.widget[0]);try{if(i<r)return-1;if(i>r)return 1}catch(u){f=u}return 0},y=function(t){if(f.hiddenWidgets.length>0){f.hiddenWidgets.sort(v);var r=function(){for(var t,u=!1,e=[],r=0;r<f.hiddenWidgets.length;r++)t=f.hiddenWidgets[r],n.jqx.isHidden(t.widget)?(u=!0,e.push(t)):t.callback&&t.callback(i);f.hiddenWidgets=e;u||clearInterval(f.__resizeInterval)};if(t==!1){r();f.__resizeInterval&&clearInterval(f.__resizeInterval);return}f.__resizeInterval&&clearInterval(f.__resizeInterval);f.__resizeInterval=setInterval(function(){r()},100)}};for(f.hiddenWidgets&&f.hiddenWidgets.length>0&&y(!1),f.hiddenWidgets=[],f.resizeHandlers.sort(v),l=0;l<f.resizeHandlers.length;l++){var u=f.resizeHandlers[l],w=u.widget,r=u.data;if(r&&r.jqxWidget)if(e=r.jqxWidget.width,o=r.jqxWidget.height,r.jqxWidget.base&&(e==undefined&&(e=r.jqxWidget.base.width),o==undefined&&(o=r.jqxWidget.base.height)),e===undefined&&o===undefined&&(e=r.jqxWidget.element.style.width,o=r.jqxWidget.element.style.height),h=!1,e!=null&&e.toString().indexOf("%")!=-1&&(h=!0),o!=null&&o.toString().indexOf("%")!=-1&&(h=!0),n.jqx.isHidden(w))p(w)===-1&&(h||t===!0)&&u.data.nestedWidget!==!0&&f.hiddenWidgets.push(u);else if(t===undefined||t!==!0){if(h){if(u.callback(i),f.watchedElementData)for(s=0;s<f.watchedElementData.length;s++)if(f.watchedElementData[s].element==r.jqxWidget.element){f.watchedElementData[s].offsetWidth=r.jqxWidget.element.offsetWidth;f.watchedElementData[s].offsetHeight=r.jqxWidget.element.offsetHeight;break}f.hiddenWidgets.indexOf(u)>=0&&f.hiddenWidgets.splice(f.hiddenWidgets.indexOf(u),1)}if(r.jqxWidget.element&&(c=r.jqxWidget.element.className,(c.indexOf("dropdownlist")>=0||c.indexOf("datetimeinput")>=0||c.indexOf("combobox")>=0||c.indexOf("menu")>=0)&&r.jqxWidget.isOpened&&(b=r.jqxWidget.isOpened(),b))){if(i&&i=="resize"&&n.jqx.mobile.isTouchDevice())continue;r.jqxWidget.close()}}}y()}},!this.resizeHandlers)if(this.resizeHandlers=[],e=n(window),e.on){this._resizeTimer=null;this._initResize=null;e.on("resize.jqx",function(){f._resizeTimer!=undefined&&clearTimeout(f._resizeTimer);f._initResize?f._resizeTimer=setTimeout(function(){o(null,"resize")},n.jqx.resizeDelay):(f._initResize=!0,o(null,"resize"))});e.on("orientationchange.jqx",function(){o(null,"orientationchange")});e.on("orientationchanged.jqx",function(){o(null,"orientationchange")})}else e.bind("resize.jqx",function(){o(null,"orientationchange")}),e.bind("orientationchange.jqx",function(){o(null,"orientationchange")}),e.bind("orientationchanged.jqx",function(){o(null,"orientationchange")});s=t.data();u&&v===-1&&this.resizeHandlers.push({id:t[0].id,widget:t,callback:i,data:s});try{c=s.jqxWidget.width;l=s.jqxWidget.height;s.jqxWidget.base&&(c==undefined&&(c=s.jqxWidget.base.width),l==undefined&&(l=s.jqxWidget.base.height));c===undefined&&l===undefined&&(c=s.jqxWidget.element.style.width,l=s.jqxWidget.element.style.height);y=!1;c!=null&&c.toString().indexOf("%")!=-1&&(y=!0);l!=null&&l.toString().indexOf("%")!=-1&&(y=!0);y&&(this.watchedElementData||(this.watchedElementData=[]),f=this,w=function(){f.watchedElementData.forEach&&f.watchedElementData.forEach(function(t){(t.element.offsetWidth!==t.offsetWidth||t.element.offsetHeight!==t.offsetHeight)&&(t.offsetWidth=t.element.offsetWidth,t.offsetHeight=t.element.offsetHeight,t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){n.jqx.isHidden(n(t.element))?t.timer=setInterval(function(){n.jqx.isHidden(n(t.element))||(clearInterval(t.timer),t.callback())},100):t.callback()}))})},f.watchedElementData.push({element:t[0],offsetWidth:t[0].offsetWidth,offsetHeight:t[0].offsetHeight,callback:i}),f.observer||(f.observer=new MutationObserver(w),f.observer.observe(document.body,{attributes:!0,childList:!0,characterData:!0})))}catch(b){}n.jqx.isHidden(t)&&u===!0&&o(!0);n.jqx.resize=function(){o(null,"resize")}},parseJSON:function(t){if(!t||typeof t!="string")return null;if(t=n.trim(t),window.JSON&&window.JSON.parse)return window.JSON.parse(t);if(/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,"@").replace(/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return new Function("return "+t)();throw new Error("Invalid JSON: "+t);},html:function(t,i){if(!n(t).on)return n(t).html(i);try{return n.access(t,function(i){var r=t[0]||{},u=0,f=t.length;if(i===undefined)return r.nodeType===1?r.innerHTML.replace(rinlinejQuery,""):undefined;var e=new RegExp("<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)[\\s/>]","i");if(typeof i=="string"&&!/<(?:script|style|link)/i.test(i)&&(n.support.htmlSerialize||!e.test(i))&&(n.support.leadingWhitespace||!/^\s+/.test(i))&&!{option:[1,"<select multiple='multiple'>","<\/select>"],legend:[1,"<fieldset>","<\/fieldset>"],thead:[1,"<table>","<\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],area:[1,"<map>","<\/map>"],_default:[0,"",""]}[(/<([\w:]+)/.exec(i)||["",""])[1].toLowerCase()]){i=i.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1><\/$2>");try{for(;u<f;u++)r=this[u]||{},r.nodeType===1&&(n.cleanData(r.getElementsByTagName("*")),r.innerHTML=i);r=0}catch(o){}}r&&t.empty().append(i)},null,i,arguments.length)}catch(r){return n(t).html(i)}},hasTransform:function(t){var i="",r;if(i=t.css("transform"),i==""||i=="none")if(i=t.parents().css("transform"),i==""||i=="none")r=n.jqx.utilities.getBrowser(),r.browser=="msie"?(i=t.css("-ms-transform"),(i==""||i=="none")&&(i=t.parents().css("-ms-transform"))):r.browser=="chrome"?(i=t.css("-webkit-transform"),(i==""||i=="none")&&(i=t.parents().css("-webkit-transform"))):r.browser=="opera"?(i=t.css("-o-transform"),(i==""||i=="none")&&(i=t.parents().css("-o-transform"))):r.browser=="mozilla"&&(i=t.css("-moz-transform"),(i==""||i=="none")&&(i=t.parents().css("-moz-transform")));else return i!=""&&i!="none";return(i==""||i=="none")&&(i=n(document.body).css("transform")),i!=""&&i!="none"&&i!=null},getBrowser:function(){var n=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[],i={browser:t[1]||"",version:t[2]||"0"};return n.indexOf("rv:11.0")>=0&&n.indexOf(".net4.0c")>=0&&(i.browser="msie",i.version="11",t[1]="msie"),n.indexOf("edge")>=0&&(i.browser="msie",i.version="12",t[1]="msie"),i[t[1]]=t[1],i}});n.jqx.browser=n.jqx.utilities.getBrowser();n.jqx.isHidden=function(n){if(!n||!n[0])return!1;var t=n[0].offsetWidth,i=n[0].offsetHeight;return t===0||i===0?!0:!1};n.jqx.ariaEnabled=!0;n.jqx.aria=function(t,i,r){if(n.jqx.ariaEnabled)if(i==undefined)n.each(t.aria,function(i,r){var u=t.base?t.base.host.attr(i):t.host.attr(i),f;if(u==undefined||n.isFunction(u)){u=t[r.name];n.isFunction(u)&&(u=t[r.name]());u==undefined&&(u="");try{t.base?t.base.host.attr(i,u.toString()):t.host.attr(i,u.toString())}catch(e){}}else{f=u;switch(r.type){case"number":f=new Number(u);isNaN(f)&&(f=u);break;case"boolean":f=u=="true"?!0:!1;break;case"date":f=new Date(u);(f=="Invalid Date"||isNaN(f))&&(f=u)}t[r.name]=f}});else try{t.host?t.base?t.base.host?t.base.host.attr(i,r.toString()):t.attr(i,r.toString()):t.host?t.element.setAttribute?t.element.setAttribute(i,r.toString()):t.host.attr(i,r.toString()):t.attr(i,r.toString()):t.setAttribute&&t.setAttribute(i,r.toString())}catch(u){}};Array.prototype.indexOf||(Array.prototype.indexOf=function(n){var i=this.length,t=Number(arguments[1])||0;for(t=t<0?Math.ceil(t):Math.floor(t),t<0&&(t+=i);t<i;t++)if(t in this&&this[t]===n)return t;return-1});n.jqx.mobile=n.jqx.mobile||{};n.jqx.position=function(t){var r=parseInt(t.pageX),u=parseInt(t.pageY),f,i;return n.jqx.mobile.isTouchDevice()&&(f=n.jqx.mobile.getTouches(t),i=f[0],r=parseInt(i.pageX),u=parseInt(i.pageY)),{left:r,top:u}};n.extend(n.jqx.mobile,{_touchListener:function(n){var r=function(n,t){var i=document.createEvent("MouseEvents");return i.initMouseEvent(n,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),i._pageX=t.pageX,i._pageY=t.pageY,i},i={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},u=r(i[n.type],n),t;n.target.dispatchEvent(u);t=n.target["on"+i[n.type]];typeof t=="function"&&t(n)},setMobileSimulator:function(t,i){var f,r,u;this.isTouchDevice()||(this.simulatetouches=!0,i==!1&&(this.simulatetouches=!1),f={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},r=this,window.addEventListener&&(u=function(){for(var n in f)t.addEventListener&&(t.removeEventListener(n,r._touchListener),t.addEventListener(n,r._touchListener,!1))},n.jqx.browser.msie?u():u()))},isTouchDevice:function(){var n,r,t,u;if(this.touchDevice!=undefined)return this.touchDevice;if((n="Browser CodeName: "+navigator.appCodeName+"",n+="Browser Name: "+navigator.appName+"",n+="Browser Version: "+navigator.appVersion+"",n+="Platform: "+navigator.platform+"",n+="User-agent header: "+navigator.userAgent+"",n.indexOf("Android")!=-1)||n.indexOf("IEMobile")!=-1||n.indexOf("Windows Phone")!=-1||n.indexOf("WPDesktop")!=-1||n.indexOf("ZuneWP7")!=-1||n.indexOf("BlackBerry")!=-1&&n.indexOf("Mobile Safari")!=-1||n.indexOf("ipod")!=-1||n.indexOf("nokia")!=-1||n.indexOf("Nokia")!=-1)return!0;if(n.indexOf("Chrome/17")!=-1||n.indexOf("CrOS")!=-1||n.indexOf("Opera")!=-1&&n.indexOf("Mobi")==-1&&n.indexOf("Mini")==-1&&n.indexOf("Platform: Win")!=-1)return!1;if(n.indexOf("Opera")!=-1&&n.indexOf("Mobi")!=-1&&n.indexOf("Opera Mobi")!=-1)return!0;r={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(this.touchDevice!=undefined)return this.touchDevice;this.touchDevice=!1;for(i in r)if(r.hasOwnProperty(i)&&(prefix=r[i],match=n.match(new RegExp("(?:"+prefix+")([^\\s;]+)")),match))return i.toString()=="blackberry"?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0);if(t=navigator.userAgent,navigator.platform.toLowerCase().indexOf("win")!=-1){if(t.indexOf("Windows Phone")>=0||t.indexOf("WPDesktop")>=0||t.indexOf("IEMobile")>=0||t.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(t.indexOf("Touch")>=0)return(u="MSPointerDown"in window||"pointerdown"in window,u)?(this.touchDevice=!0,!0):t.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}return navigator.platform.toLowerCase().indexOf("win")!=-1?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(f){return this.touchDevice=!1,!1}},getLeftPos:function(n){for(var t=n.offsetLeft;(n=n.offsetParent)!=null;)n.tagName!="HTML"&&(t+=n.offsetLeft,document.all&&(t+=n.clientLeft));return t},getTopPos:function(t){for(var r=t.offsetTop,u=n(t).coord(),i,f;(t=t.offsetParent)!=null;)t.tagName!="HTML"&&(r+=t.offsetTop-t.scrollTop,document.all&&(r+=t.clientTop));return(i=navigator.userAgent.toLowerCase(),f=(i.indexOf("windows phone")!=-1||i.indexOf("WPDesktop")!=-1||i.indexOf("ZuneWP7")!=-1||i.indexOf("msie 9")!=-1||i.indexOf("msie 11")!=-1||i.indexOf("msie 10")!=-1)&&i.indexOf("touch")!=-1,f)?u.top:this.isSafariMobileBrowser()?this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()?r:i.indexOf("version/7")!=-1?u.top:((i.indexOf("version/6")!=-1||i.indexOf("version/5")!=-1)&&(r=r+n(window).scrollTop()),/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent))?r+n(window).scrollTop():/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)?r+n(window).scrollTop():u.top:r},isChromeMobileBrowser:function(){var n=navigator.userAgent.toLowerCase();return n.indexOf("android")!=-1},isOperaMiniMobileBrowser:function(){var n=navigator.userAgent.toLowerCase();return n.indexOf("opera mini")!=-1||n.indexOf("opera mobi")!=-1},isOperaMiniBrowser:function(){var n=navigator.userAgent.toLowerCase();return n.indexOf("opera mini")!=-1},isNewSafariMobileBrowser:function(){var n=navigator.userAgent.toLowerCase(),t=n.indexOf("ipad")!=-1||n.indexOf("iphone")!=-1||n.indexOf("ipod")!=-1;return t&&n.indexOf("version/5")!=-1},isSafari4MobileBrowser:function(){var n=navigator.userAgent.toLowerCase(),t=n.indexOf("ipad")!=-1||n.indexOf("iphone")!=-1||n.indexOf("ipod")!=-1;return t&&n.indexOf("version/4")!=-1},isWindowsPhone:function(){var n=navigator.userAgent.toLowerCase();return n.indexOf("windows phone")!=-1||n.indexOf("WPDesktop")!=-1||n.indexOf("ZuneWP7")!=-1||n.indexOf("msie 9")!=-1||n.indexOf("msie 11")!=-1||n.indexOf("msie 10")!=-1&&n.indexOf("touch")!=-1},isSafariMobileBrowser:function(){var n=navigator.userAgent.toLowerCase();return/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)?!0:/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)?!0:n.indexOf("ipad")!=-1||n.indexOf("iphone")!=-1||n.indexOf("ipod")!=-1||n.indexOf("mobile safari")!=-1},isIPadSafariMobileBrowser:function(){var n=navigator.userAgent.toLowerCase();return n.indexOf("ipad")!=-1},isMobileBrowser:function(){var n=navigator.userAgent.toLowerCase();return n.indexOf("ipad")!=-1||n.indexOf("iphone")!=-1||n.indexOf("android")!=-1},getTouches:function(n){if(n.originalEvent){if(n.originalEvent.touches&&n.originalEvent.touches.length)return n.originalEvent.touches;if(n.originalEvent.changedTouches&&n.originalEvent.changedTouches.length)return n.originalEvent.changedTouches}return n.touches||(n.touches=[],n.touches[0]=n.originalEvent!=undefined?n.originalEvent:n,n.originalEvent!=undefined&&n.pageX&&(n.touches[0]=n),n.type=="mousemove"&&(n.touches[0]=n)),n.touches},getTouchEventName:function(n){if(this.isWindowsPhone()){var t=navigator.userAgent.toLowerCase();if(t.indexOf("windows phone 7")!=-1){if(n.toLowerCase().indexOf("start")!=-1)return"MSPointerDown";if(n.toLowerCase().indexOf("move")!=-1)return"MSPointerMove";if(n.toLowerCase().indexOf("end")!=-1)return"MSPointerUp"}if(n.toLowerCase().indexOf("start")!=-1)return"pointerdown";if(n.toLowerCase().indexOf("move")!=-1)return"pointermove";if(n.toLowerCase().indexOf("end")!=-1)return"pointerup"}else return n},dispatchMouseEvent:function(n,t,i){if(!this.simulatetouches){var r=document.createEvent("MouseEvent");r.initMouseEvent(n,!0,!0,t.view,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null);i!=null&&i.dispatchEvent(r)}},getRootNode:function(n){while(n.nodeType!==1)n=n.parentNode;return n},setTouchScroll:function(n,t){this.enableScrolling||(this.enableScrolling=[]);this.enableScrolling[t]=n},touchScroll:function(t,i,r,u,f,e){function ni(n){if(n.targetTouches&&n.targetTouches.length>=1)return n.targetTouches[0].clientY;if(n.originalEvent&&n.originalEvent.clientY!==undefined)return n.originalEvent.clientY;var t=o.getTouches(n);return t[0].clientY}function ti(n){if(n.targetTouches&&n.targetTouches.length>=1)return n.targetTouches[0].clientX;if(n.originalEvent&&n.originalEvent.clientX!==undefined)return n.originalEvent.clientX;var t=o.getTouches(n);return t[0].clientX}function ii(){var t,n;c&&(t=Date.now()-v,n=-c*Math.exp(-t/lt),n>.5||n<-.5?(d(st+n,event),requestAnimationFrame(ii)):(d(st),e.fadeOut("fast")))}function ri(){var t,n;c&&(t=Date.now()-v,n=-c*Math.exp(-t/lt),n>.5||n<-.5?(g(ht+n),requestAnimationFrame(ri)):(g(ht),f.fadeOut("fast")))}var d,g,vt,w,si,yt,pt,hi,wt;if(t!=null){var o=this,nt=0,tt=0,ui=0,it=0,rt=0,fi=0;this.scrolling||(this.scrolling=[]);this.scrolling[u]=!1;var ut=!1,s=n(t),ei=["select","input","textarea"],bt=0,oi=0;this.enableScrolling||(this.enableScrolling=[]);this.enableScrolling[u]=!0;var u=u,kt=this.getTouchEventName("touchstart")+".touchScroll",dt=this.getTouchEventName("touchend")+".touchScroll",gt=this.getTouchEventName("touchmove")+".touchScroll",y,l,a,h,ft,b,p,et,v,ot,c,st,ht,ct,lt;a=i;l=0;h=0;xoffset=0;initialOffset=0;initialXOffset=0;y=f.jqxScrollBar("max");lt=325;var at=function(){var n,t,i,r;n=Date.now();t=n-v;v=n;i=h-et;xdelta=xoffset-xframe;et=h;xframe=xoffset;b=!0;r=1e3*i/(1+t);xv=1e3*xdelta/(1+t);p=.8*r+.2*p;xjqxAnimations=.8*xv+.2*xjqxAnimations},k=!1,bt=function(t){function s(n){k=!1;b=!0;ft=ni(n);ct=ti(n);p=c=xjqxAnimations=0;et=h;xframe=xoffset;v=Date.now();clearInterval(ot);ot=setInterval(at,100);initialOffset=h;initialXOffset=xoffset;h>0&&h<a&&e[0].style.visibility!="hidden"}if(!o.enableScrolling[u])return!0;if(n.inArray(t.target.tagName.toLowerCase(),ei)===-1){h=e.jqxScrollBar("value");xoffset=f.jqxScrollBar("value");var r=o.getTouches(t),i=r[0];return r.length==1&&o.dispatchMouseEvent("mousedown",i,o.getRootNode(i.target)),y=f.jqxScrollBar("max"),a=e.jqxScrollBar("max"),s(t),ut=!1,tt=i.pageY,rt=i.pageX,o.simulatetouches&&i._pageY!=undefined&&(tt=i._pageY,rt=i._pageX),o.scrolling[u]=!0,nt=0,it=0,!0}};if(s.on)s.on(kt,bt);else s.bind(kt,bt);if(d=function(n,t){return h=n>a?a:n<l?l:n,r(null,n,0,0,t),n>a?"max":n<l?"min":"value"},g=function(n,t){return xoffset=n>y?y:n<l?l:n,r(n,null,0,0,t),n>y?"max":n<l?"min":"value"},vt=function(n){function p(n){var r,i,u,t;if(b){if(r=ni(n),u=ti(n),i=ft-r,xdelta=ct-u,t="value",i>2||i<-2)return(ft=r,t=d(h+i,n),at(),t=="min"&&initialOffset===0)?!0:t=="max"&&initialOffset===a?!0:c?(n.preventDefault(),n.stopPropagation(),k=!0,!1):!0;if(xdelta>2||xdelta<-2)return(ct=u,t=g(xoffset+xdelta,n),at(),t=="min"&&initialXOffset===0)?!0:t=="max"&&initialXOffset===y?!0:s?(k=!0,n.preventDefault(),n.stopPropagation(),!1):!0;n.preventDefault()}}var t,i,r,l,v,s,c;if(!o.enableScrolling[u]||!o.scrolling[u]||(k&&(n.preventDefault(),n.stopPropagation()),t=o.getTouches(n),t.length>1))return!0;i=t[0].pageY;r=t[0].pageX;o.simulatetouches&&t[0]._pageY!=undefined&&(i=t[0]._pageY,r=t[0]._pageX);l=i-tt;v=r-rt;oi=i;touchHorizontalEnd=r;ui=l-nt;fi=v-it;ut=!0;nt=l;it=v;s=f!=null?f[0].style.visibility!="hidden":!0;c=e!=null?e[0].style.visibility!="hidden":!0;(s||c)&&(s||c)&&p(n)},s.on)s.on(gt,vt);else s.bind(gt,vt);if(w=function(n){var t,i;if(!o.enableScrolling[u]||(t=o.getTouches(n)[0],!o.scrolling[u]))return!0;if(b=!1,clearInterval(ot),p>10||p<-10?(c=.8*p,st=Math.round(h+c),v=Date.now(),requestAnimationFrame(ii),e.fadeIn(100)):xjqxAnimations>10||xjqxAnimations<-10?(c=.8*xjqxAnimations,ht=Math.round(xoffset+c),v=Date.now(),requestAnimationFrame(ri),f.fadeIn(100)):(f.fadeOut(100),e.fadeOut(100)),o.scrolling[u]=!1,ut)o.dispatchMouseEvent("mouseup",t,n.target);else return t=o.getTouches(n)[0],i=o.getRootNode(t.target),o.dispatchMouseEvent("mouseup",t,i),o.dispatchMouseEvent("click",t,i),!0},this.simulatetouches&&(si=n(window).on!=undefined||n(window).bind,yt=function(n){try{w(n)}catch(t){}o.scrolling[u]=!1},n(window).on!=undefined?n(document).on("mouseup.touchScroll",yt):n(document).bind("mouseup.touchScroll",yt),window.frameElement&&window.top!=null&&(pt=function(n){try{w(n)}catch(t){}o.scrolling[u]=!1},window.top.document&&(n(window.top.document).on?n(window.top.document).on("mouseup",pt):n(window.top.document).bind("mouseup",pt))),hi=n(document).on!=undefined||n(document).bind,wt=function(n){if(!o.scrolling[u])return!0;o.scrolling[u]=!1;var t=o.getTouches(n)[0],i=o.getRootNode(t.target);o.dispatchMouseEvent("mouseup",t,i);o.dispatchMouseEvent("click",t,i)},n(document).on!=undefined?n(document).on("touchend",wt):n(document).bind("touchend",wt)),s.on){s.on("dragstart",function(n){n.preventDefault()});s.on("selectstart",function(n){n.preventDefault()})}s.on?s.on(dt+" touchcancel.touchScroll",w):s.bind(dt+" touchcancel.touchScroll",w)}}});n.jqx.cookie=n.jqx.cookie||{};n.extend(n.jqx.cookie,{cookie:function(t,i,r){var f,u,e,o;return arguments.length>1&&String(i)!=="[object Object]"?(r=n.extend({},r),(i===null||i===undefined)&&(r.expires=-1),typeof r.expires=="number"&&(f=r.expires,u=r.expires=new Date,u.setDate(u.getDate()+f)),i=String(i),document.cookie=[encodeURIComponent(t),"=",r.raw?i:encodeURIComponent(i),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")):(r=i||{},o=r.raw?function(n){return n}:decodeURIComponent,(e=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?o(e[1]):null)}});n.jqx.string=n.jqx.string||{};n.extend(n.jqx.string,{replace:function(n,t,i){if(t===i)return this;for(var r=n,u=r.indexOf(t);u!=-1;)r=r.replace(t,i),u=r.indexOf(t);return r},contains:function(n,t){return n==null||t==null?!1:n.indexOf(t)!=-1},containsIgnoreCase:function(n,t){return n==null||t==null?!1:n.toString().toUpperCase().indexOf(t.toString().toUpperCase())!=-1},equals:function(n,t){return n==null||t==null?!1:(n=this.normalize(n),t.length==n.length)?n.slice(0,t.length)==t:!1},equalsIgnoreCase:function(n,t){return n==null||t==null?!1:(n=this.normalize(n),t.length==n.length)?n.toUpperCase().slice(0,t.length)==t.toUpperCase():!1},startsWith:function(n,t){return n==null||t==null?!1:n.slice(0,t.length)==t},startsWithIgnoreCase:function(n,t){return n==null||t==null?!1:n.toUpperCase().slice(0,t.length)==t.toUpperCase()},normalize:function(n){return n.charCodeAt(n.length-1)==65279&&(n=n.substring(0,n.length-1)),n},endsWith:function(n,t){return n==null||t==null?!1:(n=this.normalize(n),n.slice(-t.length)==t)},endsWithIgnoreCase:function(n,t){return n==null||t==null?!1:(n=this.normalize(n),n.toUpperCase().slice(-t.length)==t.toUpperCase())}});n.extend(n.easing,{easeOutBack:function(n,t,i,r,u,f){return f==undefined&&(f=1.70158),r*((t=t/u-1)*t*((f+1)*t+f)+1)+i},easeInQuad:function(n,t,i,r,u){return r*(t/=u)*t+i},easeInOutCirc:function(n,t,i,r,u){return(t/=u/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInOutSine:function(n,t,i,r,u){return-r/2*(Math.cos(Math.PI*t/u)-1)+i},easeInCubic:function(n,t,i,r,u){return r*(t/=u)*t*t+i},easeOutCubic:function(n,t,i,r,u){return r*((t=t/u-1)*t*t+1)+i},easeInOutCubic:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},easeInSine:function(n,t,i,r,u){return-r*Math.cos(t/u*(Math.PI/2))+r+i},easeOutSine:function(n,t,i,r,u){return r*Math.sin(t/u*(Math.PI/2))+i},easeInOutSine:function(n,t,i,r,u){return-r/2*(Math.cos(Math.PI*t/u)-1)+i}})}(jqxBaseFramework),function(n){n.event&&n.event.special&&n.extend(n.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}});n.fn.extend&&n.fn.extend({ischildof:function(t){var r,i,u;if(!n(this).parents)return t.element.contains(this.element);for(r=n(this).parents().get(),i=0;i<r.length;i++)if(typeof t!="string"){if(u=r[i],t!==undefined&&u==t[0])return!0}else if(t!==undefined&&n(r[i]).is(t))return!0;return!1}});n.fn.jqxProxy=function(){var t=n(this).data().jqxWidget,r=Array.prototype.slice.call(arguments,0),i=t.element;return i||(i=t.base.element),n.jqx.jqxWidgetProxy(t.widgetName,i,r)};var t=this.originalVal=n.fn.val;n.fn.val=function(i){var r;return typeof i=="undefined"?n(this).hasClass("jqx-widget")&&(r=n(this).data().jqxWidget,r&&r.val)?r.val():t.call(this):n(this).hasClass("jqx-widget")&&(r=n(this).data().jqxWidget,r&&r.val)?arguments.length!=2?r.val(i):r.val(i,arguments[1]):t.call(this,i)};n.fn.modal&&n.fn.modal.Constructor&&(n.fn.modal.Constructor.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(t){if(this.$element[0]!==t.target&&!this.$element.has(t.target).length){if(n(t.target).parents().hasClass("jqx-popup"))return!0;this.$element.trigger("focus")}},this))});n.fn.coord=function(t){var i,f,u={top:0,left:0},r=this[0],e=r&&r.ownerDocument,h,s;if(e){if(i=e.documentElement,!n.contains(i,r))return u;typeof r.getBoundingClientRect!==undefined&&(u=r.getBoundingClientRect());h=function(t){return n.isWindow(t)?t:t.nodeType===9?t.defaultView||t.parentWindow:!1};f=h(e);var o=0,c=0,l=navigator.userAgent.toLowerCase(),a=l.indexOf("ipad")!=-1||l.indexOf("iphone")!=-1;return a&&(o=2),!0==t&&document.body.style.position!="static"&&document.body.style.position!=""&&(s=n(document.body).coord(),o=-s.left,c=-s.top),{top:c+u.top+(f.pageYOffset||i.scrollTop)-(i.clientTop||0),left:o+u.left+(f.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}}}(jqxBaseFramework),function(n){n.jqx.jqxWidget("jqxMenu","",{});n.extend(n.jqx._jqxMenu.prototype,{defineInstance:function(){var t={items:[],mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:100,menuElements:[],autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:17e3,rtl:!1,keyboardNavigation:!1,lockFocus:!1,title:"",events:["shown","closed","itemclick","initialized","open","close"]};return n.extend(!0,this,t),t},createInstance:function(){var i=this,r,t;this.host.attr("role","menubar");n.jqx.utilities.resize(this.host,function(){i.refresh()},!1,this.mode!="popup");this.minimizeWidth!="auto"&&this.minimizeWidth!=null&&this.width&&this.width.toString().indexOf("%")==-1&&n(window).resize(function(){i.refresh()});this.host.css("outline","none");this.source&&this.source!=null&&(r=this.loadItems(this.source),this.element.innerHTML=r);this._tmpHTML=this.element.innerHTML;this.element.innerHTML.indexOf("UL")&&(t=this.host.find("ul:first"),t.length>0&&this._createMenu(t[0]));this.host.data("autoclose",{});this._render();this._setSize();n.jqx.browser.msie&&n.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){var r,t,i;try{this.mode==="popup"&&this.keyboardNavigation&&(r=this.host.closest("div.jqx-menu-wrapper"),r.focus());this.keyboardNavigation&&(this.host.focus(),t=this,i=function(){if(n.jqx.isHidden(n(t.items[0].element))){var i=t._nextVisibleItem(t.items[0],0);i&&(n(i.element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=i)}else n(t.items[0].element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=t.items[0]},this.activeItem?n.jqx.isHidden(n(this.activeItem.element))?(n(this.activeItem.element).removeClass(this.toThemeProperty("jqx-fill-state-focus")),i()):n(this.activeItem.element).addClass(this.toThemeProperty("jqx-fill-state-focus")):i())}catch(u){}},loadItems:function(t,i){var u,r;if(t!=null)return t.length==0?"":(u=this,this.items=[],r='<ul class="jqx-menu-ul">',i&&(r='<ul class="jqx-menu-ul" style="width:'+i+';">'),n.map(t,function(n){if(n==undefined)return null;r+=u._parseItem(n)}),r+="<\/ul>")},_parseItem:function(n){var t="",i,u,r;return n==undefined?null:(i=n.label,!n.label&&n.html&&(i=n.html),i||(i="Item"),typeof n=="string"&&(i=n),u=!1,n.selected!=undefined&&n.selected&&(u=!0),r=!1,n.disabled!=undefined&&n.disabled&&(r=!0),t+="<li",r&&(t+=' item-disabled="true" '),n.label&&!n.html&&(t+=' item-label="'+i+'" '),n.value!=null&&(t+=' item-value="'+n.value+'" '),n.id!=undefined&&(t+=' id="'+n.id+'" '),t+=">"+i,n.items&&(t+=n.subMenuWidth?this.loadItems(n.items,n.subMenuWidth):this.loadItems(n.items)),t+"<\/li>")},_setSize:function(){var e,t,i,f,r,u;if(this.width!=null&&this.width.toString().indexOf("%")!=-1?this.host.width(this.width):this.width!=null&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):this.width==undefined||isNaN(this.width)||this.host.width(this.width),this.height!=null&&this.height.toString().indexOf("%")!=-1?this.host.height(this.height):this.height!=null&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):this.height==undefined||isNaN(this.height)||this.host.height(this.height),this.height===null&&this.host.height("auto"),e=this,this.minimizeWidth!=null&&this.mode!="popup"){if(t=n(window).width(),!n.jqx.response&&(i=!1,navigator.userAgent.match(/Windows|Linux|MacOS/)&&(f=navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0,f||(i=!0)),r=this.minimizeWidth,i&&this.minimizeWidth=="auto"))return;this.minimizeWidth=="auto"&&n.jqx.response?(u=new n.jqx.response,(u.device.type=="Phone"||u.device.type=="Tablet")&&(this.minimized||this.minimize())):t<r&&!this.minimized?this.minimize():this.minimized&&t>=r&&this.restore()}},minimize:function(){var i,e,u,r,t,o,f;this.minimized||(i=this,this.host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple",t=this.host.closest("div.jqx-menu-wrapper"),t.remove(),n("#menuWrapper"+this.element.id).remove(),n.each(this.items,function(){var t=this,u=n(t.element),i=n(t.subMenuElement),r=i.closest("div.jqx-menu-popup");r.remove()}),this.source&&(e=this.loadItems(this.source),this.element.innerHTML=e,this._tmpHTML=this.element.innerHTML),this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")&&(u=this.host.find("ul:first"),u.length>0&&this._createMenu(u[0])),this._render(),r=this.host.find("ul:first"),r.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"><\/div>'),t=r.closest("div.jqx-menu-wrapper"),t[0].id="menuWrapper"+this.element.id,t.detach(),t.appendTo(n(document.body)),t.addClass(this.toThemeProperty("jqx-widget")),t.addClass(this.toThemeProperty("jqx-menu")),t.addClass(this.toThemeProperty("jqx-menu-minimized")),t.addClass(this.toThemeProperty("jqx-widget-header")),r.children().hide(),t.hide(),t.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=n("<div><\/div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.addHandler(t,"keydown",function(n){return i.handleKeyDown(n)}),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=n("<div>"+this.title+"<\/div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),n("<div style='clear:both;'><\/div>").insertAfter(this.minimizedItem),i.minimizedHidden=!0,o=function(){i.minimizedHidden=!0;i.minimizedItem.show();var n=!1;i.minimizedItem.css("float")=="right"&&(n=!0);t.animate({left:n?i.host.coord().left+i.host.width()+t.width():-t.outerWidth(),opacity:0},i.animationHideDuration,function(){t.find("ul:first").children().hide();t.hide()})},f=function(n){if(i.minimizedHidden){t.find("ul:first").children().show();i.minimizedHidden=!1;t.show();t.css("opacity",0);t.css("left",-t.outerWidth());var r=!1,u=t.width();i.minimizedItem.css("float")=="right"&&(t.css("left",i.host.coord().left+i.host.width()+u),r=!0);t.css("top",i.host.coord().top+i.host.height());t.animate({left:r?i.host.coord().left+i.host.width()-u:i.host.coord().left,opacity:1},i.animationShowDuration,function(){});setTimeout(function(){$body.bind("click.jqx touchbegin.jqx swipe.jqx",function(n){this.host&&f(n)})},0)}else o(n),$body.unbind(".jqx");i._raiseEvent("2",{type:"mouse",item:i.minimizedItem[0],event:n});i._setSize()},this.addHandler(n(window),"orientationchange.jqxmenu"+this.element.id,function(){setTimeout(function(){if(!i.minimizedHidden){var r=t.width(),n=!1,r=t.width();i.minimizedItem.css("float")=="right"&&(n=!0);t.css("top",i.host.coord().top+i.host.height());t.css({left:n?i.host.coord().left+i.host.width()-r:i.host.coord().left})}},25)}),this.addHandler(this.minimizedItem,"click",function(n){f(n)}))},restore:function(){var r,t,i;this.minimized&&(this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove(),r=n("#menuWrapper"+this.element.id),r.remove(),this.source&&(t=this.loadItems(this.source),this.element.innerHTML=t,this._tmpHTML=t),this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")&&(i=this.host.find("ul:first"),i.length>0&&this._createMenu(i[0])),this._setSize(),this._render())},isTouchDevice:function(){if(this._isTouchDevice!=undefined)return this._isTouchDevice;var t=n.jqx.mobile.isTouchDevice();return this.touchMode==!0?t=!0:this.touchMode==!1&&(t=!1),t&&(this.host.addClass(this.toThemeProperty("jqx-touch")),n(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=t,t},refresh:function(n){n||this._setSize()},resize:function(n,t){this.width=n;this.height=t;this.refresh()},_closeAll:function(t){var i=t!=null?t.data:this,u=i.items,r;n.each(u,function(){var n=this;n.hasItems==!0&&n.isOpen&&i._closeItem(i,n)});i.mode=="popup"&&t!=null&&(r=i._isRightClick(t),r||i.close())},closeItem:function(t){if(t==null)return!1;var r=t,u=document.getElementById(r),i=this;return n.each(i.items,function(){var n=this;n.isOpen==!0&&n.element==u&&(i._closeItem(i,n),n.parentId&&i.closeItem(n.parentId))}),!0},openItem:function(t){if(t==null)return!1;var r=t,u=document.getElementById(r),i=this;return n.each(i.items,function(){var n=this;n.isOpen==!1&&n.element==u&&(i._openItem(i,n),n.parentId&&i.openItem(n.parentId))}),!0},_getClosedSubMenuOffset:function(t){var i=n(t.subMenuElement),u=-i.outerHeight(),r=-i.outerWidth(),f=t.level==0&&this.mode=="horizontal";f?r=0:u=0;switch(t.openVerticalDirection){case"up":case"center":u=i.outerHeight()}switch(t.openHorizontalDirection){case this._getDir("left"):r=f?0:i.outerWidth();break;case"center":r=f?0:i.outerWidth()}return{left:r,top:u}},_closeItem:function(t,i,r,u){var o,s,a;if(t==null||i==null)return!1;var f=n(i.subMenuElement),v=i.level==0&&this.mode=="horizontal",h=this._getClosedSubMenuOffset(i),c=h.top,l=h.left,y=n(i.element),e=f.closest("div.jqx-menu-popup");e!=null&&(o=t.animationHideDelay,u==!0&&(o=0),f.data("timer")&&f.data("timer").show!=null&&(clearTimeout(f.data("timer").show),f.data("timer").show=null),s=function(){i.isOpen=!1;v?f.stop().animate({top:c},t.animationHideDuration,function(){n(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed"));n(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected"));n(i.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded"));e.removeClass(t.toThemeProperty("jqx-rc-t-expanded"));var r=n(i.arrow);r.length>0&&t.showTopLevelArrows&&(r.removeClass(),i.openVerticalDirection=="down"?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-down")),r.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-up")),r.addClass(t.toThemeProperty("jqx-icon-arrow-up"))));n.jqx.aria(n(i.element),"aria-expanded",!1);e.css({display:"none"});t.animationHideDuration==0&&f.css({top:c});t._raiseEvent("1",i)}):(!n.jqx.browser.msie,f.stop().animate({left:l},t.animationHideDuration,function(){var r;t.animationHideDuration==0&&f.css({left:l});i.level>0?(n(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),n(i.element).removeClass(t.toThemeProperty("jqx-menu-item-selected")),r=n(i.arrow),r.length>0&&(r.removeClass(),i.openHorizontalDirection!="left"?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right"))),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left"))),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))):(n(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),n(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),r=n(i.arrow),r.length>0&&(r.removeClass(),i.openHorizontalDirection!="left"?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right"))),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left"))),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left"))))));n.jqx.aria(n(i.element),"aria-expanded",!1);e.css({display:"none"});t._raiseEvent("1",i)}))},o>0?f.data("timer")&&(f.data("timer").hide=setTimeout(function(){s()},o)):s(),r!=undefined&&r&&(a=f.children(),n.each(a,function(){if(t.menuElements[this.id]&&t.menuElements[this.id].isOpen){var i=n(t.menuElements[this.id].subMenuElement);t._closeItem(t,t.menuElements[this.id],!0,!0)}})))},getSubItems:function(t,i){var u,r;if(t==null)return!1;u=this;r=[];i!=null&&n.extend(r,i);var f=t,e=this.menuElements[f],o=n(e.subMenuElement),s=o.find(".jqx-menu-item");return n.each(s,function(){r[this.id]=u.menuElements[this.id];var t=u.getSubItems(this.id,r);n.extend(r,t)}),r},disable:function(t,i){var e,u,f,r;t!=null&&(e=t,u=this,this.menuElements[e]&&(f=this.menuElements[e],f.disabled=i,r=n(f.element),f.element.disabled=i,n.each(r.children(),function(){this.disabled=i}),i?(r.addClass(u.toThemeProperty("jqx-menu-item-disabled")),r.addClass(u.toThemeProperty("jqx-fill-state-disabled"))):(r.removeClass(u.toThemeProperty("jqx-menu-item-disabled")),r.removeClass(u.toThemeProperty("jqx-fill-state-disabled")))))},getItem:function(n){return this.menuElements[n]?this.menuElements[n]:null},disableItem:function(n){this.disable(n,!0)},hideItem:function(t){if(this.menuElements[t]){var i=this.menuElements[t];n(i.element).hide()}},showItem:function(t){if(this.menuElements[t]){var i=this.menuElements[t];n(i.element).show()}},enableItem:function(n){this.disable(n,!1)},_setItemProperty:function(n,t,i){var r,f,u;n!=null&&(r=n,f=this,this.menuElements[r]&&(u=this.menuElements[r],u[t]&&(u[t]=i)))},setItemOpenDirection:function(t,i,r){var f,u,o;if(t!=null){var h=t,e=this,s=n.jqx.browser.msie&&n.jqx.browser.version<8;if(this.menuElements[h]&&(f=this.menuElements[h],i!=null&&(f.openHorizontalDirection=i,f.hasItems&&f.level>0&&(o=n(f.element),o!=undefined&&(u=n(f.arrow),f.arrow==null&&(u=n('<span id="arrow'+o[0].id+'"><\/span>'),s?u.appendTo(o):u.prependTo(o),f.arrow=u[0]),u.removeClass(),f.openHorizontalDirection=="left"?(u.addClass(e.toThemeProperty("jqx-menu-item-arrow-"+e._getDir("left"))),u.addClass(e.toThemeProperty("jqx-icon-arrow-"+e._getDir("left")))):(u.addClass(e.toThemeProperty("jqx-menu-item-arrow-"+e._getDir("right"))),u.addClass(e.toThemeProperty("jqx-icon-arrow-"+e._getDir("right")))),u.css("visibility","inherit"),s?(u.css("display","inline-block"),u.css("float","none")):(u.css("display","block"),u.css("float","right"))))),r!=null)){if(f.openVerticalDirection=r,u=n(f.arrow),o=n(f.element),!e.showTopLevelArrows)return;o!=undefined&&(f.arrow==null&&(u=n('<span id="arrow'+o[0].id+'"><\/span>'),s?u.appendTo(o):u.prependTo(o),f.arrow=u[0]),u.removeClass(),f.openVerticalDirection=="down"?(u.addClass(e.toThemeProperty("jqx-menu-item-arrow-down")),u.addClass(e.toThemeProperty("jqx-icon-arrow-down"))):(u.addClass(e.toThemeProperty("jqx-menu-item-arrow-up")),u.addClass(e.toThemeProperty("jqx-icon-arrow-up"))),u.css("visibility","inherit"),s?(u.css("display","inline-block"),u.css("float","none")):(u.css("display","block"),u.css("float","right")))}}},_getSiblings:function(n){for(var i=[],r=0,t=0;t<this.items.length;t++)this.items[t]!=n&&this.items[t].parentId==n.parentId&&this.items[t].hasItems&&(i[r++]=this.items[t]);return i},_openItem:function(t,i,r){var c,p,s,u,w,h,b,k,y,l,a,v,d;if(t==null||i==null||i.isOpen||i.disabled||t.disabled)return!1;c=t.popupZIndex;r!=undefined&&(c=r);p=t.animationHideDuration;t.animationHideDuration=0;t._closeItem(t,i,!0,!0);t.animationHideDuration=p;n(i.element).focus();s=[5,5];u=n(i.subMenuElement);u!=null&&u.stop();u.data("timer")&&u.data("timer").hide!=null&&clearTimeout(u.data("timer").hide);var f=u.closest("div.jqx-menu-popup"),e=n(i.element),o=i.level==0?this._getOffset(i.element):e.position();i.level>0&&this.hasTransform&&(w=parseInt(e.coord().top)-parseInt(this._getOffset(i.element).top),o.top+=w);i.level==0&&this.mode=="popup"&&(o=e.coord());h=i.level==0&&this.mode=="horizontal";b=h?o.left:this.menuElements[i.parentId]!=null&&this.menuElements[i.parentId].subMenuElement!=null?parseInt(n(n(this.menuElements[i.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-s[0]:parseInt(u.outerWidth());f.css({visibility:"visible",display:"block",left:b,top:h?o.top+e.outerHeight():o.top,zIndex:c});u.css("display","block");this.mode!="horizontal"&&i.level==0?(k=this._getOffset(this.element),f.css("left",-1+k.left+this.host.outerWidth()),u.css("left",-u.outerWidth())):(y=this._getClosedSubMenuOffset(i),u.css("left",y.left),u.css("top",y.top));f.css({height:parseInt(u.outerHeight())+parseInt(s[1])+"px"});l=0;a=0;switch(i.openVerticalDirection){case"up":h?(u.css("top",u.outerHeight()),l=s[1],v=parseInt(u.parent().css("padding-bottom")),isNaN(v)&&(v=0),v>0&&f.addClass(this.toThemeProperty("jqx-menu-popup-clear")),u.css("top",u.outerHeight()-v),f.css({display:"block",top:o.top-f.outerHeight(),zIndex:c})):(l=s[1],u.css("top",u.outerHeight()),f.css({display:"block",top:o.top-f.outerHeight()+s[1]+e.outerHeight(),zIndex:c}));break;case"center":h?(u.css("top",0),f.css({display:"block",top:o.top-f.outerHeight()/2+s[1],zIndex:c})):(u.css("top",0),f.css({display:"block",top:o.top+e.outerHeight()/2-f.outerHeight()/2+s[1],zIndex:c}))}switch(i.openHorizontalDirection){case this._getDir("left"):h?f.css({left:o.left-(f.outerWidth()-e.outerWidth()-s[0])}):(a=0,u.css("left",f.outerWidth()),f.css({left:o.left-f.outerWidth()+2*i.level}));break;case"center":h?f.css({left:o.left-(f.outerWidth()/2-e.outerWidth()/2-s[0]/2)}):(f.css({left:o.left-(f.outerWidth()/2-e.outerWidth()/2-s[0]/2)}),u.css("left",f.outerWidth()))}if(h){if(parseInt(u.css("top"))==l){i.isOpen=!0;return}}else if(parseInt(u.css("left"))==a){i.isOpen==!0;return}n.each(t._getSiblings(i),function(){t._closeItem(t,this,!0,!0)});d=n.data(t.element,"animationHideDelay");t.animationHideDelay=d;this.autoCloseInterval>0&&(this.host.data("autoclose")!=null&&this.host.data("autoclose").close!=null&&clearTimeout(this.host.data("autoclose").close),this.host.data("autoclose")!=null&&(this.host.data("autoclose").close=setTimeout(function(){t._closeAll()},this.autoCloseInterval)));u.data("timer")&&(u.data("timer").show=setTimeout(function(){var r;f!=null&&(h?(u.stop(),u.css("left",a),!n.jqx.browser.msie,e.addClass(t.toThemeProperty("jqx-fill-state-pressed")),e.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),i.openVerticalDirection=="down"?(n(i.element).addClass(t.toThemeProperty("jqx-rc-b-expanded")),f.addClass(t.toThemeProperty("jqx-rc-t-expanded"))):(n(i.element).addClass(t.toThemeProperty("jqx-rc-t-expanded")),f.addClass(t.toThemeProperty("jqx-rc-b-expanded"))),r=n(i.arrow),r.length>0&&t.showTopLevelArrows&&(r.removeClass(),i.openVerticalDirection=="down"?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-down-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-up-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),t.animationShowDuration==0?(u.css({top:l}),i.isOpen=!0,t._raiseEvent("0",i),n.jqx.aria(n(i.element),"aria-expanded",!0)):u.animate({top:l},t.animationShowDuration,t.easing,function(){i.isOpen=!0;n.jqx.aria(n(i.element),"aria-expanded",!0);t._raiseEvent("0",i)})):(u.stop(),u.css("top",l),!n.jqx.browser.msie,i.level>0?(e.addClass(t.toThemeProperty("jqx-fill-state-pressed")),e.addClass(t.toThemeProperty("jqx-menu-item-selected")),r=n(i.arrow),r.length>0&&(r.removeClass(),i.openHorizontalDirection!="left"?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))):(e.addClass(t.toThemeProperty("jqx-fill-state-pressed")),e.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),r=n(i.arrow),r.length>0&&(r.removeClass(),i.openHorizontalDirection!="left"?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))),!n.jqx.browser.msie,t.animationShowDuration==0?(u.css({left:a}),t._raiseEvent("0",i),i.isOpen=!0,n.jqx.aria(n(i.element),"aria-expanded",!0)):u.animate({left:a},t.animationShowDuration,t.easing,function(){t._raiseEvent("0",i);i.isOpen=!0;n.jqx.aria(n(i.element),"aria-expanded",!0)})))},this.animationShowDelay))},_getDir:function(n){switch(n){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(t,i){var r=this,e=0,f,u,o,s;r.host.removeClass(r.toThemeProperty("jqx-menu-horizontal"));r.host.removeClass(r.toThemeProperty("jqx-menu-vertical"));r.host.removeClass(r.toThemeProperty("jqx-menu"));r.host.removeClass(r.toThemeProperty("jqx-widget"));r.host.addClass(r.toThemeProperty("jqx-widget"));r.host.addClass(r.toThemeProperty("jqx-menu"));t!=undefined&&i!=undefined&&i=="popup"?r.host.parent().length>0&&r.host.parent().parent().length>0&&r.host.parent().parent()[0]==document.body&&(f=n.data(document.body,"jqxMenuOldHost"+r.element.id),f!=null&&(u=r.host.closest("div.jqx-menu-wrapper"),u.remove(),u.appendTo(f),r.host.css("display","block"),r.host.css("visibility","visible"),u.css("display","block"),u.css("visibility","visible"))):t==undefined&&i==undefined&&n.data(document.body,"jqxMenuOldHost"+r.element.id,r.host.parent()[0]);r.autoOpenPopup?r.mode=="popup"?(r.addHandler(n(document),"contextmenu."+r.element.id,function(){return!1}),r.addHandler(n(document),"mousedown.menu"+r.element.id,function(n){r._openContextMenu(n)})):(r.removeHandler(n(document),"contextmenu."+r.element.id),r.removeHandler(n(document),"mousedown.menu"+r.element.id)):(r.removeHandler(n(document),"contextmenu."+r.element.id),r.removeHandler(n(document),"mousedown.menu"+r.element.id),r.addHandler(n(document),"contextmenu."+r.element.id,function(n){if(n.target&&n.target.className.indexOf&&n.target.className.indexOf("jqx-menu")>=0)return!1}));r.rtl&&r.host.addClass(r.toThemeProperty("jqx-rtl"));switch(r.mode){case"horizontal":r.host.addClass(r.toThemeProperty("jqx-widget-header"));r.host.addClass(r.toThemeProperty("jqx-menu-horizontal"));n.each(r.items,function(){var i=this,u,t;$element=n(i.element);t=n(i.arrow);t.removeClass();i.hasItems&&i.level>0&&(t=n('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"><\/span>'),t.prependTo($element),t.css("float",r._getDir("right")),t.addClass(r.toThemeProperty("jqx-menu-item-arrow-"+r._getDir("right"))),t.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right"))),i.arrow=t[0]);i.level==0&&(n(i.element).css("float",r._getDir("left")),!i.ignoretheme&&i.hasItems&&r.showTopLevelArrows?(t=n('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"><\/span>'),u=n.jqx.browser.msie&&n.jqx.browser.version<8,i.arrow==null?u?t.appendTo($element):t.prependTo($element):t=n(i.arrow),i.openVerticalDirection=="down"?(t.addClass(r.toThemeProperty("jqx-menu-item-arrow-down")),t.addClass(r.toThemeProperty("jqx-icon-arrow-down"))):(t.addClass(r.toThemeProperty("jqx-menu-item-arrow-up")),t.addClass(r.toThemeProperty("jqx-icon-arrow-up"))),t.css("visibility","inherit"),u?t.css("display","inline-block"):(t.css("display","block"),t.css("float","right")),i.arrow=t[0]):i.ignoretheme||!i.hasItems||r.showTopLevelArrows||i.arrow!=null&&(t=n(i.arrow),t.remove(),i.arrow=null),e=Math.max(e,$element.height()))});break;case"vertical":case"popup":case"simple":r.host.addClass(r.toThemeProperty("jqx-menu-vertical"));n.each(r.items,function(){var i=this,t;if($element=n(i.element),i.hasItems&&!i.ignoretheme){if(i.arrow&&n(i.arrow).remove(),r.mode=="simple")return!0;t=n('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"><\/span>');t.prependTo($element);t.css("float","right");i.level==0?(t.addClass(r.toThemeProperty("jqx-menu-item-arrow-top-"+r._getDir("right"))),t.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right")))):(t.addClass(r.toThemeProperty("jqx-menu-item-arrow-"+r._getDir("right"))),t.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right"))));i.arrow=t[0]}$element.css("float","none")});r.mode=="popup"?(r.host.addClass(r.toThemeProperty("jqx-widget-content")),r.host.wrap('<div tabindex=0 class="jqx-menu-wrapper" style="z-index:'+r.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"><\/div>'),u=r.host.closest("div.jqx-menu-wrapper"),r.host.addClass(r.toThemeProperty("jqx-popup")),u[0].id="menuWrapper"+r.element.id,u.appendTo(n(document.body)),r.addHandler(u,"keydown",function(n){return r.handleKeyDown(n)})):r.host.addClass(r.toThemeProperty("jqx-widget-header"));r.mode=="popup"&&(o=r.host.height(),r.host.css("position","absolute"),r.host.css("top","0"),r.host.css("left","0"),r.mode!="simple"&&(r.host.height(o),r.host.css("display","none")))}s=r.isTouchDevice();r.autoCloseOnClick&&(r.removeHandler(n(document),"mousedown.menu"+r.element.id,r._closeAfterClick),r.addHandler(n(document),"mousedown.menu"+r.element.id,r._closeAfterClick,r),s&&(r.removeHandler(n(document),n.jqx.mobile.getTouchEventName("touchstart")+".menu"+r.element.id,r._closeAfterClick,r),r.addHandler(n(document),n.jqx.mobile.getTouchEventName("touchstart")+".menu"+r.element.id,r._closeAfterClick,r)))},_getBodyOffset:function(){var t=0,i=0;return n("body").css("border-top-width")!="0px"&&(t=parseInt(n("body").css("border-top-width")),isNaN(t)&&(t=0)),n("body").css("border-left-width")!="0px"&&(i=parseInt(n("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_getOffset:function(t){var u=n.jqx.mobile.isSafariMobileBrowser(),f=n(t).coord(!0),i=f.top,r=f.left,e,o;return n("body").css("border-top-width")!="0px"&&(i=parseInt(i)+this._getBodyOffset().top),n("body").css("border-left-width")!="0px"&&(r=parseInt(r)+this._getBodyOffset().left),e=n.jqx.mobile.isWindowsPhone(),o=n.jqx.mobile.isTouchDevice(),this.hasTransform||u!=null&&u||e||o?{left:n.jqx.mobile.getLeftPos(t),top:n.jqx.mobile.getTopPos(t)}:{left:r,top:i}},_isRightClick:function(n){var t,n;return n||(n=window.event),n.which?t=n.which==3:n.button&&(t=n.button==2),t},_openContextMenu:function(n){var t=this,i=t._isRightClick(n);i&&t.open(parseInt(n.clientX)+5,parseInt(n.clientY)+5)},close:function(){var t=this,i=n.data(this.element,"contextMenuOpened"+this.element.id),r;i&&(r=this.host,n.each(t.items,function(){var n=this;n.hasItems&&t._closeItem(t,n)}),n.each(t.items,function(){var t=this,i;t.isOpen==!0&&($submenu=n(t.subMenuElement),i=$submenu.closest("div.jqx-menu-popup"),i.hide(this.animationHideDuration))}),this.host.hide(this.animationHideDuration),n.data(t.element,"contextMenuOpened"+this.element.id,!1),t._raiseEvent("1",t),t._raiseEvent("5"));t.minimized&&!t.minimizedHidden&&($("#menuWrapper"+this.element.id).hide(),t.minimizedHidden=!0,$body.unbind(".jqx"))},open:function(t,i){var u,r;this.mode=="popup"&&(u=0,this.host.css("display")=="block"&&(this.close(),u=this.animationHideDuration),r=this,(t==undefined||t==null)&&(t=0),(i==undefined||i==null)&&(i=0),setTimeout(function(){r.host.show(r.animationShowDuration);r.host.css("visibility","visible");n.data(r.element,"contextMenuOpened"+r.element.id,!0);r._raiseEvent("0",r);r._raiseEvent("4",{left:t,top:i});r.host.css("z-index",9999);t!=undefined&&i!=undefined&&r.host.css({left:t,top:i});r.focus()},u))},_renderHover:function(n,t){var i=this;t.ignoretheme||(this.addHandler(n,"mouseenter",function(){i.hoveredItem=t;t.disabled||t.separator||!i.enableHover||i.disabled||(t.level>0?(n.addClass(i.toThemeProperty("jqx-fill-state-hover")),n.addClass(i.toThemeProperty("jqx-menu-item-hover"))):(n.addClass(i.toThemeProperty("jqx-fill-state-hover")),n.addClass(i.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(n,"mouseleave",function(){t.disabled||t.separator||!i.enableHover||i.disabled||(t.level>0?(n.removeClass(i.toThemeProperty("jqx-fill-state-hover")),n.removeClass(i.toThemeProperty("jqx-menu-item-hover"))):(n.removeClass(i.toThemeProperty("jqx-fill-state-hover")),n.removeClass(i.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(t){var i=t!=null?t.data:this,r=!1;i.autoCloseOnClick&&(n.each(n(t.target).parents(),function(){if(this.className.indexOf&&this.className.indexOf("jqx-menu")!=-1)return r=!0,!1}),r||(t.data=i,i._closeAll(t)))},_autoSizeHorizontalMenuItems:function(){var i=this,t;i.autoSizeMainItems&&this.mode=="horizontal"&&(t=this.maxHeight,parseInt(t)>parseInt(this.host.height())&&(t=parseInt(this.host.height())),t=parseInt(this.host.height()),n.each(this.items,function(){var f=this,u;if($element=n(f.element),f.level==0&&t>0){var h=$element.children().length>0?parseInt($element.children().height()):$element.height(),e=i.host.find("ul:first"),c=parseInt(e.css("padding-top")),l=parseInt(e.css("margin-top")),o=t-2*(l+c),s=parseInt(o)/2-h/2,r=parseInt(s),a=parseInt(s);$element.css("padding-top",r);$element.css("padding-bottom",a);parseInt($element.outerHeight())>o&&(u=1,$element.css("padding-top",r-u),r=r-u)}}));n.each(this.items,function(){var t=this,r,i;$element=n(t.element);t.hasItems&&t.level>0&&t.arrow&&(r=n(t.arrow),i=n(t.element).height(),i>15&&r.css("margin-top",(i-15)/2))})},_nextVisibleItem:function(n,t){if(n==null||n==undefined)return null;for(var i=n;i!=null;)if(i=i.nextItem,this._isVisible(i)&&!i.disabled&&i.type!=="separator"){if(this.minimized)return i;if(t!=undefined&&i&&i.level!=t)continue;return i}return null},_prevVisibleItem:function(n,t){if(n==null||n==undefined)return null;for(var i=n;i!=null;)if(i=i.prevItem,this._isVisible(i)&&!i.disabled&&i.type!=="separator"){if(this.minimized)return i;if(t!=undefined&&i&&i.level!=t)continue;return i}return null},_parentItem:function(t){var i,r;return t==null||t==undefined?null:(i=t.parentElement,!i)?null:(r=null,n.each(this.items,function(){if(this.element==i)return r=this,!1}),r)},_isElementVisible:function(t){return t==null?!1:n(t).css("display")!="none"&&n(t).css("visibility")!="hidden"?!0:!1},_isVisible:function(n){if(n==null||n==undefined||!this._isElementVisible(n.element))return!1;var t=this._parentItem(n);if(t==null||this.minimized)return!0;if(t!=null){if(!this._isElementVisible(t.element))return!1;if(t.isOpen||this.minimized){while(t!=null)if((t=this._parentItem(t),t!=null&&!this._isElementVisible(t.element))||t!=null&&!t.isOpen)return!1}else return!1}return!0},_render:function(t,i){var s;this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled")));this.host.attr("tabindex")==undefined&&this.host.attr("tabindex",0);var e=this.popupZIndex,o=[5,5],r=this;n.data(r.element,"animationHideDelay",r.animationHideDelay);var u=this.isTouchDevice(),f=u&&(n.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0),h=!1;navigator.platform.toLowerCase().indexOf("win")!=-1&&(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0?this.touchDevice=!0:navigator.userAgent.indexOf("Touch")>=0&&(s="MSPointerDown"in window,(s||n.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0)&&(h=!0,f=!0,r.clickToOpen=!0,r.autoCloseOnClick=!1,r.enableHover=!1)));n.data(document.body,"menuel",this);this.hasTransform=n.jqx.utilities.hasTransform(this.host);this._applyOrientation(t,i);this.removeHandler(this.host,"blur");this.removeHandler(this.host,"focus");this.addHandler(this.host,"blur",function(){if(r.keyboardNavigation&&r.activeItem){if(r.mode==="popup"&&document.activeElement&&document.activeElement.className.indexOf("jqx-menu-wrapper")>=0)return;n(r.activeItem.element).removeClass(r.toThemeProperty("jqx-fill-state-focus"));r.activeItem=null}});this.addHandler(this.host,"focus",function(){if(r.keyboardNavigation&&!r.activeItem)if(r.hoveredItem)n(r.hoveredItem.element).addClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=r.hoveredItem;else{var t=function(){if(n.jqx.isHidden(n(r.items[0].element))){var t=r._nextVisibleItem(r.items[0],0);t&&(n(t.element).addClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=t)}else n(r.items[0].element).addClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=r.items[0]};r.activeItem?n.jqx.isHidden(n(r.activeItem.element))?(n(r.activeItem.element).removeClass(r.toThemeProperty("jqx-fill-state-focus")),t()):n(r.activeItem.element).addClass(r.toThemeProperty("jqx-fill-state-focus")):t()}});this.removeHandler(this.host,"keydown");r.handleKeyDown=function(t){var i,a,p,o,l,v,w,y,f,s,u,e,b,c;if(r.keyboardNavigation){if(t.target.nodeName.toLowerCase()==="input")return!0;if(i=null,a=null,n.each(r.items,function(){var n=this;return this.disabled?!0:(this.element.className.indexOf("pressed")>=0&&(a=this),this.element.className.indexOf("focus")>=0?(i=this,!1):void 0)}),!i&&a&&(i=a),i||(n(r.items[0].element).addClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=r.items[0],i=r.activeItem),p=!1,t.keyCode==27){if(t.data=r,r._closeAll(t),i)for(o=i;o!=null;)o.parentItem?o=o.parentItem:(n(r.activeItem.element).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=o,n(r.activeItem.element).addClass(r.toThemeProperty("jqx-fill-state-focus")),o=o.parentItem);p=!0}t.keyCode==13&&i&&(p=!0,r._raiseEvent("2",{item:i.element,event:t,type:"keyboard"}),l=i.anchor!=null?n(i.anchor):null,l!=null&&l.length>0&&(v=l.attr("href"),w=l.attr("target"),v!=null&&(w!=null?window.open(v,w):window.location=v)),t.preventDefault(),t.stopPropagation(),n(i.element).focus());y=function(n){var i,u,t;if(n==null)return[];for(i=[],u=0,t=0;t<r.items.length;t++)r.items[t].parentId==n.parentId&&(i[u++]=r.items[t]);return i};f="";switch(t.keyCode){case 40:f="down";break;case 38:f="up";break;case 39:f="right";break;case 37:f="left"}if(i&&i.openHorizontalDirection==="left"&&f==="left"&&(f="right"),i&&i.openHorizontalDirection==="left"&&f==="right"&&(f="left"),i&&i.openVerticalDirection==="top"&&f==="top"&&(f="bottom"),i&&i.openVerticalDirection==="top"&&f==="bottom"&&(f="top"),r.rtl&&(f==="right"?f="left":f==="left"&&(f="right")),f==="right"&&!r.minimized){if(t.altKey&&(i.level!=0&&i.hasItems||r.mode!="horizontal"))r._openItem(r,i);else{var u=r._nextVisibleItem(i,0),h=r._nextVisibleItem(i),e=y(h);u||(u=h);u&&(u.parentId===i.parentId&&u.level==0&&r.mode=="horizontal"||h.id==e[0].id&&h.level!=0)&&(h.id==e[0].id&&(i.level!=0||i.level==0&&r.mode!="horizontal")&&(u=h),n(u.element).addClass(r.toThemeProperty("jqx-fill-state-focus")),n(i.element).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=u)}t.preventDefault();t.stopPropagation()}if(f!=="left"||r.minimized||(t.altKey&&(i.level!=0&&r.mode!=="horizontal"||i.level>1&&r.mode==="horizontal"||i.level==1&&i.hasItems&&r.mode==="horizontal")?i.hasItems?r._closeItem(r,i):i.parentItem&&(r._closeItem(r,i.parentItem),n(i.parentItem.element).addClass(r.toThemeProperty("jqx-fill-state-focus")),n(i.element).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=i.parentItem):(u=r._prevVisibleItem(i,0),s=i.parentItem,u&&u.parentId===i.parentId&&u.level==0&&r.mode=="horizontal"?(n(u.element).addClass(r.toThemeProperty("jqx-fill-state-focus")),n(i.element).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=u):s&&s.level==0&&r.mode=="horizontal"||!s||s.level!=i.level-1||(n(s.element).addClass(r.toThemeProperty("jqx-fill-state-focus")),n(i.element).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=s)),t.preventDefault(),t.stopPropagation()),f==="down"?(t.altKey?(i.level==0&&i.hasItems&&r._openItem(r,i),r.minimized&&r.minimizedHidden&&r.minimizedItem.trigger("click")):(u=r._nextVisibleItem(i,i.level),e=y(u),r.minimized&&u?(n(u.element).addClass(r.toThemeProperty("jqx-fill-state-focus")),n(i.element).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=u):(u&&(u.parentId===i.parentId||u.id==e[0].id&&r.mode=="horizontal")&&(u.level==0&&r.mode=="horizontal"||(n(u.element).addClass(r.toThemeProperty("jqx-fill-state-focus")),n(i.element).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=u)),r.mode==="horizontal"&&i.level===0&&i.isOpen&&i.hasItems&&(u=r._nextVisibleItem(i),n(u.element).addClass(r.toThemeProperty("jqx-fill-state-focus")),n(i.element).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=u))),t.preventDefault(),t.stopPropagation()):f==="up"&&(t.altKey?(i.parentItem&&i.parentItem.level==0?(r._closeItem(r,i.parentItem),n(i.parentItem.element).addClass(r.toThemeProperty("jqx-fill-state-focus")),n(i.element).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=i.parentItem):i.parentItem===null&&i.level===0&&r.mode==="horizontal"&&r._closeItem(r,i),r.minimized&&(r.minimizedHidden||r.minimizedItem.trigger("click"))):(u=r._prevVisibleItem(i,i.level),e=y(i),r.minimized&&u?(n(u.element).addClass(r.toThemeProperty("jqx-fill-state-focus")),n(i.element).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=u):u&&(u.parentId===i.parentId||u.id==i.parentId&&u.level==0&&r.mode=="horizontal")?u.level==0&&r.mode==="horizontal"&&i.level===0||(n(u.element).addClass(r.toThemeProperty("jqx-fill-state-focus")),n(i.element).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=u):i&&i.id==e[0].id&&i.parentItem&&i.parentItem.level===0&&r.mode==="horizontal"&&(u=i.parentItem,n(u.element).addClass(r.toThemeProperty("jqx-fill-state-focus")),n(i.element).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=u)),t.preventDefault(),t.stopPropagation()),t.keyCode==9)if(u=t.shiftKey?r._prevVisibleItem(i):r._nextVisibleItem(i),u)n(u.element).addClass(r.toThemeProperty("jqx-fill-state-focus")),n(i.element).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=u,t.preventDefault(),t.stopPropagation();else if(r.lockFocus){for(e=[],b=0,c=0;c<r.items.length;c++)r.items[c]!=i&&r.items[c].parentId==i.parentId&&(e[b++]=r.items[c]);e.length>0&&(t.shiftKey?(n(e[e.length-1].element).addClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=e[e.length-1]):(n(e[0].element).addClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=e[0]),n(i.element).removeClass(r.toThemeProperty("jqx-fill-state-focus")));t.preventDefault();t.stopPropagation()}else i&&(n(i.element).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=null)}else return!0};this.addHandler(this.host,"keydown",function(n){r.handleKeyDown(n)});r.enableRoundedCorners&&this.host.addClass(r.toThemeProperty("jqx-rc-all"));n.each(this.items,function(){var t=this,s=n(t.element),i,h,c;if(s.attr("role","menuitem"),r.enableRoundedCorners&&s.addClass(r.toThemeProperty("jqx-rc-all")),r.removeHandler(s,"click"),r.addHandler(s,"click",function(i){var f,e,o;t.disabled||r.disabled||(r.keyboardNavigation&&(r.activeItem&&n(r.activeItem.element).removeClass(r.toThemeProperty("jqx-fill-state-focus")),r.activeItem=t,n(t.element).addClass(r.toThemeProperty("jqx-fill-state-focus")),r.minimized&&i.stopPropagation()),r._raiseEvent("2",{type:"mouse",item:t.element,event:i}),r.autoOpen?!r.autoCloseOnClick||u||r.clickToOpen||t.closeOnClick&&(i.data=r,r._closeAll(i)):t.level>0&&(!r.autoCloseOnClick||u||r.clickToOpen||(i.data=r,r._closeAll(i))),u&&r.autoCloseOnClick&&(i.data=r,t.hasItems||r._closeAll(i)),i.target.tagName!="A"&&i.target.tagName!="a"&&(f=t.anchor!=null?n(t.anchor):null,f!=null&&f.length>0&&(e=f.attr("href"),o=f.attr("target"),e!=null&&(o!=null?window.open(e,o):window.location=e))))}),r.removeHandler(s,"mouseenter"),r.removeHandler(s,"mouseleave"),f||r.mode=="simple"||r._renderHover(s,t,u),t.subMenuElement!=null){if(i=n(t.subMenuElement),r.mode=="simple")return i.show(),!0;if(i.wrap('<div class="jqx-menu-popup '+r.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+e+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"><\/div><\/div>'),i.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-i.outerHeight()}),i.data("timer",{}),t.level>0?i.css("left",-i.outerWidth()):r.mode=="horizontal"&&i.css("left",0),e++,h=n(t.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(n(t.subMenuElement).outerWidth())+parseInt(o[0])+"px",height:parseInt(n(t.subMenuElement).outerHeight())+parseInt(o[1])+"px"}),c=s.closest("div.jqx-menu-popup"),c.length>0){var l=i.css("margin-left"),a=i.css("margin-right"),v=i.css("padding-left"),y=i.css("padding-right");h.appendTo(c);i.css("margin-left",l);i.css("margin-right",a);i.css("padding-left",v);i.css("padding-right",y)}else{var l=i.css("margin-left"),a=i.css("margin-right"),v=i.css("padding-left"),y=i.css("padding-right");h.appendTo(n(document.body));i.css("margin-left",l);i.css("margin-right",a);i.css("padding-left",v);i.css("padding-right",y)}r.clickToOpen?(r.removeHandler(s,"mousedown"),r.addHandler(s,"mousedown",function(n){clearTimeout(i.data("timer").hide);i!=null&&i.stop();t.level!=0||t.isOpen||(n.data=r,r._closeAll(n));t.isOpen?r._closeItem(r,t,!0):r._openItem(r,t)})):((u||f)&&(r.removeHandler(s,n.jqx.mobile.getTouchEventName("touchstart")),r.addHandler(s,n.jqx.mobile.getTouchEventName("touchstart"),function(n){return clearTimeout(i.data("timer").hide),i!=null&&i.stop(),t.level!=0||t.isOpen||r.mode=="popup"||(n.data=r,r._closeAll(n)),t.isOpen?r._closeItem(r,t,!0):r._openItem(r,t),!1})),f||(r.addHandler(s,"mouseenter",function(){if((r.autoOpen||t.level>0&&!r.autoOpen)&&clearTimeout(i.data("timer").hide),t.parentId&&t.parentId!=0&&r.menuElements[t.parentId]){var n=r.menuElements[t.parentId].isOpen;if(!n)return}return(r.autoOpen||t.level>0&&!r.autoOpen)&&r._openItem(r,t),!1}),r.addHandler(s,"mousedown",function(){r.autoOpen||t.level!=0||(clearTimeout(i.data("timer").hide),i!=null&&i.stop(),t.isOpen?r._closeItem(r,t,!0):r._openItem(r,t))}),r.addHandler(s,"mouseleave",function(u){if(r.autoCloseOnMouseLeave){clearTimeout(i.data("timer").hide);var e=n(t.subMenuElement),o={left:parseInt(u.pageX),top:parseInt(u.pageY)},f={left:parseInt(e.coord().left),top:parseInt(e.coord().top),width:parseInt(e.outerWidth()),height:parseInt(e.outerHeight())},s=!0;f.left-5<=o.left&&o.left<=f.left+f.width+5&&f.top<=o.top&&o.top<=f.top+f.height&&(s=!1);s&&r._closeItem(r,t,!0)}}),r.removeHandler(h,"mouseenter"),r.addHandler(h,"mouseenter",function(){clearTimeout(i.data("timer").hide)}),r.removeHandler(h,"mouseleave"),r.addHandler(h,"mouseleave",function(){r.autoCloseOnMouseLeave&&(clearTimeout(i.data("timer").hide),clearTimeout(i.data("timer").show),i!=null&&i.stop(),r._closeItem(r,t,!0))})))}});this.mode=="simple"&&this._renderSimpleMode();this._autoSizeHorizontalMenuItems();this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var n=Math.random()+"";for(n=n.replace(".",""),n="99"+n,n=n/1;this.items[n];)n=Math.random()+"",n=n.replace(".",""),n=n/1;return"menuItem"+n},_createMenu:function(t,i){var c,s,f,v,d,w,b,a,h,k,r;if(t!=null){i==undefined&&(i=!0);i==null&&(i=!0);var nt=this,e=n(t).find("li"),o=0;for(this.itemMapping=[],c=0;c<e.length;c++)if(s=e[c],f=n(s),s.className.indexOf("jqx-menu")!=-1||this.autoGenerate!=!1){v=s.id;v||(v=this.createID());i&&(s.id=v,this.items[o]=new n.jqx._jqxMenu.jqxMenuItem,this.menuElements[v]=this.items[o]);o+=1;var p=0,u=this,g=f.children();g.each(function(){return(i||(this.className="",u.autoGenerate&&(n(u.items[o-1].subMenuElement)[0].className="",u.minimized||n(u.items[o-1].subMenuElement).addClass(u.toThemeProperty("jqx-widget-content")),n(u.items[o-1].subMenuElement).addClass(u.toThemeProperty("jqx-menu-dropdown")),n(u.items[o-1].subMenuElement).addClass(u.toThemeProperty("jqx-popup")))),this.className.indexOf("jqx-menu-dropdown")!=-1)?(i&&(u.items[o-1].subMenuElement=this),!1):u.autoGenerate&&(this.tagName=="ul"||this.tagName=="UL")?(i&&(u.items[o-1].subMenuElement=this),this.className="",u.minimized||n(this).addClass(u.toThemeProperty("jqx-widget-content")),n(this).addClass(u.toThemeProperty("jqx-menu-dropdown")),n(this).addClass(u.toThemeProperty("jqx-popup")),n(this).attr("role","menu"),u.rtl?n(this).addClass(u.toThemeProperty("jqx-rc-l")):n(this).addClass(u.toThemeProperty("jqx-rc-r")),n(this).addClass(u.toThemeProperty("jqx-rc-b")),!1):void 0});d=f.parents();d.each(function(){return this.className.indexOf("jqx-menu-item")!=-1?(p=this.id,!1):u.autoGenerate&&(this.tagName=="li"||this.tagName=="LI")?(p=this.id,!1):void 0});var w=!1,y=s.getAttribute("type"),l=s.getAttribute("ignoretheme")||s.getAttribute("data-ignoretheme");l?(l=="true"||l==!0)&&(l=!0):l=!1;y?y=="separator"&&(w=!0):y=s.type;w||(y=p?"sub":"top");r=this.items[o-1];i&&(r.id=v,r.parentId=p,r.type=y,r.separator=w,r.element=e[c],b=f.children("a"),r.disabled=s.getAttribute("item-disabled")=="true"?!0:!1,r.level=f.parents("li").length,r.anchor=b.length>0?b:null,r.anchor&&n(r.anchor).attr("tabindex",-1));r.ignoretheme=l;a=this.menuElements[p];a!=null&&(a.ignoretheme&&(r.ignoretheme=a.ignoretheme,l=a.ignoretheme),r.parentItem=a,r.parentElement=a.element);this.autoGenerate&&(y=="separator"?(f.removeClass(),f.addClass(this.toThemeProperty("jqx-menu-item-separator")),f.attr("role","separator")):l||(f[0].className=f[0].className.indexOf("jqx-grid-menu-item-touch")>=0?this.toThemeProperty("jqx-grid-menu-item-touch"):"",this.rtl&&f.addClass(this.toThemeProperty("jqx-rtl")),r.level>0&&!u.minimized?(f.addClass(this.toThemeProperty("jqx-item")),f.addClass(this.toThemeProperty("jqx-menu-item"))):(f.addClass(this.toThemeProperty("jqx-item")),f.addClass(this.toThemeProperty("jqx-menu-item-top")))));r.disabled&&(f.addClass(u.toThemeProperty("jqx-menu-item-disabled")),f.addClass(u.toThemeProperty("jqx-fill-state-disabled")));this.itemMapping[c]={element:e[c],item:r};this.itemMapping["id"+e[c].id]=this.itemMapping[c];i&&!l&&(r.hasItems=f.find("li").length>0,r.hasItems&&r.element&&(n.jqx.aria(n(r.element),"aria-haspopup",!0),r.subMenuElement.id||(r.subMenuElement.id=n.jqx.utilities.createId()),n.jqx.aria(n(r.element),"aria-owns",r.subMenuElement.id)))}for(h=0;h<e.length;h++)if(k=e[h],this.itemMapping["id"+k.id]){if(r=this.itemMapping["id"+k.id].item,!r)continue;r.prevItem=null;r.nextItem=null;h>0&&this.itemMapping["id"+e[h-1].id]&&(r.prevItem=this.itemMapping["id"+e[h-1].id].item);h<e.length-1&&this.itemMapping["id"+e[h+1].id]&&(r.nextItem=this.itemMapping["id"+e[h+1].id].item)}}},destroy:function(){var t=this,i,r;n.jqx.utilities.resize(t.host,null,!0);i=t.host.closest("div.jqx-menu-wrapper");t.removeHandler(i,"keydown");i.remove();t.removeHandler(n("#menuWrapper"+t.element.id),"keydown");n("#menuWrapper"+t.element.id).remove();t.removeHandler(t.host,"keydown");t.removeHandler(t.host,"focus");t.removeHandler(t.host,"blur");t.removeHandler(n(document),"mousedown.menu"+t.element.id,t._closeAfterClick);t.removeHandler(n(document),"mouseup.menu"+t.element.id,t._closeAfterClick);t.removeHandler(n(document),"contextmenu."+t.element.id);t.removeHandler(t.host,"contextmenu."+t.element.id);n.data(document.body,"jqxMenuOldHost"+t.element.id,null);t.isTouchDevice()&&t.removeHandler(n(document),n.jqx.mobile.getTouchEventName("touchstart")+".menu"+t.element.id,t._closeAfterClick,this);n(window).off&&n(window).off("resize.menu"+t.element.id);n.each(t.items,function(){var r=this,i=n(r.element),u,f;t.removeHandler(i,"click");t.removeHandler(i,"selectstart");t.removeHandler(i,"mouseenter");t.removeHandler(i,"mouseleave");t.removeHandler(i,"mousedown");t.removeHandler(i,"mouseleave");u=n(r.subMenuElement);f=u.closest("div.jqx-menu-popup");f.remove();delete this.subMenuElement;delete this.element});n.data(document.body,"menuel",null);delete t.menuElements;t.items=[];delete t.items;r=n.data(t.element,"jqxMenu");r&&delete r.instance;t.host.removeClass();t.host.remove();delete t.host;delete t.element},_raiseEvent:function(t,i){var u,r;return i==undefined&&(i={owner:null}),u=this.events[t],args=i,args.owner=this,r=new n.Event(u),t=="2"&&(args=i.item,args.owner=this,args.clickType=i.type,n.extend(r,i.event),r.type="itemclick"),r.owner=this,r.args=args,this.host&&this.host.trigger(r)},propertiesChangedHandler:function(t,i,r){var u,f;r.width&&r.height&&Object.keys(r).length==2&&(t._setSize(),t.mode==="popup"&&(u=this.host.closest("div.jqx-menu-wrapper"),u[i](r),f=this.host[0].id,n("#"+f)[i](r)))},propertyChangedHandler:function(t,i,r,u){var e,o,s,f;if(this.isInitialized!=undefined&&this.isInitialized!=!1&&(!t.batchUpdate||!t.batchUpdate.width||!t.batchUpdate.height||Object.keys(t.batchUpdate).length!=2)&&(i=="disabled"&&(t.disabled?(t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-menu-disabled"))):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(t.toThemeProperty("jqx-menu-disabled")))),u!=r)){if(i=="touchMode"&&(this._isTouchDevice=null,t._render(u,r)),i==="width"||i==="height"){t._setSize();t.mode==="popup"&&(e=this.host.closest("div.jqx-menu-wrapper"),e[i](u),o=this.host[0].id,n("#"+o)[i](u));return}i=="source"&&t.source!=null&&(s=t.loadItems(t.source),t.element.innerHTML=s,f=t.host.find("ul:first"),f.length>0&&(t.refresh(),t._createMenu(f[0]),t._render()));i=="autoCloseOnClick"?u==!1?t.removeHandler(n(document),"mousedown.menu"+this.element.id,t._closeAll):t.addHandler(n(document),"mousedown.menu"+this.element.id,t,t._closeAll):i=="mode"||i=="width"||i=="height"||i=="showTopLevelArrows"?(t.refresh(),i=="mode"?t._render(u,r):t._applyOrientation()):i=="theme"&&n.jqx.utilities.setTheme(r,u,t.host)}}})}(jqxBaseFramework),function(n){n.jqx._jqxMenu.jqxMenuItem=function(n,t,i){return{id:n,parentId:t,parentItem:null,anchor:null,type:i,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0}}}(jqxBaseFramework);